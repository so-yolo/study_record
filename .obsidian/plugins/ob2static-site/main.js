/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD AT 2024-11-12T23:17:55.027Z
if you want to view the source, please visit the github repository of this plugin
*/

var Nm=Object.create;var Xi=Object.defineProperty;var Rm=Object.getOwnPropertyDescriptor;var $m=Object.getOwnPropertyNames;var Pm=Object.getPrototypeOf,Mm=Object.prototype.hasOwnProperty;var Lm=(t,e)=>()=>(t&&(e=t(t=0)),e);var j=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),jm=(t,e)=>{for(var r in e)Xi(t,r,{get:e[r],enumerable:!0})},zu=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of $m(e))!Mm.call(t,i)&&i!==r&&Xi(t,i,{get:()=>e[i],enumerable:!(n=Rm(e,i))||n.enumerable});return t};var Nt=(t,e,r)=>(r=t!=null?Nm(Pm(t)):{},zu(e||!t||!t.__esModule?Xi(r,"default",{value:t,enumerable:!0}):r,t)),Um=t=>zu(Xi({},"__esModule",{value:!0}),t);var Hu=j(Ji=>{"use strict";d();Ji.byteLength=qm;Ji.toByteArray=Hm;Ji.fromByteArray=Wm;var gt=[],He=[],zm=typeof Uint8Array!="undefined"?Uint8Array:Array,ro="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(vr=0,qu=ro.length;vr<qu;++vr)gt[vr]=ro[vr],He[ro.charCodeAt(vr)]=vr;var vr,qu;He[45]=62;He[95]=63;function Zu(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function qm(t){var e=Zu(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Zm(t,e,r){return(e+r)*3/4-r}function Hm(t){var e,r=Zu(t),n=r[0],i=r[1],s=new zm(Zm(t,n,i)),a=0,o=i>0?n-4:n,u;for(u=0;u<o;u+=4)e=He[t.charCodeAt(u)]<<18|He[t.charCodeAt(u+1)]<<12|He[t.charCodeAt(u+2)]<<6|He[t.charCodeAt(u+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return i===2&&(e=He[t.charCodeAt(u)]<<2|He[t.charCodeAt(u+1)]>>4,s[a++]=e&255),i===1&&(e=He[t.charCodeAt(u)]<<10|He[t.charCodeAt(u+1)]<<4|He[t.charCodeAt(u+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function Km(t){return gt[t>>18&63]+gt[t>>12&63]+gt[t>>6&63]+gt[t&63]}function Vm(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(Km(n));return i.join("")}function Wm(t){for(var e,r=t.length,n=r%3,i=[],s=16383,a=0,o=r-n;a<o;a+=s)i.push(Vm(t,a,a+s>o?o:a+s));return n===1?(e=t[r-1],i.push(gt[e>>2]+gt[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(gt[e>>10]+gt[e>>4&63]+gt[e<<2&63]+"=")),i.join("")}});var Ku=j(no=>{d();no.read=function(t,e,r,n,i){var s,a,o=i*8-n-1,u=(1<<o)-1,c=u>>1,l=-7,f=r?i-1:0,h=r?-1:1,p=t[e+f];for(f+=h,s=p&(1<<-l)-1,p>>=-l,l+=o;l>0;s=s*256+t[e+f],f+=h,l-=8);for(a=s&(1<<-l)-1,s>>=-l,l+=n;l>0;a=a*256+t[e+f],f+=h,l-=8);if(s===0)s=1-c;else{if(s===u)return a?NaN:(p?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-c}return(p?-1:1)*a*Math.pow(2,s-n)};no.write=function(t,e,r,n,i,s){var a,o,u,c=s*8-i-1,l=(1<<c)-1,f=l>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,w=n?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+f>=1?e+=h/u:e+=h*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=l?(o=0,a=l):a+f>=1?(o=(e*u-1)*Math.pow(2,i),a=a+f):(o=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[r+p]=o&255,p+=w,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;t[r+p]=a&255,p+=w,a/=256,c-=8);t[r+p-w]|=g*128}});var ho=j(un=>{"use strict";d();var io=Hu(),on=Ku(),Vu=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;un.Buffer=S;un.SlowBuffer=e0;un.INSPECT_MAX_BYTES=50;var Qi=2147483647;un.kMaxLength=Qi;S.TYPED_ARRAY_SUPPORT=Gm();!S.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Gm(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(t){return!1}}Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}});Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}});function Rt(t){if(t>Qi)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,S.prototype),e}function S(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return co(t)}return Xu(t,e,r)}S.poolSize=8192;function Xu(t,e,r){if(typeof t=="string")return Xm(t,e);if(ArrayBuffer.isView(t))return Jm(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(wt(t,ArrayBuffer)||t&&wt(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(wt(t,SharedArrayBuffer)||t&&wt(t.buffer,SharedArrayBuffer)))return ao(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return S.from(n,e,r);let i=Qm(t);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return S.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}S.from=function(t,e,r){return Xu(t,e,r)};Object.setPrototypeOf(S.prototype,Uint8Array.prototype);Object.setPrototypeOf(S,Uint8Array);function Ju(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Ym(t,e,r){return Ju(t),t<=0?Rt(t):e!==void 0?typeof r=="string"?Rt(t).fill(e,r):Rt(t).fill(e):Rt(t)}S.alloc=function(t,e,r){return Ym(t,e,r)};function co(t){return Ju(t),Rt(t<0?0:uo(t)|0)}S.allocUnsafe=function(t){return co(t)};S.allocUnsafeSlow=function(t){return co(t)};function Xm(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!S.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=Qu(t,e)|0,n=Rt(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function so(t){let e=t.length<0?0:uo(t.length)|0,r=Rt(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Jm(t){if(wt(t,Uint8Array)){let e=new Uint8Array(t);return ao(e.buffer,e.byteOffset,e.byteLength)}return so(t)}function ao(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,S.prototype),n}function Qm(t){if(S.isBuffer(t)){let e=uo(t.length)|0,r=Rt(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||fo(t.length)?Rt(0):so(t);if(t.type==="Buffer"&&Array.isArray(t.data))return so(t.data)}function uo(t){if(t>=Qi)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Qi.toString(16)+" bytes");return t|0}function e0(t){return+t!=t&&(t=0),S.alloc(+t)}S.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==S.prototype};S.compare=function(e,r){if(wt(e,Uint8Array)&&(e=S.from(e,e.offset,e.byteLength)),wt(r,Uint8Array)&&(r=S.from(r,r.offset,r.byteLength)),!S.isBuffer(e)||!S.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let s=0,a=Math.min(n,i);s<a;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0};S.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};S.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return S.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=S.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){let a=e[n];if(wt(a,Uint8Array))s+a.length>i.length?(S.isBuffer(a)||(a=S.from(a)),a.copy(i,s)):Uint8Array.prototype.set.call(i,a,s);else if(S.isBuffer(a))a.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=a.length}return i};function Qu(t,e){if(S.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||wt(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return oo(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return cl(t).length;default:if(i)return n?-1:oo(t).length;e=(""+e).toLowerCase(),i=!0}}S.byteLength=Qu;function t0(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return f0(this,e,r);case"utf8":case"utf-8":return tl(this,e,r);case"ascii":return u0(this,e,r);case"latin1":case"binary":return l0(this,e,r);case"base64":return o0(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d0(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}S.prototype._isBuffer=!0;function xr(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}S.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)xr(this,r,r+1);return this};S.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)xr(this,r,r+3),xr(this,r+1,r+2);return this};S.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)xr(this,r,r+7),xr(this,r+1,r+6),xr(this,r+2,r+5),xr(this,r+3,r+4);return this};S.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?tl(this,0,e):t0.apply(this,arguments)};S.prototype.toLocaleString=S.prototype.toString;S.prototype.equals=function(e){if(!S.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:S.compare(this,e)===0};S.prototype.inspect=function(){let e="",r=un.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};Vu&&(S.prototype[Vu]=S.prototype.inspect);S.prototype.compare=function(e,r,n,i,s){if(wt(e,Uint8Array)&&(e=S.from(e,e.offset,e.byteLength)),!S.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;let a=s-i,o=n-r,u=Math.min(a,o),c=this.slice(i,s),l=e.slice(r,n);for(let f=0;f<u;++f)if(c[f]!==l[f]){a=c[f],o=l[f];break}return a<o?-1:o<a?1:0};function el(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,fo(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=S.from(e,n)),S.isBuffer(e))return e.length===0?-1:Wu(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Wu(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Wu(t,e,r,n,i){let s=1,a=t.length,o=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,a/=2,o/=2,r/=2}function u(l,f){return s===1?l[f]:l.readUInt16BE(f*s)}let c;if(i){let l=-1;for(c=r;c<a;c++)if(u(t,c)===u(e,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===o)return l*s}else l!==-1&&(c-=c-l),l=-1}else for(r+o>a&&(r=a-o),c=r;c>=0;c--){let l=!0;for(let f=0;f<o;f++)if(u(t,c+f)!==u(e,f)){l=!1;break}if(l)return c}return-1}S.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};S.prototype.indexOf=function(e,r,n){return el(this,e,r,n,!0)};S.prototype.lastIndexOf=function(e,r,n){return el(this,e,r,n,!1)};function r0(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let s=e.length;n>s/2&&(n=s/2);let a;for(a=0;a<n;++a){let o=parseInt(e.substr(a*2,2),16);if(fo(o))return a;t[r+a]=o}return a}function n0(t,e,r,n){return es(oo(e,t.length-r),t,r,n)}function i0(t,e,r,n){return es(g0(e),t,r,n)}function s0(t,e,r,n){return es(cl(e),t,r,n)}function a0(t,e,r,n){return es(w0(e,t.length-r),t,r,n)}S.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let a=!1;for(;;)switch(i){case"hex":return r0(this,e,r,n);case"utf8":case"utf-8":return n0(this,e,r,n);case"ascii":case"latin1":case"binary":return i0(this,e,r,n);case"base64":return s0(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a0(this,e,r,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function o0(t,e,r){return e===0&&r===t.length?io.fromByteArray(t):io.fromByteArray(t.slice(e,r))}function tl(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let s=t[i],a=null,o=s>239?4:s>223?3:s>191?2:1;if(i+o<=r){let u,c,l,f;switch(o){case 1:s<128&&(a=s);break;case 2:u=t[i+1],(u&192)===128&&(f=(s&31)<<6|u&63,f>127&&(a=f));break;case 3:u=t[i+1],c=t[i+2],(u&192)===128&&(c&192)===128&&(f=(s&15)<<12|(u&63)<<6|c&63,f>2047&&(f<55296||f>57343)&&(a=f));break;case 4:u=t[i+1],c=t[i+2],l=t[i+3],(u&192)===128&&(c&192)===128&&(l&192)===128&&(f=(s&15)<<18|(u&63)<<12|(c&63)<<6|l&63,f>65535&&f<1114112&&(a=f))}}a===null?(a=65533,o=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=o}return c0(n)}var Gu=4096;function c0(t){let e=t.length;if(e<=Gu)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Gu));return r}function u0(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function l0(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function f0(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=e;s<r;++s)i+=y0[t[s]];return i}function d0(t,e,r){let n=t.slice(e,r),i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}S.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,S.prototype),i};function he(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}S.prototype.readUintLE=S.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||he(e,r,this.length);let i=this[e],s=1,a=0;for(;++a<r&&(s*=256);)i+=this[e+a]*s;return i};S.prototype.readUintBE=S.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||he(e,r,this.length);let i=this[e+--r],s=1;for(;r>0&&(s*=256);)i+=this[e+--r]*s;return i};S.prototype.readUint8=S.prototype.readUInt8=function(e,r){return e=e>>>0,r||he(e,1,this.length),this[e]};S.prototype.readUint16LE=S.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||he(e,2,this.length),this[e]|this[e+1]<<8};S.prototype.readUint16BE=S.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||he(e,2,this.length),this[e]<<8|this[e+1]};S.prototype.readUint32LE=S.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||he(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};S.prototype.readUint32BE=S.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||he(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};S.prototype.readBigUInt64LE=Qt(function(e){e=e>>>0,cn(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Jn(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))});S.prototype.readBigUInt64BE=Qt(function(e){e=e>>>0,cn(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Jn(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(s)});S.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||he(e,r,this.length);let i=this[e],s=1,a=0;for(;++a<r&&(s*=256);)i+=this[e+a]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};S.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||he(e,r,this.length);let i=r,s=1,a=this[e+--i];for(;i>0&&(s*=256);)a+=this[e+--i]*s;return s*=128,a>=s&&(a-=Math.pow(2,8*r)),a};S.prototype.readInt8=function(e,r){return e=e>>>0,r||he(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};S.prototype.readInt16LE=function(e,r){e=e>>>0,r||he(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};S.prototype.readInt16BE=function(e,r){e=e>>>0,r||he(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};S.prototype.readInt32LE=function(e,r){return e=e>>>0,r||he(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};S.prototype.readInt32BE=function(e,r){return e=e>>>0,r||he(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};S.prototype.readBigInt64LE=Qt(function(e){e=e>>>0,cn(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Jn(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});S.prototype.readBigInt64BE=Qt(function(e){e=e>>>0,cn(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Jn(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});S.prototype.readFloatLE=function(e,r){return e=e>>>0,r||he(e,4,this.length),on.read(this,e,!0,23,4)};S.prototype.readFloatBE=function(e,r){return e=e>>>0,r||he(e,4,this.length),on.read(this,e,!1,23,4)};S.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||he(e,8,this.length),on.read(this,e,!0,52,8)};S.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||he(e,8,this.length),on.read(this,e,!1,52,8)};function Te(t,e,r,n,i,s){if(!S.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}S.prototype.writeUintLE=S.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let o=Math.pow(2,8*n)-1;Te(this,e,r,n,o,0)}let s=1,a=0;for(this[r]=e&255;++a<n&&(s*=256);)this[r+a]=e/s&255;return r+n};S.prototype.writeUintBE=S.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let o=Math.pow(2,8*n)-1;Te(this,e,r,n,o,0)}let s=n-1,a=1;for(this[r+s]=e&255;--s>=0&&(a*=256);)this[r+s]=e/a&255;return r+n};S.prototype.writeUint8=S.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Te(this,e,r,1,255,0),this[r]=e&255,r+1};S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Te(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Te(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Te(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Te(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function rl(t,e,r,n,i){ol(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,r}function nl(t,e,r,n,i){ol(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s=s>>8,t[r+6]=s,s=s>>8,t[r+5]=s,s=s>>8,t[r+4]=s;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a=a>>8,t[r+2]=a,a=a>>8,t[r+1]=a,a=a>>8,t[r]=a,r+8}S.prototype.writeBigUInt64LE=Qt(function(e,r=0){return rl(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});S.prototype.writeBigUInt64BE=Qt(function(e,r=0){return nl(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});S.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);Te(this,e,r,n,u-1,-u)}let s=0,a=1,o=0;for(this[r]=e&255;++s<n&&(a*=256);)e<0&&o===0&&this[r+s-1]!==0&&(o=1),this[r+s]=(e/a>>0)-o&255;return r+n};S.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);Te(this,e,r,n,u-1,-u)}let s=n-1,a=1,o=0;for(this[r+s]=e&255;--s>=0&&(a*=256);)e<0&&o===0&&this[r+s+1]!==0&&(o=1),this[r+s]=(e/a>>0)-o&255;return r+n};S.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Te(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};S.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Te(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};S.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Te(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};S.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Te(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};S.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Te(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};S.prototype.writeBigInt64LE=Qt(function(e,r=0){return rl(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});S.prototype.writeBigInt64BE=Qt(function(e,r=0){return nl(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function il(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function sl(t,e,r,n,i){return e=+e,r=r>>>0,i||il(t,e,r,4,34028234663852886e22,-34028234663852886e22),on.write(t,e,r,n,23,4),r+4}S.prototype.writeFloatLE=function(e,r,n){return sl(this,e,r,!0,n)};S.prototype.writeFloatBE=function(e,r,n){return sl(this,e,r,!1,n)};function al(t,e,r,n,i){return e=+e,r=r>>>0,i||il(t,e,r,8,17976931348623157e292,-17976931348623157e292),on.write(t,e,r,n,52,8),r+8}S.prototype.writeDoubleLE=function(e,r,n){return al(this,e,r,!0,n)};S.prototype.writeDoubleBE=function(e,r,n){return al(this,e,r,!1,n)};S.prototype.copy=function(e,r,n,i){if(!S.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),s};S.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!S.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let a=e.charCodeAt(0);(i==="utf8"&&a<128||i==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{let a=S.isBuffer(e)?e:S.from(e,i),o=a.length;if(o===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-r;++s)this[s+r]=a[s%o]}return this};var an={};function lo(t,e,r){an[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}lo("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);lo("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);lo("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Yu(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=Yu(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function Yu(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function h0(t,e,r){cn(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&Jn(e,t.length-(r+1))}function ol(t,e,r,n,i,s){if(t>r||t<e){let a=typeof e=="bigint"?"n":"",o;throw s>3?e===0||e===BigInt(0)?o=`>= 0${a} and < 2${a} ** ${(s+1)*8}${a}`:o=`>= -(2${a} ** ${(s+1)*8-1}${a}) and < 2 ** ${(s+1)*8-1}${a}`:o=`>= ${e}${a} and <= ${r}${a}`,new an.ERR_OUT_OF_RANGE("value",o,t)}h0(n,i,s)}function cn(t,e){if(typeof t!="number")throw new an.ERR_INVALID_ARG_TYPE(e,"number",t)}function Jn(t,e,r){throw Math.floor(t)!==t?(cn(t,r),new an.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new an.ERR_BUFFER_OUT_OF_BOUNDS:new an.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var p0=/[^+/0-9A-Za-z-_]/g;function m0(t){if(t=t.split("=")[0],t=t.trim().replace(p0,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function oo(t,e){e=e||1/0;let r,n=t.length,i=null,s=[];for(let a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function g0(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function w0(t,e){let r,n,i,s=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function cl(t){return io.toByteArray(m0(t))}function es(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function wt(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function fo(t){return t!==t}var y0=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Qt(t){return typeof BigInt=="undefined"?_0:t}function _0(){throw new Error("BigInt not supported")}});var ul,po,m,d=Lm(()=>{ul=require("obsidian");ul.Platform.isMobileApp?po=ho().Buffer:po=global.Buffer;m=po});var fl=j((Iv,ll)=>{"use strict";d();var Pe=function(t){if(t=t||{},this.Promise=t.Promise||Promise,this.queues=Object.create(null),this.domainReentrant=t.domainReentrant||!1,this.domainReentrant){if(typeof process=="undefined"||typeof process.domain=="undefined")throw new Error("Domain-reentrant locks require `process.domain` to exist. Please flip `opts.domainReentrant = false`, use a NodeJS version that still implements Domain, or install a browser polyfill.");this.domains=Object.create(null)}this.timeout=t.timeout||Pe.DEFAULT_TIMEOUT,this.maxOccupationTime=t.maxOccupationTime||Pe.DEFAULT_MAX_OCCUPATION_TIME,this.maxExecutionTime=t.maxExecutionTime||Pe.DEFAULT_MAX_EXECUTION_TIME,t.maxPending===1/0||Number.isInteger(t.maxPending)&&t.maxPending>=0?this.maxPending=t.maxPending:this.maxPending=Pe.DEFAULT_MAX_PENDING};Pe.DEFAULT_TIMEOUT=0;Pe.DEFAULT_MAX_OCCUPATION_TIME=0;Pe.DEFAULT_MAX_EXECUTION_TIME=0;Pe.DEFAULT_MAX_PENDING=1e3;Pe.prototype.acquire=function(t,e,r,n){if(Array.isArray(t))return this._acquireBatch(t,e,r,n);if(typeof e!="function")throw new Error("You must pass a function to execute");var i=null,s=null,a=null;typeof r!="function"&&(n=r,r=null,a=new this.Promise(function(v,k){i=v,s=k})),n=n||{};var o=!1,u=null,c=null,l=null,f=this,h=function(v,k,D){c&&(clearTimeout(c),c=null),l&&(clearTimeout(l),l=null),v&&(f.queues[t]&&f.queues[t].length===0&&delete f.queues[t],f.domainReentrant&&delete f.domains[t]),o||(a?k?s(k):i(D):typeof r=="function"&&r(k,D),o=!0),v&&f.queues[t]&&f.queues[t].length>0&&f.queues[t].shift()()},p=function(v){if(o)return h(v);u&&(clearTimeout(u),u=null),f.domainReentrant&&v&&(f.domains[t]=process.domain);var k=n.maxExecutionTime||f.maxExecutionTime;if(k&&(l=setTimeout(function(){f.queues[t]&&h(v,new Error("Maximum execution time is exceeded "+t))},k)),e.length===1){var D=!1;try{e(function(x,A){D||(D=!0,h(v,x,A))})}catch(x){D||(D=!0,h(v,x))}}else f._promiseTry(function(){return e()}).then(function(x){h(v,void 0,x)},function(x){h(v,x)})};f.domainReentrant&&process.domain&&(p=process.domain.bind(p));var w=n.maxPending||f.maxPending;if(!f.queues[t])f.queues[t]=[],p(!0);else if(f.domainReentrant&&process.domain&&process.domain===f.domains[t])p(!1);else if(f.queues[t].length>=w)h(!1,new Error("Too many pending tasks in queue "+t));else{var g=function(){p(!0)};n.skipQueue?f.queues[t].unshift(g):f.queues[t].push(g);var y=n.timeout||f.timeout;y&&(u=setTimeout(function(){u=null,h(!1,new Error("async-lock timed out in queue "+t))},y))}var b=n.maxOccupationTime||f.maxOccupationTime;if(b&&(c=setTimeout(function(){f.queues[t]&&h(!1,new Error("Maximum occupation time is exceeded in queue "+t))},b)),a)return a};Pe.prototype._acquireBatch=function(t,e,r,n){typeof r!="function"&&(n=r,r=null);var i=this,s=function(o,u){return function(c){i.acquire(o,u,c,n)}},a=t.reduceRight(function(o,u){return s(u,o)},e);if(typeof r=="function")a(r);else return new this.Promise(function(o,u){a.length===1?a(function(c,l){c?u(c):o(l)}):o(a())})};Pe.prototype.isBusy=function(t){return t?!!this.queues[t]:Object.keys(this.queues).length>0};Pe.prototype._promiseTry=function(t){try{return this.Promise.resolve(t())}catch(e){return this.Promise.reject(e)}};ll.exports=Pe});var hl=j((Ov,dl)=>{"use strict";d();dl.exports=fl()});var pl=j((Rv,mo)=>{d();typeof Object.create=="function"?mo.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:mo.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var wo=j((go,gl)=>{d();var ts=ho(),yt=ts.Buffer;function ml(t,e){for(var r in t)e[r]=t[r]}yt.from&&yt.alloc&&yt.allocUnsafe&&yt.allocUnsafeSlow?gl.exports=ts:(ml(ts,go),go.Buffer=Er);function Er(t,e,r){return yt(t,e,r)}Er.prototype=Object.create(yt.prototype);ml(yt,Er);Er.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return yt(t,e,r)};Er.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=yt(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Er.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return yt(t)};Er.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ts.SlowBuffer(t)}});var _l=j((Mv,yl)=>{d();var wl=wo().Buffer;function rs(t,e){this._block=wl.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}rs.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=wl.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,a=0;a<i;){for(var o=s%n,u=Math.min(i-a,n-o),c=0;c<u;c++)r[o+c]=t[a+c];s+=u,a+=u,s%n===0&&this._update(r)}return this._len+=i,this};rs.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};rs.prototype._update=function(){throw new Error("_update must be implemented by subclass")};yl.exports=rs});var xl=j((jv,vl)=>{d();var b0=pl(),bl=_l(),v0=wo().Buffer,x0=[1518500249,1859775393,-1894007588,-899497514],E0=new Array(80);function Qn(){this.init(),this._w=E0,bl.call(this,64,56)}b0(Qn,bl);Qn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function k0(t){return t<<1|t>>>31}function D0(t){return t<<5|t>>>27}function S0(t){return t<<30|t>>>2}function A0(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Qn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,o=0;o<16;++o)e[o]=t.readInt32BE(o*4);for(;o<80;++o)e[o]=k0(e[o-3]^e[o-8]^e[o-14]^e[o-16]);for(var u=0;u<80;++u){var c=~~(u/20),l=D0(r)+A0(c,n,i,s)+a+e[u]+x0[c]|0;a=s,s=i,i=S0(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0};Qn.prototype._hash=function(){var t=v0.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};vl.exports=Qn});var kl=j(yo=>{d();var El;(function(t){typeof DO_NOT_EXPORT_CRC=="undefined"?typeof yo=="object"?t(yo):typeof define=="function"&&define.amd?define(function(){var e={};return t(e),e}):t(El={}):t(El={})})(function(t){t.version="1.2.2";function e(){for(var _=0,C=new Array(256),E=0;E!=256;++E)_=E,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,C[E]=_;return typeof Int32Array!="undefined"?new Int32Array(C):C}var r=e();function n(_){var C=0,E=0,T=0,F=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(T=0;T!=256;++T)F[T]=_[T];for(T=0;T!=256;++T)for(E=_[T],C=256+T;C<4096;C+=256)E=F[C]=E>>>8^_[E&255];var B=[];for(T=1;T!=16;++T)B[T-1]=typeof Int32Array!="undefined"?F.subarray(T*256,T*256+256):F.slice(T*256,T*256+256);return B}var i=n(r),s=i[0],a=i[1],o=i[2],u=i[3],c=i[4],l=i[5],f=i[6],h=i[7],p=i[8],w=i[9],g=i[10],y=i[11],b=i[12],v=i[13],k=i[14];function D(_,C){for(var E=C^-1,T=0,F=_.length;T<F;)E=E>>>8^r[(E^_.charCodeAt(T++))&255];return~E}function x(_,C){for(var E=C^-1,T=_.length-15,F=0;F<T;)E=k[_[F++]^E&255]^v[_[F++]^E>>8&255]^b[_[F++]^E>>16&255]^y[_[F++]^E>>>24]^g[_[F++]]^w[_[F++]]^p[_[F++]]^h[_[F++]]^f[_[F++]]^l[_[F++]]^c[_[F++]]^u[_[F++]]^o[_[F++]]^a[_[F++]]^s[_[F++]]^r[_[F++]];for(T+=15;F<T;)E=E>>>8^r[(E^_[F++])&255];return~E}function A(_,C){for(var E=C^-1,T=0,F=_.length,B=0,P=0;T<F;)B=_.charCodeAt(T++),B<128?E=E>>>8^r[(E^B)&255]:B<2048?(E=E>>>8^r[(E^(192|B>>6&31))&255],E=E>>>8^r[(E^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,P=_.charCodeAt(T++)&1023,E=E>>>8^r[(E^(240|B>>8&7))&255],E=E>>>8^r[(E^(128|B>>2&63))&255],E=E>>>8^r[(E^(128|P>>6&15|(B&3)<<4))&255],E=E>>>8^r[(E^(128|P&63))&255]):(E=E>>>8^r[(E^(224|B>>12&15))&255],E=E>>>8^r[(E^(128|B>>6&63))&255],E=E>>>8^r[(E^(128|B&63))&255]);return~E}t.table=r,t.bstr=D,t.buf=x,t.str=A})});var $t=j(Ee=>{"use strict";d();var F0=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function C0(t,e){return Object.prototype.hasOwnProperty.call(t,e)}Ee.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(var n in r)C0(r,n)&&(t[n]=r[n])}}return t};Ee.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var T0={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray){t.set(e.subarray(r,r+n),i);return}for(var s=0;s<n;s++)t[i+s]=e[r+s]},flattenChunks:function(t){var e,r,n,i,s,a;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(a=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)s=t[e],a.set(s,i),i+=s.length;return a}},I0={arraySet:function(t,e,r,n,i){for(var s=0;s<n;s++)t[i+s]=e[r+s]},flattenChunks:function(t){return[].concat.apply([],t)}};Ee.setTyped=function(t){t?(Ee.Buf8=Uint8Array,Ee.Buf16=Uint16Array,Ee.Buf32=Int32Array,Ee.assign(Ee,T0)):(Ee.Buf8=Array,Ee.Buf16=Array,Ee.Buf32=Array,Ee.assign(Ee,I0))};Ee.setTyped(F0)});var Vl=j(dn=>{"use strict";d();var B0=$t(),O0=4,Dl=0,Sl=1,N0=2;function fn(t){for(var e=t.length;--e>=0;)t[e]=0}var R0=0,Bl=1,$0=2,P0=3,M0=258,Do=29,si=256,ti=si+1+Do,ln=30,So=19,Ol=2*ti+1,kr=15,_o=16,L0=7,Ao=256,Nl=16,Rl=17,$l=18,Eo=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ns=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j0=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Pl=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U0=512,Pt=new Array((ti+2)*2);fn(Pt);var ei=new Array(ln*2);fn(ei);var ri=new Array(U0);fn(ri);var ni=new Array(M0-P0+1);fn(ni);var Fo=new Array(Do);fn(Fo);var is=new Array(ln);fn(is);function bo(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}var Ml,Ll,jl;function vo(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function Ul(t){return t<256?ri[t]:ri[256+(t>>>7)]}function ii(t,e){t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255}function Ie(t,e,r){t.bi_valid>_o-r?(t.bi_buf|=e<<t.bi_valid&65535,ii(t,t.bi_buf),t.bi_buf=e>>_o-t.bi_valid,t.bi_valid+=r-_o):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function _t(t,e,r){Ie(t,r[e*2],r[e*2+1])}function zl(t,e){var r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1}function z0(t){t.bi_valid===16?(ii(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)}function q0(t,e){var r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,u=e.stat_desc.max_length,c,l,f,h,p,w,g=0;for(h=0;h<=kr;h++)t.bl_count[h]=0;for(r[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<Ol;c++)l=t.heap[c],h=r[r[l*2+1]*2+1]+1,h>u&&(h=u,g++),r[l*2+1]=h,!(l>n)&&(t.bl_count[h]++,p=0,l>=o&&(p=a[l-o]),w=r[l*2],t.opt_len+=w*(h+p),s&&(t.static_len+=w*(i[l*2+1]+p)));if(g!==0){do{for(h=u-1;t.bl_count[h]===0;)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[u]--,g-=2}while(g>0);for(h=u;h!==0;h--)for(l=t.bl_count[h];l!==0;)f=t.heap[--c],!(f>n)&&(r[f*2+1]!==h&&(t.opt_len+=(h-r[f*2+1])*r[f*2],r[f*2+1]=h),l--)}}function ql(t,e,r){var n=new Array(kr+1),i=0,s,a;for(s=1;s<=kr;s++)n[s]=i=i+r[s-1]<<1;for(a=0;a<=e;a++){var o=t[a*2+1];o!==0&&(t[a*2]=zl(n[o]++,o))}}function Z0(){var t,e,r,n,i,s=new Array(kr+1);for(r=0,n=0;n<Do-1;n++)for(Fo[n]=r,t=0;t<1<<Eo[n];t++)ni[r++]=n;for(ni[r-1]=n,i=0,n=0;n<16;n++)for(is[n]=i,t=0;t<1<<ns[n];t++)ri[i++]=n;for(i>>=7;n<ln;n++)for(is[n]=i<<7,t=0;t<1<<ns[n]-7;t++)ri[256+i++]=n;for(e=0;e<=kr;e++)s[e]=0;for(t=0;t<=143;)Pt[t*2+1]=8,t++,s[8]++;for(;t<=255;)Pt[t*2+1]=9,t++,s[9]++;for(;t<=279;)Pt[t*2+1]=7,t++,s[7]++;for(;t<=287;)Pt[t*2+1]=8,t++,s[8]++;for(ql(Pt,ti+1,s),t=0;t<ln;t++)ei[t*2+1]=5,ei[t*2]=zl(t,5);Ml=new bo(Pt,Eo,si+1,ti,kr),Ll=new bo(ei,ns,0,ln,kr),jl=new bo(new Array(0),j0,0,So,L0)}function Zl(t){var e;for(e=0;e<ti;e++)t.dyn_ltree[e*2]=0;for(e=0;e<ln;e++)t.dyn_dtree[e*2]=0;for(e=0;e<So;e++)t.bl_tree[e*2]=0;t.dyn_ltree[Ao*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Hl(t){t.bi_valid>8?ii(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function H0(t,e,r,n){Hl(t),n&&(ii(t,r),ii(t,~r)),B0.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function Al(t,e,r,n){var i=e*2,s=r*2;return t[i]<t[s]||t[i]===t[s]&&n[e]<=n[r]}function xo(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&Al(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!Al(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function Fl(t,e,r){var n,i,s=0,a,o;if(t.last_lit!==0)do n=t.pending_buf[t.d_buf+s*2]<<8|t.pending_buf[t.d_buf+s*2+1],i=t.pending_buf[t.l_buf+s],s++,n===0?_t(t,i,e):(a=ni[i],_t(t,a+si+1,e),o=Eo[a],o!==0&&(i-=Fo[a],Ie(t,i,o)),n--,a=Ul(n),_t(t,a,r),o=ns[a],o!==0&&(n-=is[a],Ie(t,n,o)));while(s<t.last_lit);_t(t,Ao,e)}function ko(t,e){var r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems,a,o,u=-1,c;for(t.heap_len=0,t.heap_max=Ol,a=0;a<s;a++)r[a*2]!==0?(t.heap[++t.heap_len]=u=a,t.depth[a]=0):r[a*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=u<2?++u:0,r[c*2]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=n[c*2+1]);for(e.max_code=u,a=t.heap_len>>1;a>=1;a--)xo(t,r,a);c=s;do a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],xo(t,r,1),o=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=o,r[c*2]=r[a*2]+r[o*2],t.depth[c]=(t.depth[a]>=t.depth[o]?t.depth[a]:t.depth[o])+1,r[a*2+1]=r[o*2+1]=c,t.heap[1]=c++,xo(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],q0(t,e),ql(r,u,t.bl_count)}function Cl(t,e,r){var n,i=-1,s,a=e[0*2+1],o=0,u=7,c=4;for(a===0&&(u=138,c=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)s=a,a=e[(n+1)*2+1],!(++o<u&&s===a)&&(o<c?t.bl_tree[s*2]+=o:s!==0?(s!==i&&t.bl_tree[s*2]++,t.bl_tree[Nl*2]++):o<=10?t.bl_tree[Rl*2]++:t.bl_tree[$l*2]++,o=0,i=s,a===0?(u=138,c=3):s===a?(u=6,c=3):(u=7,c=4))}function Tl(t,e,r){var n,i=-1,s,a=e[0*2+1],o=0,u=7,c=4;for(a===0&&(u=138,c=3),n=0;n<=r;n++)if(s=a,a=e[(n+1)*2+1],!(++o<u&&s===a)){if(o<c)do _t(t,s,t.bl_tree);while(--o!==0);else s!==0?(s!==i&&(_t(t,s,t.bl_tree),o--),_t(t,Nl,t.bl_tree),Ie(t,o-3,2)):o<=10?(_t(t,Rl,t.bl_tree),Ie(t,o-3,3)):(_t(t,$l,t.bl_tree),Ie(t,o-11,7));o=0,i=s,a===0?(u=138,c=3):s===a?(u=6,c=3):(u=7,c=4)}}function K0(t){var e;for(Cl(t,t.dyn_ltree,t.l_desc.max_code),Cl(t,t.dyn_dtree,t.d_desc.max_code),ko(t,t.bl_desc),e=So-1;e>=3&&t.bl_tree[Pl[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e}function V0(t,e,r,n){var i;for(Ie(t,e-257,5),Ie(t,r-1,5),Ie(t,n-4,4),i=0;i<n;i++)Ie(t,t.bl_tree[Pl[i]*2+1],3);Tl(t,t.dyn_ltree,e-1),Tl(t,t.dyn_dtree,r-1)}function W0(t){var e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return Dl;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Sl;for(r=32;r<si;r++)if(t.dyn_ltree[r*2]!==0)return Sl;return Dl}var Il=!1;function G0(t){Il||(Z0(),Il=!0),t.l_desc=new vo(t.dyn_ltree,Ml),t.d_desc=new vo(t.dyn_dtree,Ll),t.bl_desc=new vo(t.bl_tree,jl),t.bi_buf=0,t.bi_valid=0,Zl(t)}function Kl(t,e,r,n){Ie(t,(R0<<1)+(n?1:0),3),H0(t,e,r,!0)}function Y0(t){Ie(t,Bl<<1,3),_t(t,Ao,Pt),z0(t)}function X0(t,e,r,n){var i,s,a=0;t.level>0?(t.strm.data_type===N0&&(t.strm.data_type=W0(t)),ko(t,t.l_desc),ko(t,t.d_desc),a=K0(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&e!==-1?Kl(t,e,r,n):t.strategy===O0||s===i?(Ie(t,(Bl<<1)+(n?1:0),3),Fl(t,Pt,ei)):(Ie(t,($0<<1)+(n?1:0),3),V0(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),Fl(t,t.dyn_ltree,t.dyn_dtree)),Zl(t),n&&Hl(t)}function J0(t,e,r){return t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=r&255,t.last_lit++,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(ni[r]+si+1)*2]++,t.dyn_dtree[Ul(e)*2]++),t.last_lit===t.lit_bufsize-1}dn._tr_init=G0;dn._tr_stored_block=Kl;dn._tr_flush_block=X0;dn._tr_tally=J0;dn._tr_align=Y0});var Co=j((Wv,Wl)=>{"use strict";d();function Q0(t,e,r,n){for(var i=t&65535|0,s=t>>>16&65535|0,a=0;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0}Wl.exports=Q0});var To=j((Yv,Gl)=>{"use strict";d();function eg(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e}var tg=eg();function rg(t,e,r,n){var i=tg,s=n+r;t^=-1;for(var a=n;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1}Gl.exports=rg});var ss=j((Jv,Yl)=>{"use strict";d();Yl.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var af=j(xt=>{"use strict";d();var ke=$t(),Ke=Vl(),ef=Co(),er=To(),ng=ss(),Fr=0,ig=1,sg=3,sr=4,Xl=5,vt=0,Jl=1,Ve=-2,ag=-3,Io=-5,og=-1,cg=1,as=2,ug=3,lg=4,fg=0,dg=2,ls=8,hg=9,pg=15,mg=8,gg=29,wg=256,Oo=wg+1+gg,yg=30,_g=19,bg=2*Oo+1,vg=15,K=3,nr=258,et=nr+K+1,xg=32,fs=42,No=69,os=73,cs=91,us=103,Dr=113,oi=666,le=1,ci=2,Sr=3,mn=4,Eg=3;function ir(t,e){return t.msg=ng[e],e}function Ql(t){return(t<<1)-(t>4?9:0)}function rr(t){for(var e=t.length;--e>=0;)t[e]=0}function tr(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(ke.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))}function we(t,e){Ke._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tr(t.strm)}function Q(t,e){t.pending_buf[t.pending++]=e}function ai(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255}function kg(t,e,r,n){var i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,ke.arraySet(e,t.input,t.next_in,i,r),t.state.wrap===1?t.adler=ef(t.adler,e,i,r):t.state.wrap===2&&(t.adler=er(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)}function tf(t,e){var r=t.max_chain_length,n=t.strstart,i,s,a=t.prev_length,o=t.nice_match,u=t.strstart>t.w_size-et?t.strstart-(t.w_size-et):0,c=t.window,l=t.w_mask,f=t.prev,h=t.strstart+nr,p=c[n+a-1],w=c[n+a];t.prev_length>=t.good_match&&(r>>=2),o>t.lookahead&&(o=t.lookahead);do if(i=e,!(c[i+a]!==w||c[i+a-1]!==p||c[i]!==c[n]||c[++i]!==c[n+1])){n+=2,i++;do;while(c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&n<h);if(s=nr-(h-n),n=h-nr,s>a){if(t.match_start=e,a=s,s>=o)break;p=c[n+a-1],w=c[n+a]}}while((e=f[e&l])>u&&--r!==0);return a<=t.lookahead?a:t.lookahead}function Ar(t){var e=t.w_size,r,n,i,s,a;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-et)){ke.arraySet(t.window,t.window,e,e,0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do i=t.head[--r],t.head[r]=i>=e?i-e:0;while(--n);n=e,r=n;do i=t.prev[--r],t.prev[r]=i>=e?i-e:0;while(--n);s+=e}if(t.strm.avail_in===0)break;if(n=kg(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=n,t.lookahead+t.insert>=K)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+K-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<K)););}while(t.lookahead<et&&t.strm.avail_in!==0)}function Dg(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Ar(t),t.lookahead===0&&e===Fr)return le;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((t.strstart===0||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,we(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-et&&(we(t,!1),t.strm.avail_out===0))return le}return t.insert=0,e===sr?(we(t,!0),t.strm.avail_out===0?Sr:mn):(t.strstart>t.block_start&&(we(t,!1),t.strm.avail_out===0),le)}function Bo(t,e){for(var r,n;;){if(t.lookahead<et){if(Ar(t),t.lookahead<et&&e===Fr)return le;if(t.lookahead===0)break}if(r=0,t.lookahead>=K&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+K-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-et&&(t.match_length=tf(t,r)),t.match_length>=K)if(n=Ke._tr_tally(t,t.strstart-t.match_start,t.match_length-K),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=K){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+K-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=Ke._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(we(t,!1),t.strm.avail_out===0))return le}return t.insert=t.strstart<K-1?t.strstart:K-1,e===sr?(we(t,!0),t.strm.avail_out===0?Sr:mn):t.last_lit&&(we(t,!1),t.strm.avail_out===0)?le:ci}function hn(t,e){for(var r,n,i;;){if(t.lookahead<et){if(Ar(t),t.lookahead<et&&e===Fr)return le;if(t.lookahead===0)break}if(r=0,t.lookahead>=K&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+K-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=K-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-et&&(t.match_length=tf(t,r),t.match_length<=5&&(t.strategy===cg||t.match_length===K&&t.strstart-t.match_start>4096)&&(t.match_length=K-1)),t.prev_length>=K&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-K,n=Ke._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-K),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+K-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=K-1,t.strstart++,n&&(we(t,!1),t.strm.avail_out===0))return le}else if(t.match_available){if(n=Ke._tr_tally(t,0,t.window[t.strstart-1]),n&&we(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return le}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Ke._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<K-1?t.strstart:K-1,e===sr?(we(t,!0),t.strm.avail_out===0?Sr:mn):t.last_lit&&(we(t,!1),t.strm.avail_out===0)?le:ci}function Sg(t,e){for(var r,n,i,s,a=t.window;;){if(t.lookahead<=nr){if(Ar(t),t.lookahead<=nr&&e===Fr)return le;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=K&&t.strstart>0&&(i=t.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){s=t.strstart+nr;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);t.match_length=nr-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=K?(r=Ke._tr_tally(t,1,t.match_length-K),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Ke._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(we(t,!1),t.strm.avail_out===0))return le}return t.insert=0,e===sr?(we(t,!0),t.strm.avail_out===0?Sr:mn):t.last_lit&&(we(t,!1),t.strm.avail_out===0)?le:ci}function Ag(t,e){for(var r;;){if(t.lookahead===0&&(Ar(t),t.lookahead===0)){if(e===Fr)return le;break}if(t.match_length=0,r=Ke._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(we(t,!1),t.strm.avail_out===0))return le}return t.insert=0,e===sr?(we(t,!0),t.strm.avail_out===0?Sr:mn):t.last_lit&&(we(t,!1),t.strm.avail_out===0)?le:ci}function bt(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}var pn;pn=[new bt(0,0,0,0,Dg),new bt(4,4,8,4,Bo),new bt(4,5,16,8,Bo),new bt(4,6,32,32,Bo),new bt(4,4,16,16,hn),new bt(8,16,32,32,hn),new bt(8,16,128,128,hn),new bt(8,32,128,256,hn),new bt(32,128,258,1024,hn),new bt(32,258,258,4096,hn)];function Fg(t){t.window_size=2*t.w_size,rr(t.head),t.max_lazy_match=pn[t.level].max_lazy,t.good_match=pn[t.level].good_length,t.nice_match=pn[t.level].nice_length,t.max_chain_length=pn[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=K-1,t.match_available=0,t.ins_h=0}function Cg(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ls,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ke.Buf16(bg*2),this.dyn_dtree=new ke.Buf16((2*yg+1)*2),this.bl_tree=new ke.Buf16((2*_g+1)*2),rr(this.dyn_ltree),rr(this.dyn_dtree),rr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ke.Buf16(vg+1),this.heap=new ke.Buf16(2*Oo+1),rr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ke.Buf16(2*Oo+1),rr(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function rf(t){var e;return!t||!t.state?ir(t,Ve):(t.total_in=t.total_out=0,t.data_type=dg,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?fs:Dr,t.adler=e.wrap===2?0:1,e.last_flush=Fr,Ke._tr_init(e),vt)}function nf(t){var e=rf(t);return e===vt&&Fg(t.state),e}function Tg(t,e){return!t||!t.state||t.state.wrap!==2?Ve:(t.state.gzhead=e,vt)}function sf(t,e,r,n,i,s){if(!t)return Ve;var a=1;if(e===og&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>hg||r!==ls||n<8||n>15||e<0||e>9||s<0||s>lg)return ir(t,Ve);n===8&&(n=9);var o=new Cg;return t.state=o,o.strm=t,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+K-1)/K),o.window=new ke.Buf8(o.w_size*2),o.head=new ke.Buf16(o.hash_size),o.prev=new ke.Buf16(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new ke.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=e,o.strategy=s,o.method=r,nf(t)}function Ig(t,e){return sf(t,e,ls,pg,mg,fg)}function Bg(t,e){var r,n,i,s;if(!t||!t.state||e>Xl||e<0)return t?ir(t,Ve):Ve;if(n=t.state,!t.output||!t.input&&t.avail_in!==0||n.status===oi&&e!==sr)return ir(t,t.avail_out===0?Io:Ve);if(n.strm=t,r=n.last_flush,n.last_flush=e,n.status===fs)if(n.wrap===2)t.adler=0,Q(n,31),Q(n,139),Q(n,8),n.gzhead?(Q(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Q(n,n.gzhead.time&255),Q(n,n.gzhead.time>>8&255),Q(n,n.gzhead.time>>16&255),Q(n,n.gzhead.time>>24&255),Q(n,n.level===9?2:n.strategy>=as||n.level<2?4:0),Q(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Q(n,n.gzhead.extra.length&255),Q(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=er(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=No):(Q(n,0),Q(n,0),Q(n,0),Q(n,0),Q(n,0),Q(n,n.level===9?2:n.strategy>=as||n.level<2?4:0),Q(n,Eg),n.status=Dr);else{var a=ls+(n.w_bits-8<<4)<<8,o=-1;n.strategy>=as||n.level<2?o=0:n.level<6?o=1:n.level===6?o=2:o=3,a|=o<<6,n.strstart!==0&&(a|=xg),a+=31-a%31,n.status=Dr,ai(n,a),n.strstart!==0&&(ai(n,t.adler>>>16),ai(n,t.adler&65535)),t.adler=1}if(n.status===No)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=er(t.adler,n.pending_buf,n.pending-i,i)),tr(t),i=n.pending,n.pending===n.pending_buf_size));)Q(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(t.adler=er(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=os)}else n.status=os;if(n.status===os)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=er(t.adler,n.pending_buf,n.pending-i,i)),tr(t),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,Q(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=er(t.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.gzindex=0,n.status=cs)}else n.status=cs;if(n.status===cs)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=er(t.adler,n.pending_buf,n.pending-i,i)),tr(t),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,Q(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=er(t.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.status=us)}else n.status=us;if(n.status===us&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&tr(t),n.pending+2<=n.pending_buf_size&&(Q(n,t.adler&255),Q(n,t.adler>>8&255),t.adler=0,n.status=Dr)):n.status=Dr),n.pending!==0){if(tr(t),t.avail_out===0)return n.last_flush=-1,vt}else if(t.avail_in===0&&Ql(e)<=Ql(r)&&e!==sr)return ir(t,Io);if(n.status===oi&&t.avail_in!==0)return ir(t,Io);if(t.avail_in!==0||n.lookahead!==0||e!==Fr&&n.status!==oi){var u=n.strategy===as?Ag(n,e):n.strategy===ug?Sg(n,e):pn[n.level].func(n,e);if((u===Sr||u===mn)&&(n.status=oi),u===le||u===Sr)return t.avail_out===0&&(n.last_flush=-1),vt;if(u===ci&&(e===ig?Ke._tr_align(n):e!==Xl&&(Ke._tr_stored_block(n,0,0,!1),e===sg&&(rr(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),tr(t),t.avail_out===0))return n.last_flush=-1,vt}return e!==sr?vt:n.wrap<=0?Jl:(n.wrap===2?(Q(n,t.adler&255),Q(n,t.adler>>8&255),Q(n,t.adler>>16&255),Q(n,t.adler>>24&255),Q(n,t.total_in&255),Q(n,t.total_in>>8&255),Q(n,t.total_in>>16&255),Q(n,t.total_in>>24&255)):(ai(n,t.adler>>>16),ai(n,t.adler&65535)),tr(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?vt:Jl)}function Og(t){var e;return!t||!t.state?Ve:(e=t.state.status,e!==fs&&e!==No&&e!==os&&e!==cs&&e!==us&&e!==Dr&&e!==oi?ir(t,Ve):(t.state=null,e===Dr?ir(t,ag):vt))}function Ng(t,e){var r=e.length,n,i,s,a,o,u,c,l;if(!t||!t.state||(n=t.state,a=n.wrap,a===2||a===1&&n.status!==fs||n.lookahead))return Ve;for(a===1&&(t.adler=ef(t.adler,e,r,0)),n.wrap=0,r>=n.w_size&&(a===0&&(rr(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new ke.Buf8(n.w_size),ke.arraySet(l,e,r-n.w_size,n.w_size,0),e=l,r=n.w_size),o=t.avail_in,u=t.next_in,c=t.input,t.avail_in=r,t.next_in=0,t.input=e,Ar(n);n.lookahead>=K;){i=n.strstart,s=n.lookahead-(K-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+K-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--s);n.strstart=i,n.lookahead=K-1,Ar(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=K-1,n.match_available=0,t.next_in=u,t.input=c,t.avail_in=o,n.wrap=a,vt}xt.deflateInit=Ig;xt.deflateInit2=sf;xt.deflateReset=nf;xt.deflateResetKeep=rf;xt.deflateSetHeader=Tg;xt.deflate=Bg;xt.deflateEnd=Og;xt.deflateSetDictionary=Ng;xt.deflateInfo="pako deflate (from Nodeca project)"});var Ro=j(gn=>{"use strict";d();var ds=$t(),of=!0,cf=!0;try{String.fromCharCode.apply(null,[0])}catch(t){of=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){cf=!1}var ui=new ds.Buf8(256);for(Mt=0;Mt<256;Mt++)ui[Mt]=Mt>=252?6:Mt>=248?5:Mt>=240?4:Mt>=224?3:Mt>=192?2:1;var Mt;ui[254]=ui[254]=1;gn.string2buf=function(t){var e,r,n,i,s,a=t.length,o=0;for(i=0;i<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new ds.Buf8(o),s=0,i=0;s<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};function uf(t,e){if(e<65534&&(t.subarray&&cf||!t.subarray&&of))return String.fromCharCode.apply(null,ds.shrinkBuf(t,e));for(var r="",n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r}gn.buf2binstring=function(t){return uf(t,t.length)};gn.binstring2buf=function(t){for(var e=new ds.Buf8(t.length),r=0,n=e.length;r<n;r++)e[r]=t.charCodeAt(r);return e};gn.buf2string=function(t,e){var r,n,i,s,a=e||t.length,o=new Array(a*2);for(n=0,r=0;r<a;){if(i=t[r++],i<128){o[n++]=i;continue}if(s=ui[i],s>4){o[n++]=65533,r+=s-1;continue}for(i&=s===2?31:s===3?15:7;s>1&&r<a;)i=i<<6|t[r++]&63,s--;if(s>1){o[n++]=65533;continue}i<65536?o[n++]=i:(i-=65536,o[n++]=55296|i>>10&1023,o[n++]=56320|i&1023)}return uf(o,n)};gn.utf8border=function(t,e){var r;for(e=e||t.length,e>t.length&&(e=t.length),r=e-1;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+ui[t[r]]>e?r:e}});var $o=j((ix,lf)=>{"use strict";d();function Rg(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}lf.exports=Rg});var pf=j(di=>{"use strict";d();var li=af(),fi=$t(),Mo=Ro(),Lo=ss(),$g=$o(),hf=Object.prototype.toString,Pg=0,Po=4,wn=0,ff=1,df=2,Mg=-1,Lg=0,jg=8;function Cr(t){if(!(this instanceof Cr))return new Cr(t);this.options=fi.assign({level:Mg,method:jg,chunkSize:16384,windowBits:15,memLevel:8,strategy:Lg,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $g,this.strm.avail_out=0;var r=li.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==wn)throw new Error(Lo[r]);if(e.header&&li.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(typeof e.dictionary=="string"?n=Mo.string2buf(e.dictionary):hf.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=li.deflateSetDictionary(this.strm,n),r!==wn)throw new Error(Lo[r]);this._dict_set=!0}}Cr.prototype.push=function(t,e){var r=this.strm,n=this.options.chunkSize,i,s;if(this.ended)return!1;s=e===~~e?e:e===!0?Po:Pg,typeof t=="string"?r.input=Mo.string2buf(t):hf.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new fi.Buf8(n),r.next_out=0,r.avail_out=n),i=li.deflate(r,s),i!==ff&&i!==wn)return this.onEnd(i),this.ended=!0,!1;(r.avail_out===0||r.avail_in===0&&(s===Po||s===df))&&(this.options.to==="string"?this.onData(Mo.buf2binstring(fi.shrinkBuf(r.output,r.next_out))):this.onData(fi.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||r.avail_out===0)&&i!==ff);return s===Po?(i=li.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===wn):(s===df&&(this.onEnd(wn),r.avail_out=0),!0)};Cr.prototype.onData=function(t){this.chunks.push(t)};Cr.prototype.onEnd=function(t){t===wn&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=fi.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function jo(t,e){var r=new Cr(e);if(r.push(t,!0),r.err)throw r.msg||Lo[r.err];return r.result}function Ug(t,e){return e=e||{},e.raw=!0,jo(t,e)}function zg(t,e){return e=e||{},e.gzip=!0,jo(t,e)}di.Deflate=Cr;di.deflate=jo;di.deflateRaw=Ug;di.gzip=zg});var gf=j((cx,mf)=>{"use strict";d();var hs=30,qg=12;mf.exports=function(e,r){var n,i,s,a,o,u,c,l,f,h,p,w,g,y,b,v,k,D,x,A,_,C,E,T,F;n=e.state,i=e.next_in,T=e.input,s=i+(e.avail_in-5),a=e.next_out,F=e.output,o=a-(r-e.avail_out),u=a+(e.avail_out-257),c=n.dmax,l=n.wsize,f=n.whave,h=n.wnext,p=n.window,w=n.hold,g=n.bits,y=n.lencode,b=n.distcode,v=(1<<n.lenbits)-1,k=(1<<n.distbits)-1;e:do{g<15&&(w+=T[i++]<<g,g+=8,w+=T[i++]<<g,g+=8),D=y[w&v];t:for(;;){if(x=D>>>24,w>>>=x,g-=x,x=D>>>16&255,x===0)F[a++]=D&65535;else if(x&16){A=D&65535,x&=15,x&&(g<x&&(w+=T[i++]<<g,g+=8),A+=w&(1<<x)-1,w>>>=x,g-=x),g<15&&(w+=T[i++]<<g,g+=8,w+=T[i++]<<g,g+=8),D=b[w&k];r:for(;;){if(x=D>>>24,w>>>=x,g-=x,x=D>>>16&255,x&16){if(_=D&65535,x&=15,g<x&&(w+=T[i++]<<g,g+=8,g<x&&(w+=T[i++]<<g,g+=8)),_+=w&(1<<x)-1,_>c){e.msg="invalid distance too far back",n.mode=hs;break e}if(w>>>=x,g-=x,x=a-o,_>x){if(x=_-x,x>f&&n.sane){e.msg="invalid distance too far back",n.mode=hs;break e}if(C=0,E=p,h===0){if(C+=l-x,x<A){A-=x;do F[a++]=p[C++];while(--x);C=a-_,E=F}}else if(h<x){if(C+=l+h-x,x-=h,x<A){A-=x;do F[a++]=p[C++];while(--x);if(C=0,h<A){x=h,A-=x;do F[a++]=p[C++];while(--x);C=a-_,E=F}}}else if(C+=h-x,x<A){A-=x;do F[a++]=p[C++];while(--x);C=a-_,E=F}for(;A>2;)F[a++]=E[C++],F[a++]=E[C++],F[a++]=E[C++],A-=3;A&&(F[a++]=E[C++],A>1&&(F[a++]=E[C++]))}else{C=a-_;do F[a++]=F[C++],F[a++]=F[C++],F[a++]=F[C++],A-=3;while(A>2);A&&(F[a++]=F[C++],A>1&&(F[a++]=F[C++]))}}else if(x&64){e.msg="invalid distance code",n.mode=hs;break e}else{D=b[(D&65535)+(w&(1<<x)-1)];continue r}break}}else if(x&64)if(x&32){n.mode=qg;break e}else{e.msg="invalid literal/length code",n.mode=hs;break e}else{D=y[(D&65535)+(w&(1<<x)-1)];continue t}break}}while(i<s&&a<u);A=g>>3,i-=A,g-=A<<3,w&=(1<<g)-1,e.next_in=i,e.next_out=a,e.avail_in=i<s?5+(s-i):5-(i-s),e.avail_out=a<u?257+(u-a):257-(a-u),n.hold=w,n.bits=g}});var Ef=j((lx,xf)=>{"use strict";d();var wf=$t(),yn=15,yf=852,_f=592,bf=0,Uo=1,vf=2,Zg=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Hg=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Kg=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Vg=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];xf.exports=function(e,r,n,i,s,a,o,u){var c=u.bits,l=0,f=0,h=0,p=0,w=0,g=0,y=0,b=0,v=0,k=0,D,x,A,_,C,E=null,T=0,F,B=new wf.Buf16(yn+1),P=new wf.Buf16(yn+1),U=null,Ce=0,Jt,qe,Qe;for(l=0;l<=yn;l++)B[l]=0;for(f=0;f<i;f++)B[r[n+f]]++;for(w=c,p=yn;p>=1&&B[p]===0;p--);if(w>p&&(w=p),p===0)return s[a++]=1<<24|64<<16|0,s[a++]=1<<24|64<<16|0,u.bits=1,0;for(h=1;h<p&&B[h]===0;h++);for(w<h&&(w=h),b=1,l=1;l<=yn;l++)if(b<<=1,b-=B[l],b<0)return-1;if(b>0&&(e===bf||p!==1))return-1;for(P[1]=0,l=1;l<yn;l++)P[l+1]=P[l]+B[l];for(f=0;f<i;f++)r[n+f]!==0&&(o[P[r[n+f]]++]=f);if(e===bf?(E=U=o,F=19):e===Uo?(E=Zg,T-=257,U=Hg,Ce-=257,F=256):(E=Kg,U=Vg,F=-1),k=0,f=0,l=h,C=a,g=w,y=0,A=-1,v=1<<w,_=v-1,e===Uo&&v>yf||e===vf&&v>_f)return 1;for(;;){Jt=l-y,o[f]<F?(qe=0,Qe=o[f]):o[f]>F?(qe=U[Ce+o[f]],Qe=E[T+o[f]]):(qe=96,Qe=0),D=1<<l-y,x=1<<g,h=x;do x-=D,s[C+(k>>y)+x]=Jt<<24|qe<<16|Qe|0;while(x!==0);for(D=1<<l-1;k&D;)D>>=1;if(D!==0?(k&=D-1,k+=D):k=0,f++,--B[l]===0){if(l===p)break;l=r[n+o[f]]}if(l>w&&(k&_)!==A){for(y===0&&(y=w),C+=h,g=l-y,b=1<<g;g+y<p&&(b-=B[g+y],!(b<=0));)g++,b<<=1;if(v+=1<<g,e===Uo&&v>yf||e===vf&&v>_f)return 1;A=k&_,s[A]=w<<24|g<<16|C-a|0}}return k!==0&&(s[C+k]=l-y<<24|64<<16|0),u.bits=w,0}});var id=j(tt=>{"use strict";d();var Me=$t(),Vo=Co(),Et=To(),Wg=gf(),hi=Ef(),Gg=0,Gf=1,Yf=2,kf=4,Yg=5,ps=6,Tr=0,Xg=1,Jg=2,We=-2,Xf=-3,Wo=-4,Qg=-5,Df=8,Jf=1,Sf=2,Af=3,Ff=4,Cf=5,Tf=6,If=7,Bf=8,Of=9,Nf=10,ws=11,Lt=12,zo=13,Rf=14,qo=15,$f=16,Pf=17,Mf=18,Lf=19,ms=20,gs=21,jf=22,Uf=23,zf=24,qf=25,Zf=26,Zo=27,Hf=28,Kf=29,ie=30,Go=31,ew=32,tw=852,rw=592,nw=15,iw=nw;function Vf(t){return(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24)}function sw(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Me.Buf16(320),this.work=new Me.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Qf(t){var e;return!t||!t.state?We:(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Jf,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Me.Buf32(tw),e.distcode=e.distdyn=new Me.Buf32(rw),e.sane=1,e.back=-1,Tr)}function ed(t){var e;return!t||!t.state?We:(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,Qf(t))}function td(t,e){var r,n;return!t||!t.state||(n=t.state,e<0?(r=0,e=-e):(r=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?We:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,ed(t))}function rd(t,e){var r,n;return t?(n=new sw,t.state=n,n.window=null,r=td(t,e),r!==Tr&&(t.state=null),r):We}function aw(t){return rd(t,iw)}var Wf=!0,Ho,Ko;function ow(t){if(Wf){var e;for(Ho=new Me.Buf32(512),Ko=new Me.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(hi(Gf,t.lens,0,288,Ho,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;hi(Yf,t.lens,0,32,Ko,0,t.work,{bits:5}),Wf=!1}t.lencode=Ho,t.lenbits=9,t.distcode=Ko,t.distbits=5}function nd(t,e,r,n){var i,s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Me.Buf8(s.wsize)),n>=s.wsize?(Me.arraySet(s.window,e,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),Me.arraySet(s.window,e,r-n,i,s.wnext),n-=i,n?(Me.arraySet(s.window,e,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}function cw(t,e){var r,n,i,s,a,o,u,c,l,f,h,p,w,g,y=0,b,v,k,D,x,A,_,C,E=new Me.Buf8(4),T,F,B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return We;r=t.state,r.mode===Lt&&(r.mode=zo),a=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,c=r.hold,l=r.bits,f=o,h=u,C=Tr;e:for(;;)switch(r.mode){case Jf:if(r.wrap===0){r.mode=zo;break}for(;l<16;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if(r.wrap&2&&c===35615){r.check=0,E[0]=c&255,E[1]=c>>>8&255,r.check=Et(r.check,E,2,0),c=0,l=0,r.mode=Sf;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=ie;break}if((c&15)!==Df){t.msg="unknown compression method",r.mode=ie;break}if(c>>>=4,l-=4,_=(c&15)+8,r.wbits===0)r.wbits=_;else if(_>r.wbits){t.msg="invalid window size",r.mode=ie;break}r.dmax=1<<_,t.adler=r.check=1,r.mode=c&512?Nf:Lt,c=0,l=0;break;case Sf:for(;l<16;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if(r.flags=c,(r.flags&255)!==Df){t.msg="unknown compression method",r.mode=ie;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=ie;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&(E[0]=c&255,E[1]=c>>>8&255,r.check=Et(r.check,E,2,0)),c=0,l=0,r.mode=Af;case Af:for(;l<32;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}r.head&&(r.head.time=c),r.flags&512&&(E[0]=c&255,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,r.check=Et(r.check,E,4,0)),c=0,l=0,r.mode=Ff;case Ff:for(;l<16;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&(E[0]=c&255,E[1]=c>>>8&255,r.check=Et(r.check,E,2,0)),c=0,l=0,r.mode=Cf;case Cf:if(r.flags&1024){for(;l<16;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&(E[0]=c&255,E[1]=c>>>8&255,r.check=Et(r.check,E,2,0)),c=0,l=0}else r.head&&(r.head.extra=null);r.mode=Tf;case Tf:if(r.flags&1024&&(p=r.length,p>o&&(p=o),p&&(r.head&&(_=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),Me.arraySet(r.head.extra,n,s,p,_)),r.flags&512&&(r.check=Et(r.check,n,p,s)),o-=p,s+=p,r.length-=p),r.length))break e;r.length=0,r.mode=If;case If:if(r.flags&2048){if(o===0)break e;p=0;do _=n[s+p++],r.head&&_&&r.length<65536&&(r.head.name+=String.fromCharCode(_));while(_&&p<o);if(r.flags&512&&(r.check=Et(r.check,n,p,s)),o-=p,s+=p,_)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Bf;case Bf:if(r.flags&4096){if(o===0)break e;p=0;do _=n[s+p++],r.head&&_&&r.length<65536&&(r.head.comment+=String.fromCharCode(_));while(_&&p<o);if(r.flags&512&&(r.check=Et(r.check,n,p,s)),o-=p,s+=p,_)break e}else r.head&&(r.head.comment=null);r.mode=Of;case Of:if(r.flags&512){for(;l<16;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if(c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=ie;break}c=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Lt;break;case Nf:for(;l<32;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}t.adler=r.check=Vf(c),c=0,l=0,r.mode=ws;case ws:if(r.havedict===0)return t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=l,Jg;t.adler=r.check=1,r.mode=Lt;case Lt:if(e===Yg||e===ps)break e;case zo:if(r.last){c>>>=l&7,l-=l&7,r.mode=Zo;break}for(;l<3;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}switch(r.last=c&1,c>>>=1,l-=1,c&3){case 0:r.mode=Rf;break;case 1:if(ow(r),r.mode=ms,e===ps){c>>>=2,l-=2;break e}break;case 2:r.mode=Pf;break;case 3:t.msg="invalid block type",r.mode=ie}c>>>=2,l-=2;break;case Rf:for(c>>>=l&7,l-=l&7;l<32;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=ie;break}if(r.length=c&65535,c=0,l=0,r.mode=qo,e===ps)break e;case qo:r.mode=$f;case $f:if(p=r.length,p){if(p>o&&(p=o),p>u&&(p=u),p===0)break e;Me.arraySet(i,n,s,p,a),o-=p,s+=p,u-=p,a+=p,r.length-=p;break}r.mode=Lt;break;case Pf:for(;l<14;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if(r.nlen=(c&31)+257,c>>>=5,l-=5,r.ndist=(c&31)+1,c>>>=5,l-=5,r.ncode=(c&15)+4,c>>>=4,l-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=ie;break}r.have=0,r.mode=Mf;case Mf:for(;r.have<r.ncode;){for(;l<3;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}r.lens[B[r.have++]]=c&7,c>>>=3,l-=3}for(;r.have<19;)r.lens[B[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,T={bits:r.lenbits},C=hi(Gg,r.lens,0,19,r.lencode,0,r.work,T),r.lenbits=T.bits,C){t.msg="invalid code lengths set",r.mode=ie;break}r.have=0,r.mode=Lf;case Lf:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[c&(1<<r.lenbits)-1],b=y>>>24,v=y>>>16&255,k=y&65535,!(b<=l);){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if(k<16)c>>>=b,l-=b,r.lens[r.have++]=k;else{if(k===16){for(F=b+2;l<F;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if(c>>>=b,l-=b,r.have===0){t.msg="invalid bit length repeat",r.mode=ie;break}_=r.lens[r.have-1],p=3+(c&3),c>>>=2,l-=2}else if(k===17){for(F=b+3;l<F;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}c>>>=b,l-=b,_=0,p=3+(c&7),c>>>=3,l-=3}else{for(F=b+7;l<F;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}c>>>=b,l-=b,_=0,p=11+(c&127),c>>>=7,l-=7}if(r.have+p>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=ie;break}for(;p--;)r.lens[r.have++]=_}}if(r.mode===ie)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=ie;break}if(r.lenbits=9,T={bits:r.lenbits},C=hi(Gf,r.lens,0,r.nlen,r.lencode,0,r.work,T),r.lenbits=T.bits,C){t.msg="invalid literal/lengths set",r.mode=ie;break}if(r.distbits=6,r.distcode=r.distdyn,T={bits:r.distbits},C=hi(Yf,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,T),r.distbits=T.bits,C){t.msg="invalid distances set",r.mode=ie;break}if(r.mode=ms,e===ps)break e;case ms:r.mode=gs;case gs:if(o>=6&&u>=258){t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=l,Wg(t,h),a=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,c=r.hold,l=r.bits,r.mode===Lt&&(r.back=-1);break}for(r.back=0;y=r.lencode[c&(1<<r.lenbits)-1],b=y>>>24,v=y>>>16&255,k=y&65535,!(b<=l);){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if(v&&!(v&240)){for(D=b,x=v,A=k;y=r.lencode[A+((c&(1<<D+x)-1)>>D)],b=y>>>24,v=y>>>16&255,k=y&65535,!(D+b<=l);){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}c>>>=D,l-=D,r.back+=D}if(c>>>=b,l-=b,r.back+=b,r.length=k,v===0){r.mode=Zf;break}if(v&32){r.back=-1,r.mode=Lt;break}if(v&64){t.msg="invalid literal/length code",r.mode=ie;break}r.extra=v&15,r.mode=jf;case jf:if(r.extra){for(F=r.extra;l<F;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Uf;case Uf:for(;y=r.distcode[c&(1<<r.distbits)-1],b=y>>>24,v=y>>>16&255,k=y&65535,!(b<=l);){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if(!(v&240)){for(D=b,x=v,A=k;y=r.distcode[A+((c&(1<<D+x)-1)>>D)],b=y>>>24,v=y>>>16&255,k=y&65535,!(D+b<=l);){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}c>>>=D,l-=D,r.back+=D}if(c>>>=b,l-=b,r.back+=b,v&64){t.msg="invalid distance code",r.mode=ie;break}r.offset=k,r.extra=v&15,r.mode=zf;case zf:if(r.extra){for(F=r.extra;l<F;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=ie;break}r.mode=qf;case qf:if(u===0)break e;if(p=h-u,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=ie;break}p>r.wnext?(p-=r.wnext,w=r.wsize-p):w=r.wnext-p,p>r.length&&(p=r.length),g=r.window}else g=i,w=a-r.offset,p=r.length;p>u&&(p=u),u-=p,r.length-=p;do i[a++]=g[w++];while(--p);r.length===0&&(r.mode=gs);break;case Zf:if(u===0)break e;i[a++]=r.length,u--,r.mode=gs;break;case Zo:if(r.wrap){for(;l<32;){if(o===0)break e;o--,c|=n[s++]<<l,l+=8}if(h-=u,t.total_out+=h,r.total+=h,h&&(t.adler=r.check=r.flags?Et(r.check,i,h,a-h):Vo(r.check,i,h,a-h)),h=u,(r.flags?c:Vf(c))!==r.check){t.msg="incorrect data check",r.mode=ie;break}c=0,l=0}r.mode=Hf;case Hf:if(r.wrap&&r.flags){for(;l<32;){if(o===0)break e;o--,c+=n[s++]<<l,l+=8}if(c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=ie;break}c=0,l=0}r.mode=Kf;case Kf:C=Xg;break e;case ie:C=Xf;break e;case Go:return Wo;case ew:default:return We}return t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=l,(r.wsize||h!==t.avail_out&&r.mode<ie&&(r.mode<Zo||e!==kf))&&nd(t,t.output,t.next_out,h-t.avail_out)?(r.mode=Go,Wo):(f-=t.avail_in,h-=t.avail_out,t.total_in+=f,t.total_out+=h,r.total+=h,r.wrap&&h&&(t.adler=r.check=r.flags?Et(r.check,i,h,t.next_out-h):Vo(r.check,i,h,t.next_out-h)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Lt?128:0)+(r.mode===ms||r.mode===qo?256:0),(f===0&&h===0||e===kf)&&C===Tr&&(C=Qg),C)}function uw(t){if(!t||!t.state)return We;var e=t.state;return e.window&&(e.window=null),t.state=null,Tr}function lw(t,e){var r;return!t||!t.state||(r=t.state,!(r.wrap&2))?We:(r.head=e,e.done=!1,Tr)}function fw(t,e){var r=e.length,n,i,s;return!t||!t.state||(n=t.state,n.wrap!==0&&n.mode!==ws)?We:n.mode===ws&&(i=1,i=Vo(i,e,r,0),i!==n.check)?Xf:(s=nd(t,e,r,r),s?(n.mode=Go,Wo):(n.havedict=1,Tr))}tt.inflateReset=ed;tt.inflateReset2=td;tt.inflateResetKeep=Qf;tt.inflateInit=aw;tt.inflateInit2=rd;tt.inflate=cw;tt.inflateEnd=uw;tt.inflateGetHeader=lw;tt.inflateSetDictionary=fw;tt.inflateInfo="pako inflate (from Nodeca project)"});var Yo=j((px,sd)=>{"use strict";d();sd.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var od=j((gx,ad)=>{"use strict";d();function dw(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}ad.exports=dw});var ud=j(mi=>{"use strict";d();var _n=id(),pi=$t(),ys=Ro(),ce=Yo(),Xo=ss(),hw=$o(),pw=od(),cd=Object.prototype.toString;function Ir(t){if(!(this instanceof Ir))return new Ir(t);this.options=pi.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new hw,this.strm.avail_out=0;var r=_n.inflateInit2(this.strm,e.windowBits);if(r!==ce.Z_OK)throw new Error(Xo[r]);if(this.header=new pw,_n.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=ys.string2buf(e.dictionary):cd.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=_n.inflateSetDictionary(this.strm,e.dictionary),r!==ce.Z_OK)))throw new Error(Xo[r])}Ir.prototype.push=function(t,e){var r=this.strm,n=this.options.chunkSize,i=this.options.dictionary,s,a,o,u,c,l=!1;if(this.ended)return!1;a=e===~~e?e:e===!0?ce.Z_FINISH:ce.Z_NO_FLUSH,typeof t=="string"?r.input=ys.binstring2buf(t):cd.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new pi.Buf8(n),r.next_out=0,r.avail_out=n),s=_n.inflate(r,ce.Z_NO_FLUSH),s===ce.Z_NEED_DICT&&i&&(s=_n.inflateSetDictionary(this.strm,i)),s===ce.Z_BUF_ERROR&&l===!0&&(s=ce.Z_OK,l=!1),s!==ce.Z_STREAM_END&&s!==ce.Z_OK)return this.onEnd(s),this.ended=!0,!1;r.next_out&&(r.avail_out===0||s===ce.Z_STREAM_END||r.avail_in===0&&(a===ce.Z_FINISH||a===ce.Z_SYNC_FLUSH))&&(this.options.to==="string"?(o=ys.utf8border(r.output,r.next_out),u=r.next_out-o,c=ys.buf2string(r.output,o),r.next_out=u,r.avail_out=n-u,u&&pi.arraySet(r.output,r.output,o,u,0),this.onData(c)):this.onData(pi.shrinkBuf(r.output,r.next_out))),r.avail_in===0&&r.avail_out===0&&(l=!0)}while((r.avail_in>0||r.avail_out===0)&&s!==ce.Z_STREAM_END);return s===ce.Z_STREAM_END&&(a=ce.Z_FINISH),a===ce.Z_FINISH?(s=_n.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===ce.Z_OK):(a===ce.Z_SYNC_FLUSH&&(this.onEnd(ce.Z_OK),r.avail_out=0),!0)};Ir.prototype.onData=function(t){this.chunks.push(t)};Ir.prototype.onEnd=function(t){t===ce.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=pi.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Jo(t,e){var r=new Ir(e);if(r.push(t,!0),r.err)throw r.msg||Xo[r.err];return r.result}function mw(t,e){return e=e||{},e.raw=!0,Jo(t,e)}mi.Inflate=Ir;mi.inflate=Jo;mi.inflateRaw=mw;mi.ungzip=Jo});var dd=j((bx,fd)=>{"use strict";d();var gw=$t().assign,ww=pf(),yw=ud(),_w=Yo(),ld={};gw(ld,ww,yw,_w);fd.exports=ld});var md=j((xx,pd)=>{"use strict";d();var hd=(t,e)=>function(...r){let n=e.promiseModule;return new n((i,s)=>{e.multiArgs?r.push((...a)=>{e.errorFirst?a[0]?s(a):(a.shift(),i(a)):i(a)}):e.errorFirst?r.push((a,o)=>{a?s(a):i(o)}):r.push(i),t.apply(this,r)})};pd.exports=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);let r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);let n=s=>{let a=o=>typeof o=="string"?s===o:o.test(s);return e.include?e.include.some(a):!e.exclude.some(a)},i;r==="function"?i=function(...s){return e.excludeMain?t(...s):hd(t,e).apply(this,s)}:i=Object.create(Object.getPrototypeOf(t));for(let s in t){let a=t[s];i[s]=typeof a=="function"&&n(s)?hd(a,e):a}return i}});var kd=j((kx,Ed)=>{d();function gd(t){return Array.isArray(t)?t:[t]}var tc="",wd=" ",Qo="\\",bw=/^\s+$/,vw=/(?:[^\\]|^)\\$/,xw=/^\\!/,Ew=/^\\#/,kw=/\r?\n/g,Dw=/^\.*\/|^\.+$/,ec="/",bd="node-ignore";typeof Symbol!="undefined"&&(bd=Symbol.for("node-ignore"));var yd=bd,Sw=(t,e,r)=>Object.defineProperty(t,e,{value:r}),Aw=/([0-z])-([0-z])/g,vd=()=>!1,Fw=t=>t.replace(Aw,(e,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?e:tc),Cw=t=>{let{length:e}=t;return t.slice(0,e-e%2)},Tw=[[/^\uFEFF/,()=>tc],[/((?:\\\\)*?)(\\?\s+)$/,(t,e,r)=>e+(r.indexOf("\\")===0?wd:tc)],[/(\\+?)\s/g,(t,e)=>{let{length:r}=e;return e.slice(0,r-r%2)+wd}],[/[\\$.|*+(){^]/g,t=>`\\${t}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(t,e,r)=>e+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(t,e,r)=>{let n=r.replace(/\\\*/g,"[^\\/]*");return e+n}],[/\\\\\\(?=[$.|*+(){^])/g,()=>Qo],[/\\\\/g,()=>Qo],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(t,e,r,n,i)=>e===Qo?`\\[${r}${Cw(n)}${i}`:i==="]"&&n.length%2===0?`[${Fw(r)}${n}]`:"[]"],[/(?:[^*])$/,t=>/\/$/.test(t)?`${t}$`:`${t}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(t,e)=>`${e?`${e}[^/]+`:"[^/]*"}(?=$|\\/$)`]],_d=Object.create(null),Iw=(t,e)=>{let r=_d[t];return r||(r=Tw.reduce((n,[i,s])=>n.replace(i,s.bind(t)),t),_d[t]=r),e?new RegExp(r,"i"):new RegExp(r)},ic=t=>typeof t=="string",Bw=t=>t&&ic(t)&&!bw.test(t)&&!vw.test(t)&&t.indexOf("#")!==0,Ow=t=>t.split(kw),rc=class{constructor(e,r,n,i){this.origin=e,this.pattern=r,this.negative=n,this.regex=i}},Nw=(t,e)=>{let r=t,n=!1;t.indexOf("!")===0&&(n=!0,t=t.substr(1)),t=t.replace(xw,"!").replace(Ew,"#");let i=Iw(t,e);return new rc(r,t,n,i)},Rw=(t,e)=>{throw new e(t)},jt=(t,e,r)=>ic(t)?t?jt.isNotRelative(t)?r(`path should be a \`path.relative()\`d string, but got "${e}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${e}\``,TypeError),xd=t=>Dw.test(t);jt.isNotRelative=xd;jt.convert=t=>t;var nc=class{constructor({ignorecase:e=!0,ignoreCase:r=e,allowRelativePaths:n=!1}={}){Sw(this,yd,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(e){if(e&&e[yd]){this._rules=this._rules.concat(e._rules),this._added=!0;return}if(Bw(e)){let r=Nw(e,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(e){return this._added=!1,gd(ic(e)?Ow(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(e){return this.add(e)}_testOne(e,r){let n=!1,i=!1;return this._rules.forEach(s=>{let{negative:a}=s;if(i===a&&n!==i||a&&!n&&!i&&!r)return;s.regex.test(e)&&(n=!a,i=a)}),{ignored:n,unignored:i}}_test(e,r,n,i){let s=e&&jt.convert(e);return jt(s,e,this._allowRelativePaths?vd:Rw),this._t(s,r,n,i)}_t(e,r,n,i){if(e in r)return r[e];if(i||(i=e.split(ec)),i.pop(),!i.length)return r[e]=this._testOne(e,n);let s=this._t(i.join(ec)+ec,r,n,i);return r[e]=s.ignored?s:this._testOne(e,n)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return gd(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}},_s=t=>new nc(t),$w=t=>jt(t&&jt.convert(t),t,vd);_s.isPathValid=$w;_s.default=_s;Ed.exports=_s;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let t=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");jt.convert=t;let e=/^[a-z]:\//i;jt.isNotRelative=r=>e.test(r)||xd(r)}});var Sd=j((Sx,Dd)=>{"use strict";d();function Pw(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function kt(t,e,r){return e=e instanceof RegExp?e:new RegExp(Pw(e),"g"),t.replace(e,r)}var Mw={clean:function(e){if(typeof e!="string")throw new Error("Expected a string, received: "+e);return e=kt(e,"./","/"),e=kt(e,"..","."),e=kt(e," ","-"),e=kt(e,/^[~^:?*\\\-]/g,""),e=kt(e,/[~^:?*\\]/g,"-"),e=kt(e,/[~^:?*\\\-]$/g,""),e=kt(e,"@{","-"),e=kt(e,/\.$/g,""),e=kt(e,/\/$/g,""),e=kt(e,/\.lock$/g,""),e}};Dd.exports=Mw});var Fd=j((Fx,Ad)=>{d();Ad.exports=function(t,e){var r=t,n=e,i=r.length,s=n.length,a=!1,o=null,u=i+1,c=[],l=[],f=[],h="",p=-1,w=0,g=1,y,b,v=function(){i>=s&&(y=r,b=i,r=n,n=y,i=s,s=b,a=!0,u=i+1)},k=function(_,C,E){return{x:_,y:C,k:E}},D=function(_,C){return{elem:_,t:C}},x=function(_,C,E){var T,F,B;for(C>E?T=c[_-1+u]:T=c[_+1+u],B=Math.max(C,E),F=B-_;F<i&&B<s&&r[F]===n[B];)++F,++B;return c[_+u]=l.length,l[l.length]=new k(F,B,T),B},A=function(_){var C,E,T,F,B;for(C=E=1,T=F=0,B=_.length-1;B>=0;--B)for(;T<_[B].x||F<_[B].y;)_[B].y-_[B].x>F-T?(a?f[f.length]=new D(n[F],p):f[f.length]=new D(n[F],g),++E,++F):_[B].y-_[B].x<F-T?(a?f[f.length]=new D(r[T],g):f[f.length]=new D(r[T],p),++C,++T):(f[f.length]=new D(r[T],w),h+=r[T],++C,++E,++T,++F)};return v(),{SES_DELETE:-1,SES_COMMON:0,SES_ADD:1,editdistance:function(){return o},getlcs:function(){return h},getses:function(){return f},compose:function(){var _,C,E,T,F,B,P,U;for(_=s-i,C=i+s+3,E={},P=0;P<C;++P)E[P]=-1,c[P]=-1;T=-1;do{for(++T,U=-T;U<=_-1;++U)E[U+u]=x(U,E[U-1+u]+1,E[U+1+u]);for(U=_+T;U>=_+1;--U)E[U+u]=x(U,E[U-1+u]+1,E[U+1+u]);E[_+u]=x(_,E[_-1+u]+1,E[_+1+u])}while(E[_+u]!==s);for(o=_+2*T,F=c[_+u],B=[];F!==-1;)B[B.length]=new k(l[F].x,l[F].y,null),F=l[F].k;A(B)}}}});var Id=j((Tx,Td)=>{d();var Lw=Fd();function jw(t,e){var r=new Lw(t,e);r.compose();for(var n=r.getses(),i,s,a=t.length-1,o=e.length-1,u=n.length-1;u>=0;--u)n[u].t===r.SES_COMMON?(s?(s.chain={file1index:a,file2index:o,chain:null},s=s.chain):(i={file1index:a,file2index:o,chain:null},s=i),a--,o--):n[u].t===r.SES_DELETE?a--:n[u].t===r.SES_ADD&&o--;var c={file1index:-1,file2index:-1,chain:null};return s?(s.chain=c,i):c}function Cd(t,e){for(var r=[],n=t.length,i=e.length,s=jw(t,e);s!==null;s=s.chain){var a=n-s.file1index-1,o=i-s.file2index-1;n=s.file1index,i=s.file2index,(a||o)&&r.push({file1:[n+1,a],file2:[i+1,o]})}return r.reverse(),r}function Uw(t,e,r){var n,i=Cd(e,t),s=Cd(e,r),a=[];function o(P,U){a.push([P.file1[0],U,P.file1[1],P.file2[0],P.file2[1]])}for(n=0;n<i.length;n++)o(i[n],0);for(n=0;n<s.length;n++)o(s[n],2);a.sort(function(P,U){return P[0]-U[0]});var u=[],c=0;function l(P){P>c&&(u.push([1,c,P-c]),c=P)}for(var f=0;f<a.length;f++){for(var h=f,p=a[f],w=p[0],g=w+p[2];f<a.length-1;){var y=a[f+1],b=y[0];if(b>g)break;g=Math.max(g,b+y[2]),f++}if(l(w),h==f)p[4]>0&&u.push([p[1],p[3],p[4]]);else{var v={0:[t.length,-1,e.length,-1],2:[r.length,-1,e.length,-1]};for(n=h;n<=f;n++){p=a[n];var k=p[1],D=v[k],x=p[0],A=x+p[2],_=p[3],C=_+p[4];D[0]=Math.min(_,D[0]),D[1]=Math.max(C,D[1]),D[2]=Math.min(x,D[2]),D[3]=Math.max(A,D[3])}var E=v[0][0]+(w-v[0][2]),T=v[0][1]+(g-v[0][3]),F=v[2][0]+(w-v[2][2]),B=v[2][1]+(g-v[2][3]);u.push([-1,E,T-E,w,g-w,F,B-F])}c=g}return l(e.length),u}function zw(t,e,r){var n=[],i=[t,e,r],s=Uw(t,e,r),a=[];function o(){a.length&&n.push({ok:a}),a=[]}function u(p){for(var w=0;w<p.length;w++)a.push(p[w])}function c(p){if(p[2]!=p[6])return!0;for(var w=p[1],g=p[5],y=0;y<p[2];y++)if(t[y+w]!=r[y+g])return!0;return!1}for(var l=0;l<s.length;l++){var f=s[l],h=f[0];h==-1?c(f)?(o(),n.push({conflict:{a:t.slice(f[1],f[1]+f[2]),aIndex:f[1],o:e.slice(f[3],f[3]+f[4]),oIndex:f[3],b:r.slice(f[5],f[5]+f[6]),bIndex:f[5]}})):u(i[0].slice(f[1],f[1]+f[2])):u(i[h].slice(f[1],f[1]+f[2]))}return o(),n}Td.exports=zw});var Nh=j(($x,Oh)=>{d();Oh.exports=y_;function y_(t){var e,r;if(typeof t!="function")throw new Error("expected a function but got "+t);return function(){return e||(e=!0,r=t.apply(this,arguments)),r}}});var $h=j(Rh=>{d();(function(t){"use strict";function e(b,v){var k;return b instanceof m?k=b:k=m.from(b.buffer,b.byteOffset,b.byteLength),k.toString(v)}var r=function(b){return m.from(b)};function n(b){for(var v=0,k=Math.min(256*256,b.length+1),D=new Uint16Array(k),x=[],A=0;;){var _=v<b.length;if(!_||A>=k-1){var C=D.subarray(0,A),E=C;if(x.push(String.fromCharCode.apply(null,E)),!_)return x.join("");b=b.subarray(v),v=0,A=0}var T=b[v++];if(!(T&128))D[A++]=T;else if((T&224)===192){var F=b[v++]&63;D[A++]=(T&31)<<6|F}else if((T&240)===224){var F=b[v++]&63,B=b[v++]&63;D[A++]=(T&31)<<12|F<<6|B}else if((T&248)===240){var F=b[v++]&63,B=b[v++]&63,P=b[v++]&63,U=(T&7)<<18|F<<12|B<<6|P;U>65535&&(U-=65536,D[A++]=U>>>10&1023|55296,U=56320|U&1023),D[A++]=U}}}function i(b){for(var v=0,k=b.length,D=0,x=Math.max(32,k+(k>>>1)+7),A=new Uint8Array(x>>>3<<3);v<k;){var _=b.charCodeAt(v++);if(_>=55296&&_<=56319){if(v<k){var C=b.charCodeAt(v);(C&64512)===56320&&(++v,_=((_&1023)<<10)+(C&1023)+65536)}if(_>=55296&&_<=56319)continue}if(D+4>A.length){x+=8,x*=1+v/b.length*2,x=x>>>3<<3;var E=new Uint8Array(x);E.set(A),A=E}if(_&4294967168)if(!(_&4294965248))A[D++]=_>>>6&31|192;else if(!(_&4294901760))A[D++]=_>>>12&15|224,A[D++]=_>>>6&63|128;else if(!(_&4292870144))A[D++]=_>>>18&7|240,A[D++]=_>>>12&63|128,A[D++]=_>>>6&63|128;else continue;else{A[D++]=_;continue}A[D++]=_&63|128}return A.slice?A.slice(0,D):A.subarray(0,D)}var s="Failed to ",a=function(b,v,k){if(b)throw new Error("".concat(s).concat(v,": the '").concat(k,"' option is unsupported."))},o=typeof m=="function"&&m.from,u=o?r:i;function c(){this.encoding="utf-8"}c.prototype.encode=function(b,v){return a(v&&v.stream,"encode","stream"),u(b)};function l(b){var v;try{var k=new Blob([b],{type:"text/plain;charset=UTF-8"});v=URL.createObjectURL(k);var D=new XMLHttpRequest;return D.open("GET",v,!1),D.send(),D.responseText}finally{v&&URL.revokeObjectURL(v)}}var f=!o&&typeof Blob=="function"&&typeof URL=="function"&&typeof URL.createObjectURL=="function",h=["utf-8","utf8","unicode-1-1-utf-8"],p=n;o?p=e:f&&(p=function(b){try{return l(b)}catch(v){return n(b)}});var w="construct 'TextDecoder'",g="".concat(s," ").concat(w,": the ");function y(b,v){a(v&&v.fatal,w,"fatal"),b=b||"utf-8";var k;if(o?k=m.isEncoding(b):k=h.indexOf(b.toLowerCase())!==-1,!k)throw new RangeError("".concat(g," encoding label provided ('").concat(b,"') is invalid."));this.encoding=b,this.fatal=!1,this.ignoreBOM=!1}y.prototype.decode=function(b,v){a(v&&v.stream,"decode","stream");var k;return b instanceof Uint8Array?k=b:b.buffer instanceof ArrayBuffer?k=new Uint8Array(b.buffer):k=new Uint8Array(b),p(k,this.encoding)},t.TextEncoder=t.TextEncoder||c,t.TextDecoder=t.TextDecoder||y})(typeof window!="undefined"?window:typeof global!="undefined"?global:Rh)});var Mh=j((jx,Ph)=>{d();$h();Ph.exports={encode:t=>new TextEncoder().encode(t),decode:t=>new TextDecoder().decode(t)}});var jh=j((zx,Lh)=>{d();Lh.exports=__;function __(t,e,r){var n;return function(){if(!e)return t.apply(this,arguments);var i=this,s=arguments,a=r&&!n;if(clearTimeout(n),n=setTimeout(function(){if(n=null,!a)return t.apply(i,s)},e),a)return t.apply(this,arguments)}}});var Gs=j((Zx,qh)=>{d();function Uh(t){if(t.length===0)return".";let e=zh(t);return e=e.reduce(E_,[]),jc(...e)}function b_(...t){let e="";for(let r of t)r.startsWith("/")?e=r:e=Uh(jc(e,r));return e}function jc(...t){if(t.length===0)return"";let e=t.join("/");return e=e.replace(/\/{2,}/g,"/"),e}function zh(t){if(t.length===0)return[];if(t==="/")return["/"];let e=t.split("/");return e[e.length-1]===""&&e.pop(),t[0]==="/"?e[0]="/":e[0]!=="."&&e.unshift("."),e}function v_(t){let e=t.lastIndexOf("/");if(e===-1)throw new Error(`Cannot get dirname of "${t}"`);return e===0?"/":t.slice(0,e)}function x_(t){if(t==="/")throw new Error(`Cannot get basename of "${t}"`);let e=t.lastIndexOf("/");return e===-1?t:t.slice(e+1)}function E_(t,e){if(t.length===0)return t.push(e),t;if(e===".")return t;if(e===".."){if(t.length===1){if(t[0]==="/")throw new Error("Unable to normalize path - traverses above root directory");if(t[0]===".")return t.push(e),t}return t[t.length-1]===".."?(t.push(".."),t):(t.pop(),t)}return t.push(e),t}qh.exports={join:jc,normalize:Uh,split:zh,basename:x_,dirname:v_,resolve:b_}});var Uc=j((Kx,Zh)=>{d();function Di(t){return class extends Error{constructor(...e){super(...e),this.code=t,this.message?this.message=t+": "+this.message:this.message=t}}}var k_=Di("EEXIST"),D_=Di("ENOENT"),S_=Di("ENOTDIR"),A_=Di("ENOTEMPTY"),F_=Di("ETIMEDOUT");Zh.exports={EEXIST:k_,ENOENT:D_,ENOTDIR:S_,ENOTEMPTY:A_,ETIMEDOUT:F_}});var Wh=j((Yx,Vh)=>{d();var Se=Gs(),{EEXIST:Hh,ENOENT:C_,ENOTDIR:Kh,ENOTEMPTY:T_}=Uc(),be=0;Vh.exports=class{constructor(){}_makeRoot(e=new Map){return e.set(be,{mode:511,type:"dir",size:0,ino:0,mtimeMs:Date.now()}),e}activate(e=null){e===null?this._root=new Map([["/",this._makeRoot()]]):typeof e=="string"?this._root=new Map([["/",this._makeRoot(this.parse(e))]]):this._root=e}get activated(){return!!this._root}deactivate(){this._root=void 0}size(){return this._countInodes(this._root.get("/"))-1}_countInodes(e){let r=1;for(let[n,i]of e)n!==be&&(r+=this._countInodes(i));return r}autoinc(){return this._maxInode(this._root.get("/"))+1}_maxInode(e){let r=e.get(be).ino;for(let[n,i]of e)n!==be&&(r=Math.max(r,this._maxInode(i)));return r}print(e=this._root.get("/")){let r="",n=(i,s)=>{for(let[a,o]of i){if(a===0)continue;let u=o.get(be),c=u.mode.toString(8);r+=`${"	".repeat(s)}${a}	${c}`,u.type==="file"?r+=`	${u.size}	${u.mtimeMs}
`:(r+=`
`,n(o,s+1))}};return n(e,0),r}parse(e){let r=0;function n(o){let u=++r,c=o.length===1?"dir":"file",[l,f,h]=o;return l=parseInt(l,8),f=f?parseInt(f):0,h=h?parseInt(h):Date.now(),new Map([[be,{mode:l,type:c,size:f,mtimeMs:h,ino:u}]])}let i=e.trim().split(`
`),s=this._makeRoot(),a=[{indent:-1,node:s},{indent:0,node:null}];for(let o of i){let c=o.match(/^\t*/)[0].length;o=o.slice(c);let[l,...f]=o.split("	"),h=n(f);if(c<=a[a.length-1].indent)for(;c<=a[a.length-1].indent;)a.pop();a.push({indent:c,node:h}),a[a.length-2].node.set(l,h)}return s}_lookup(e,r=!0){let n=this._root,i="/",s=Se.split(e);for(let a=0;a<s.length;++a){let o=s[a];if(n=n.get(o),!n)throw new C_(e);if(r||a<s.length-1){let u=n.get(be);if(u.type==="symlink"){let c=Se.resolve(i,u.target);n=this._lookup(c)}i?i=Se.join(i,o):i=o}}return n}mkdir(e,{mode:r}){if(e==="/")throw new Hh;let n=this._lookup(Se.dirname(e)),i=Se.basename(e);if(n.has(i))throw new Hh;let s=new Map,a={mode:r,type:"dir",size:0,mtimeMs:Date.now(),ino:this.autoinc()};s.set(be,a),n.set(i,s)}rmdir(e){let r=this._lookup(e);if(r.get(be).type!=="dir")throw new Kh;if(r.size>1)throw new T_;let n=this._lookup(Se.dirname(e)),i=Se.basename(e);n.delete(i)}readdir(e){let r=this._lookup(e);if(r.get(be).type!=="dir")throw new Kh;return[...r.keys()].filter(n=>typeof n=="string")}writeStat(e,r,{mode:n}){let i;try{let c=this.stat(e);n==null&&(n=c.mode),i=c.ino}catch(c){}n==null&&(n=438),i==null&&(i=this.autoinc());let s=this._lookup(Se.dirname(e)),a=Se.basename(e),o={mode:n,type:"file",size:r,mtimeMs:Date.now(),ino:i},u=new Map;return u.set(be,o),s.set(a,u),o}unlink(e){let r=this._lookup(Se.dirname(e)),n=Se.basename(e);r.delete(n)}rename(e,r){let n=Se.basename(r),i=this._lookup(e);this._lookup(Se.dirname(r)).set(n,i),this.unlink(e)}stat(e){return this._lookup(e).get(be)}lstat(e){return this._lookup(e,!1).get(be)}readlink(e){return this._lookup(e,!1).get(be).target}symlink(e,r){let n,i;try{let c=this.stat(r);i===null&&(i=c.mode),n=c.ino}catch(c){}i==null&&(i=40960),n==null&&(n=this.autoinc());let s=this._lookup(Se.dirname(r)),a=Se.basename(r),o={mode:i,type:"symlink",target:e,size:0,mtimeMs:Date.now(),ino:n},u=new Map;return u.set(be,o),s.set(a,u),o}_du(e){let r=0;for(let[n,i]of e.entries())n===be?r+=i.size:r+=this._du(i);return r}du(e){let r=this._lookup(e);return this._du(r)}}});var qc=j(St=>{"use strict";d();Object.defineProperty(St,"__esModule",{value:!0});var Ys=class{constructor(e="keyval-store",r="keyval"){this.storeName=r,this._dbName=e,this._storeName=r,this._init()}_init(){this._dbp||(this._dbp=new Promise((e,r)=>{let n=indexedDB.open(this._dbName);n.onerror=()=>r(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=()=>{n.result.createObjectStore(this._storeName)}}))}_withIDBStore(e,r){return this._init(),this._dbp.then(n=>new Promise((i,s)=>{let a=n.transaction(this.storeName,e);a.oncomplete=()=>i(),a.onabort=a.onerror=()=>s(a.error),r(a.objectStore(this.storeName))}))}_close(){return this._init(),this._dbp.then(e=>{e.close(),this._dbp=void 0})}},zc;function Pr(){return zc||(zc=new Ys),zc}function I_(t,e=Pr()){let r;return e._withIDBStore("readwrite",n=>{r=n.get(t)}).then(()=>r.result)}function B_(t,e,r=Pr()){return r._withIDBStore("readwrite",n=>{n.put(e,t)})}function O_(t,e,r=Pr()){return r._withIDBStore("readwrite",n=>{let i=n.get(t);i.onsuccess=()=>{n.put(e(i.result),t)}})}function N_(t,e=Pr()){return e._withIDBStore("readwrite",r=>{r.delete(t)})}function R_(t=Pr()){return t._withIDBStore("readwrite",e=>{e.clear()})}function $_(t=Pr()){let e=[];return t._withIDBStore("readwrite",r=>{(r.openKeyCursor||r.openCursor).call(r).onsuccess=function(){this.result&&(e.push(this.result.key),this.result.continue())}}).then(()=>e)}function P_(t=Pr()){return t._close()}St.Store=Ys;St.get=I_;St.set=B_;St.update=O_;St.del=N_;St.clear=R_;St.keys=$_;St.close=P_});var Yh=j((tE,Gh)=>{d();var ur=qc();Gh.exports=class{constructor(e,r){this._database=e,this._storename=r,this._store=new ur.Store(this._database,this._storename)}saveSuperblock(e){return ur.set("!root",e,this._store)}loadSuperblock(){return ur.get("!root",this._store)}readFile(e){return ur.get(e,this._store)}writeFile(e,r){return ur.set(e,r,this._store)}unlink(e){return ur.del(e,this._store)}wipe(){return ur.clear(this._store)}close(){return ur.close(this._store)}}});var Jh=j((iE,Xh)=>{d();Xh.exports=class{constructor(e){this._url=e}loadSuperblock(){return fetch(this._url+"/.superblock.txt").then(e=>e.ok?e.text():null)}async readFile(e){let r=await fetch(this._url+e);if(r.status===200)return r.arrayBuffer();throw new Error("ENOENT")}async sizeFile(e){let r=await fetch(this._url+e,{method:"HEAD"});if(r.status===200)return r.headers.get("content-length");throw new Error("ENOENT")}}});var ep=j((oE,Qh)=>{d();var Si=qc(),M_=t=>new Promise(e=>setTimeout(e,t));Qh.exports=class{constructor(e,r){this._id=Math.random(),this._database=e,this._storename=r,this._store=new Si.Store(this._database,this._storename),this._lock=null}async has({margin:e=2e3}={}){if(this._lock&&this._lock.holder===this._id){let r=Date.now();return this._lock.expires>r+e?!0:await this.renew()}else return!1}async renew({ttl:e=5e3}={}){let r;return await Si.update("lock",n=>{let s=Date.now()+e;return r=n&&n.holder===this._id,this._lock=r?{holder:this._id,expires:s}:n,this._lock},this._store),r}async acquire({ttl:e=5e3}={}){let r,n,i;if(await Si.update("lock",s=>{let a=Date.now(),o=a+e;return n=s&&s.expires<a,r=s===void 0||n,i=s&&s.holder===this._id,this._lock=r?{holder:this._id,expires:o}:s,this._lock},this._store),i)throw new Error("Mutex double-locked");return r}async wait({interval:e=100,limit:r=6e3,ttl:n}={}){for(;r--;){if(await this.acquire({ttl:n}))return!0;await M_(e)}throw new Error("Mutex timeout")}async release({force:e=!1}={}){let r,n,i;if(await Si.update("lock",s=>(r=e||s&&s.holder===this._id,n=s===void 0,i=s&&s.holder!==this._id,this._lock=r?void 0:s,this._lock),this._store),await Si.close(this._store),!r&&!e){if(n)throw new Error("Mutex double-freed");if(i)throw new Error("Mutex lost ownership")}return r}}});var rp=j((lE,tp)=>{d();tp.exports=class{constructor(e){this._id=Math.random(),this._database=e,this._has=!1,this._release=null}async has(){return this._has}async acquire(){return new Promise(e=>{navigator.locks.request(this._database+"_lock",{ifAvailable:!0},r=>(this._has=!!r,e(!!r),new Promise(n=>{this._release=n})))})}async wait({timeout:e=6e5}={}){return new Promise((r,n)=>{let i=new AbortController;setTimeout(()=>{i.abort(),n(new Error("Mutex timeout"))},e),navigator.locks.request(this._database+"_lock",{signal:i.signal},s=>(this._has=!!s,r(!!s),new Promise(a=>{this._release=a})))})}async release({force:e=!1}={}){this._has=!1,this._release?this._release():e&&navigator.locks.request(this._database+"_lock",{steal:!0},r=>!0)}}});var sp=j((hE,ip)=>{d();var{encode:L_,decode:np}=Mh(),j_=jh(),U_=Wh(),{ENOENT:z_,ENOTEMPTY:q_,ETIMEDOUT:Z_}=Uc(),H_=Yh(),K_=Jh(),V_=ep(),W_=rp(),Ai=Gs();ip.exports=class{constructor(){this.saveSuperblock=j_(()=>{this.flush()},500)}async init(e,{wipe:r,url:n,urlauto:i,fileDbName:s=e,db:a=null,fileStoreName:o=e+"_files",lockDbName:u=e+"_lock",lockStoreName:c=e+"_lock"}={}){this._name=e,this._idb=a||new H_(s,o),this._mutex=navigator.locks?new W_(e):new V_(u,c),this._cache=new U_(e),this._opts={wipe:r,url:n},this._needsWipe=!!r,n&&(this._http=new K_(n),this._urlauto=!!i)}async activate(){if(this._cache.activated)return;this._needsWipe&&(this._needsWipe=!1,await this._idb.wipe(),await this._mutex.release({force:!0})),await this._mutex.has()||await this._mutex.wait();let e=await this._idb.loadSuperblock();if(e)this._cache.activate(e);else if(this._http){let r=await this._http.loadSuperblock();this._cache.activate(r),await this._saveSuperblock()}else this._cache.activate();if(!await this._mutex.has())throw new Z_}async deactivate(){await this._mutex.has()&&await this._saveSuperblock(),this._cache.deactivate();try{await this._mutex.release()}catch(e){console.log(e)}await this._idb.close()}async _saveSuperblock(){this._cache.activated&&(this._lastSavedAt=Date.now(),await this._idb.saveSuperblock(this._cache._root))}_writeStat(e,r,n){let i=Ai.split(Ai.dirname(e)),s=i.shift();for(let a of i){s=Ai.join(s,a);try{this._cache.mkdir(s,{mode:511})}catch(o){}}return this._cache.writeStat(e,r,n)}async readFile(e,r){let{encoding:n}=r;if(n&&n!=="utf8")throw new Error('Only "utf8" encoding is supported in readFile');let i=null,s=null;try{s=this._cache.stat(e),i=await this._idb.readFile(s.ino)}catch(a){if(!this._urlauto)throw a}if(!i&&this._http){let a=this._cache.lstat(e);for(;a.type==="symlink";)e=Ai.resolve(Ai.dirname(e),a.target),a=this._cache.lstat(e);i=await this._http.readFile(e)}if(i&&((!s||s.size!=i.byteLength)&&(s=await this._writeStat(e,i.byteLength,{mode:s?s.mode:438}),this.saveSuperblock()),n==="utf8"?i=np(i):i.toString=()=>np(i)),!s)throw new z_(e);return i}async writeFile(e,r,n){let{mode:i,encoding:s="utf8"}=n;if(typeof r=="string"){if(s!=="utf8")throw new Error('Only "utf8" encoding is supported in writeFile');r=L_(r)}let a=await this._cache.writeStat(e,r.byteLength,{mode:i});await this._idb.writeFile(a.ino,r)}async unlink(e,r){let n=this._cache.lstat(e);this._cache.unlink(e),n.type!=="symlink"&&await this._idb.unlink(n.ino)}readdir(e,r){return this._cache.readdir(e)}mkdir(e,r){let{mode:n=511}=r;this._cache.mkdir(e,{mode:n})}rmdir(e,r){if(e==="/")throw new q_;this._cache.rmdir(e)}rename(e,r){this._cache.rename(e,r)}stat(e,r){return this._cache.stat(e)}lstat(e,r){return this._cache.lstat(e)}readlink(e,r){return this._cache.readlink(e)}symlink(e,r){this._cache.symlink(e,r)}async backFile(e,r){let n=await this._http.sizeFile(e);await this._writeStat(e,n,r)}du(e){return this._cache.du(e)}flush(){return this._saveSuperblock()}}});var op=j((gE,ap)=>{d();ap.exports=class{constructor(e){this.type=e.type,this.mode=e.mode,this.size=e.size,this.ino=e.ino,this.mtimeMs=e.mtimeMs,this.ctimeMs=e.ctimeMs||e.mtimeMs,this.uid=1,this.gid=1,this.dev=1}isFile(){return this.type==="file"}isDirectory(){return this.type==="dir"}isSymbolicLink(){return this.type==="symlink"}}});var fp=j((_E,lp)=>{d();var G_=sp(),cp=op(),Xs=Gs();function At(t,e,...r){return t=Xs.normalize(t),(typeof e=="undefined"||typeof e=="function")&&(e={}),typeof e=="string"&&(e={encoding:e}),[t,e,...r]}function Y_(t,e,r,...n){return t=Xs.normalize(t),(typeof r=="undefined"||typeof r=="function")&&(r={}),typeof r=="string"&&(r={encoding:r}),[t,e,r,...n]}function up(t,e,...r){return[Xs.normalize(t),Xs.normalize(e),...r]}lp.exports=class{constructor(e,r={}){this.init=this.init.bind(this),this.readFile=this._wrap(this.readFile,At,!1),this.writeFile=this._wrap(this.writeFile,Y_,!0),this.unlink=this._wrap(this.unlink,At,!0),this.readdir=this._wrap(this.readdir,At,!1),this.mkdir=this._wrap(this.mkdir,At,!0),this.rmdir=this._wrap(this.rmdir,At,!0),this.rename=this._wrap(this.rename,up,!0),this.stat=this._wrap(this.stat,At,!1),this.lstat=this._wrap(this.lstat,At,!1),this.readlink=this._wrap(this.readlink,At,!1),this.symlink=this._wrap(this.symlink,up,!0),this.backFile=this._wrap(this.backFile,At,!0),this.du=this._wrap(this.du,At,!1),this._deactivationPromise=null,this._deactivationTimeout=null,this._activationPromise=null,this._operations=new Set,e&&this.init(e,r)}async init(...e){return this._initPromiseResolve&&await this._initPromise,this._initPromise=this._init(...e),this._initPromise}async _init(e,r={}){await this._gracefulShutdown(),this._activationPromise&&await this._deactivate(),this._backend&&this._backend.destroy&&await this._backend.destroy(),this._backend=r.backend||new G_,this._backend.init&&await this._backend.init(e,r),this._initPromiseResolve&&(this._initPromiseResolve(),this._initPromiseResolve=null),r.defer||this.stat("/")}async _gracefulShutdown(){this._operations.size>0&&(this._isShuttingDown=!0,await new Promise(e=>this._gracefulShutdownResolve=e),this._isShuttingDown=!1,this._gracefulShutdownResolve=null)}_wrap(e,r,n){return async(...i)=>{i=r(...i);let s={name:e.name,args:i};this._operations.add(s);try{return await this._activate(),await e.apply(this,i)}finally{this._operations.delete(s),n&&this._backend.saveSuperblock(),this._operations.size===0&&(this._deactivationTimeout||clearTimeout(this._deactivationTimeout),this._deactivationTimeout=setTimeout(this._deactivate.bind(this),500))}}}async _activate(){this._initPromise||console.warn(new Error(`Attempted to use LightningFS ${this._name} before it was initialized.`)),await this._initPromise,this._deactivationTimeout&&(clearTimeout(this._deactivationTimeout),this._deactivationTimeout=null),this._deactivationPromise&&await this._deactivationPromise,this._deactivationPromise=null,this._activationPromise||(this._activationPromise=this._backend.activate?this._backend.activate():Promise.resolve()),await this._activationPromise}async _deactivate(){return this._activationPromise&&await this._activationPromise,this._deactivationPromise||(this._deactivationPromise=this._backend.deactivate?this._backend.deactivate():Promise.resolve()),this._activationPromise=null,this._gracefulShutdownResolve&&this._gracefulShutdownResolve(),this._deactivationPromise}async readFile(e,r){return this._backend.readFile(e,r)}async writeFile(e,r,n){return await this._backend.writeFile(e,r,n),null}async unlink(e,r){return await this._backend.unlink(e,r),null}async readdir(e,r){return this._backend.readdir(e,r)}async mkdir(e,r){return await this._backend.mkdir(e,r),null}async rmdir(e,r){return await this._backend.rmdir(e,r),null}async rename(e,r){return await this._backend.rename(e,r),null}async stat(e,r){let n=await this._backend.stat(e,r);return new cp(n)}async lstat(e,r){let n=await this._backend.lstat(e,r);return new cp(n)}async readlink(e,r){return this._backend.readlink(e,r)}async symlink(e,r){return await this._backend.symlink(e,r),null}async backFile(e,r){return await this._backend.backFile(e,r),null}async du(e){return this._backend.du(e)}async flush(){return this._backend.flush()}}});var hp=j((xE,dp)=>{d();var X_=Nh(),J_=fp();function Oe(t,e){return typeof t=="function"&&(e=t),e=X_(e),[(...n)=>e(null,...n),e]}dp.exports=class{constructor(...e){this.promises=new J_(...e),this.init=this.init.bind(this),this.readFile=this.readFile.bind(this),this.writeFile=this.writeFile.bind(this),this.unlink=this.unlink.bind(this),this.readdir=this.readdir.bind(this),this.mkdir=this.mkdir.bind(this),this.rmdir=this.rmdir.bind(this),this.rename=this.rename.bind(this),this.stat=this.stat.bind(this),this.lstat=this.lstat.bind(this),this.readlink=this.readlink.bind(this),this.symlink=this.symlink.bind(this),this.backFile=this.backFile.bind(this),this.du=this.du.bind(this),this.flush=this.flush.bind(this)}init(e,r){return this.promises.init(e,r)}readFile(e,r,n){let[i,s]=Oe(r,n);this.promises.readFile(e,r).then(i).catch(s)}writeFile(e,r,n,i){let[s,a]=Oe(n,i);this.promises.writeFile(e,r,n).then(s).catch(a)}unlink(e,r,n){let[i,s]=Oe(r,n);this.promises.unlink(e,r).then(i).catch(s)}readdir(e,r,n){let[i,s]=Oe(r,n);this.promises.readdir(e,r).then(i).catch(s)}mkdir(e,r,n){let[i,s]=Oe(r,n);this.promises.mkdir(e,r).then(i).catch(s)}rmdir(e,r,n){let[i,s]=Oe(r,n);this.promises.rmdir(e,r).then(i).catch(s)}rename(e,r,n){let[i,s]=Oe(n);this.promises.rename(e,r).then(i).catch(s)}stat(e,r,n){let[i,s]=Oe(r,n);this.promises.stat(e).then(i).catch(s)}lstat(e,r,n){let[i,s]=Oe(r,n);this.promises.lstat(e).then(i).catch(s)}readlink(e,r,n){let[i,s]=Oe(r,n);this.promises.readlink(e).then(i).catch(s)}symlink(e,r,n){let[i,s]=Oe(n);this.promises.symlink(e,r).then(i).catch(s)}backFile(e,r,n){let[i,s]=Oe(r,n);this.promises.backFile(e,r).then(i).catch(s)}du(e,r){let[n,i]=Oe(r);this.promises.du(e).then(n).catch(i)}flush(e){let[r,n]=Oe(e);this.promises.flush().then(r).catch(n)}}});var vv={};jm(vv,{ErrorModal:()=>Xa,default:()=>Ya});module.exports=Um(vv);d();var Ot=require("obsidian");d();var pe=require("obsidian");d();d();var wi=Nt(hl(),1),Pc=Nt(xl(),1),th=Nt(kl(),1),Ks=Nt(dd(),1),xs=Nt(md(),1),rh=Nt(kd(),1),pc=Nt(Sd(),1),qw=Nt(Id(),1),W=class t extends Error{constructor(e){super(e),this.caller=""}toJSON(){return{code:this.code,data:this.data,caller:this.caller,message:this.message,stack:this.stack}}fromJSON(e){let r=new t(e.message);return r.code=e.code,r.data=e.data,r.caller=e.caller,r.stack=e.stack,r}get isIsomorphicGitError(){return!0}},Es=class t extends W{constructor(e){super(`Modifying the index is not possible because you have unmerged files: ${e.toString}. Fix them up in the work tree, and then use 'git add/rm as appropriate to mark resolution and make a commit.`),this.code=this.name=t.code,this.data={filepaths:e}}};Es.code="UnmergedPathsError";var Z=class t extends W{constructor(e){super(`An internal error caused this command to fail. Please file a bug report at https://github.com/isomorphic-git/isomorphic-git/issues with this error message: ${e}`),this.code=this.name=t.code,this.data={message:e}}};Z.code="InternalError";var yi=class t extends W{constructor(e){super(`The filepath "${e}" contains unsafe character sequences`),this.code=this.name=t.code,this.data={filepath:e}}};yi.code="UnsafeFilepathError";var Ge=class{constructor(e){this.buffer=e,this._start=0}eof(){return this._start>=this.buffer.length}tell(){return this._start}seek(e){this._start=e}slice(e){let r=this.buffer.slice(this._start,this._start+e);return this._start+=e,r}toString(e,r){let n=this.buffer.toString(e,this._start,this._start+r);return this._start+=r,n}write(e,r,n){let i=this.buffer.write(e,this._start,r,n);return this._start+=r,i}copy(e,r,n){let i=e.copy(this.buffer,this._start,r,n);return this._start+=i,i}readUInt8(){let e=this.buffer.readUInt8(this._start);return this._start+=1,e}writeUInt8(e){let r=this.buffer.writeUInt8(e,this._start);return this._start+=1,r}readUInt16BE(){let e=this.buffer.readUInt16BE(this._start);return this._start+=2,e}writeUInt16BE(e){let r=this.buffer.writeUInt16BE(e,this._start);return this._start+=2,r}readUInt32BE(){let e=this.buffer.readUInt32BE(this._start);return this._start+=4,e}writeUInt32BE(e){let r=this.buffer.writeUInt32BE(e,this._start);return this._start+=4,r}};function Vs(t,e){return-(t<e)||+(t>e)}function nh(t,e){return Vs(t.path,e.path)}function ih(t){let e=t>0?t>>12:0;e!==4&&e!==8&&e!==10&&e!==14&&(e=8);let r=t&511;return r&73?r=493:r=420,e!==8&&(r=0),(e<<12)+r}var Dt=2**32;function Bd(t,e,r,n){if(t!==void 0&&e!==void 0)return[t,e];r===void 0&&(r=n.valueOf());let i=Math.floor(r/1e3),s=(r-i*1e3)*1e6;return[i,s]}function xn(t){let[e,r]=Bd(t.ctimeSeconds,t.ctimeNanoseconds,t.ctimeMs,t.ctime),[n,i]=Bd(t.mtimeSeconds,t.mtimeNanoseconds,t.mtimeMs,t.mtime);return{ctimeSeconds:e%Dt,ctimeNanoseconds:r%Dt,mtimeSeconds:n%Dt,mtimeNanoseconds:i%Dt,dev:t.dev%Dt,ino:t.ino%Dt,mode:ih(t.mode%Dt),uid:t.uid%Dt,gid:t.gid%Dt,size:t.size>-1?t.size%Dt:0}}function Zw(t){let e="";for(let r of new Uint8Array(t))r<16&&(e+="0"),e+=r.toString(16);return e}var sc=null;async function Nr(t){return sc===null&&(sc=await Kw()),sc?sh(t):Hw(t)}function Hw(t){return new Pc.default().update(t).digest("hex")}async function sh(t){let e=await crypto.subtle.digest("SHA-1",t);return Zw(e)}async function Kw(){try{if(await sh(new Uint8Array([]))==="da39a3ee5e6b4b0d3255bfef95601890afd80709")return!0}catch(t){}return!1}function Vw(t){return{assumeValid:!!(t&32768),extended:!!(t&16384),stage:(t&12288)>>12,nameLength:t&4095}}function Ww(t){let e=t.flags;return e.extended=!1,e.nameLength=Math.min(m.from(t.path).length,4095),(e.assumeValid?32768:0)+(e.extended?16384:0)+((e.stage&3)<<12)+(e.nameLength&4095)}var mc=class t{constructor(e,r){this._dirty=!1,this._unmergedPaths=r||new Set,this._entries=e||new Map}_addEntry(e){if(e.flags.stage===0)e.stages=[e],this._entries.set(e.path,e),this._unmergedPaths.delete(e.path);else{let r=this._entries.get(e.path);r||(this._entries.set(e.path,e),r=e),r.stages[e.flags.stage]=e,this._unmergedPaths.add(e.path)}}static async from(e){if(m.isBuffer(e))return t.fromBuffer(e);if(e===null)return new t(null);throw new Z("invalid type passed to GitIndex.from")}static async fromBuffer(e){if(e.length===0)throw new Z("Index file is empty (.git/index)");let r=new t,n=new Ge(e),i=n.toString("utf8",4);if(i!=="DIRC")throw new Z(`Invalid dircache magic file number: ${i}`);let s=await Nr(e.slice(0,-20)),a=e.slice(-20).toString("hex");if(a!==s)throw new Z(`Invalid checksum in GitIndex buffer: expected ${a} but saw ${s}`);let o=n.readUInt32BE();if(o!==2)throw new Z(`Unsupported dircache version: ${o}`);let u=n.readUInt32BE(),c=0;for(;!n.eof()&&c<u;){let l={};l.ctimeSeconds=n.readUInt32BE(),l.ctimeNanoseconds=n.readUInt32BE(),l.mtimeSeconds=n.readUInt32BE(),l.mtimeNanoseconds=n.readUInt32BE(),l.dev=n.readUInt32BE(),l.ino=n.readUInt32BE(),l.mode=n.readUInt32BE(),l.uid=n.readUInt32BE(),l.gid=n.readUInt32BE(),l.size=n.readUInt32BE(),l.oid=n.slice(20).toString("hex");let f=n.readUInt16BE();l.flags=Vw(f);let h=e.indexOf(0,n.tell()+1)-n.tell();if(h<1)throw new Z(`Got a path length of: ${h}`);if(l.path=n.toString("utf8",h),l.path.includes("..\\")||l.path.includes("../"))throw new yi(l.path);let p=8-(n.tell()-12)%8;for(p===0&&(p=8);p--;){let w=n.readUInt8();if(w!==0)throw new Z(`Expected 1-8 null characters but got '${w}' after ${l.path}`);if(n.eof())throw new Z("Unexpected end of file")}l.stages=[],r._addEntry(l),c++}return r}get unmergedPaths(){return[...this._unmergedPaths]}get entries(){return[...this._entries.values()].sort(nh)}get entriesMap(){return this._entries}get entriesFlat(){return[...this.entries].flatMap(e=>e.stages.length>1?e.stages.filter(r=>r):e)}*[Symbol.iterator](){for(let e of this.entries)yield e}insert({filepath:e,stats:r,oid:n,stage:i=0}){r||(r={ctimeSeconds:0,ctimeNanoseconds:0,mtimeSeconds:0,mtimeNanoseconds:0,dev:0,ino:0,mode:0,uid:0,gid:0,size:0}),r=xn(r);let s=m.from(e),a={ctimeSeconds:r.ctimeSeconds,ctimeNanoseconds:r.ctimeNanoseconds,mtimeSeconds:r.mtimeSeconds,mtimeNanoseconds:r.mtimeNanoseconds,dev:r.dev,ino:r.ino,mode:r.mode||33188,uid:r.uid,gid:r.gid,size:r.size,path:e,oid:n,flags:{assumeValid:!1,extended:!1,stage:i,nameLength:s.length<4095?s.length:4095},stages:[]};this._addEntry(a),this._dirty=!0}delete({filepath:e}){if(this._entries.has(e))this._entries.delete(e);else for(let r of this._entries.keys())r.startsWith(e+"/")&&this._entries.delete(r);this._unmergedPaths.has(e)&&this._unmergedPaths.delete(e),this._dirty=!0}clear(){this._entries.clear(),this._dirty=!0}has({filepath:e}){return this._entries.has(e)}render(){return this.entries.map(e=>`${e.mode.toString(8)} ${e.oid}    ${e.path}`).join(`
`)}static async _entryToBuffer(e){let r=m.from(e.path),n=Math.ceil((62+r.length+1)/8)*8,i=m.alloc(n),s=new Ge(i),a=xn(e);return s.writeUInt32BE(a.ctimeSeconds),s.writeUInt32BE(a.ctimeNanoseconds),s.writeUInt32BE(a.mtimeSeconds),s.writeUInt32BE(a.mtimeNanoseconds),s.writeUInt32BE(a.dev),s.writeUInt32BE(a.ino),s.writeUInt32BE(a.mode),s.writeUInt32BE(a.uid),s.writeUInt32BE(a.gid),s.writeUInt32BE(a.size),s.write(e.oid,20,"hex"),s.writeUInt16BE(Ww(e)),s.write(e.path,r.length,"utf8"),i}async toObject(){let e=m.alloc(12),r=new Ge(e);r.write("DIRC",4,"utf8"),r.writeUInt32BE(2),r.writeUInt32BE(this.entriesFlat.length);let n=[];for(let o of this.entries)if(n.push(t._entryToBuffer(o)),o.stages.length>1)for(let u of o.stages)u&&u!==o&&n.push(t._entryToBuffer(u));n=await Promise.all(n);let i=m.concat(n),s=m.concat([e,i]),a=await Nr(s);return m.concat([s,m.from(a,"hex")])}};function gc(t,e,r=!0,n=!0){let i=xn(t),s=xn(e);return r&&i.mode!==s.mode||i.mtimeSeconds!==s.mtimeSeconds||i.ctimeSeconds!==s.ctimeSeconds||i.uid!==s.uid||i.gid!==s.gid||n&&i.ino!==s.ino||i.size!==s.size}var ac=null,bn=Symbol("IndexCache");function Gw(){return{map:new Map,stats:new Map}}async function Yw(t,e,r){let n=await t.lstat(e),i=await t.read(e),s=await mc.from(i);r.map.set(e,s),r.stats.set(e,n)}async function Xw(t,e,r){let n=r.stats.get(e);if(n===void 0)return!0;let i=await t.lstat(e);return n===null||i===null?!1:gc(n,i)}var zt=class{static async acquire({fs:e,gitdir:r,cache:n,allowUnmerged:i=!0},s){n[bn]||(n[bn]=Gw());let a=`${r}/index`;ac===null&&(ac=new wi.default({maxPending:1/0}));let o,u=[];return await ac.acquire(a,async()=>{await Xw(e,a,n[bn])&&await Yw(e,a,n[bn]);let c=n[bn].map.get(a);if(u=c.unmergedPaths,u.length&&!i)throw new Es(u);if(o=await s(c),c._dirty){let l=await c.toObject();await e.write(a,l),n[bn].stats.set(a,await e.lstat(a)),c._dirty=!1}}),o}};function wc(t){let e=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return e>-1&&(t=t.slice(e+1)),t}function _i(t){let e=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return e===-1?".":e===0?"/":t.slice(0,e)}function ah(t){let e=new Map,r=function(i){if(!e.has(i)){let s={type:"tree",fullpath:i,basename:wc(i),metadata:{},children:[]};e.set(i,s),s.parent=r(_i(i)),s.parent&&s.parent!==s&&s.parent.children.push(s)}return e.get(i)},n=function(i,s){if(!e.has(i)){let a={type:"blob",fullpath:i,basename:wc(i),metadata:s,parent:r(_i(i)),children:[]};a.parent&&a.parent.children.push(a),e.set(i,a)}return e.get(i)};r(".");for(let i of t)n(i.path,i);return e}function Jw(t){switch(t){case 16384:return"tree";case 33188:return"blob";case 33261:return"blob";case 40960:return"blob";case 57344:return"commit"}throw new Z(`Unexpected GitTree entry mode: ${t.toString(8)}`)}var yc=class{constructor({fs:e,gitdir:r,cache:n}){this.treePromise=zt.acquire({fs:e,gitdir:r,cache:n},async function(s){return ah(s.entries)});let i=this;this.ConstructEntry=class{constructor(a){this._fullpath=a,this._type=!1,this._mode=!1,this._stat=!1,this._oid=!1}async type(){return i.type(this)}async mode(){return i.mode(this)}async stat(){return i.stat(this)}async content(){return i.content(this)}async oid(){return i.oid(this)}}}async readdir(e){let r=e._fullpath,i=(await this.treePromise).get(r);if(!i||i.type==="blob")return null;if(i.type!=="tree")throw new Error(`ENOTDIR: not a directory, scandir '${r}'`);let s=i.children.map(a=>a.fullpath);return s.sort(Vs),s}async type(e){return e._type===!1&&await e.stat(),e._type}async mode(e){return e._mode===!1&&await e.stat(),e._mode}async stat(e){if(e._stat===!1){let n=(await this.treePromise).get(e._fullpath);if(!n)throw new Error(`ENOENT: no such file or directory, lstat '${e._fullpath}'`);let i=n.type==="tree"?{}:xn(n.metadata);e._type=n.type==="tree"?"tree":Jw(i.mode),e._mode=i.mode,n.type==="tree"?e._stat=void 0:e._stat=i}return e._stat}async content(e){}async oid(e){if(e._oid===!1){let n=(await this.treePromise).get(e._fullpath);e._oid=n.metadata.oid}return e._oid}},Ws=Symbol("GitWalkSymbol");function oh(){let t=Object.create(null);return Object.defineProperty(t,Ws,{value:function({fs:e,gitdir:r,cache:n}){return new yc({fs:e,gitdir:r,cache:n})}}),Object.freeze(t),t}var Le=class t extends W{constructor(e){super(`Could not find ${e}.`),this.code=this.name=t.code,this.data={what:e}}};Le.code="NotFoundError";var or=class t extends W{constructor(e,r,n,i){super(`Object ${e} ${i?`at ${i}`:""}was anticipated to be a ${n} but it is a ${r}.`),this.code=this.name=t.code,this.data={oid:e,actual:r,expected:n,filepath:i}}};or.code="ObjectTypeError";var Rr=class t extends W{constructor(e){super(`Expected a 40-char hex object id but saw "${e}".`),this.code=this.name=t.code,this.data={value:e}}};Rr.code="InvalidOidError";var ks=class t extends W{constructor(e){super(`Could not find a fetch refspec for remote "${e}". Make sure the config file has an entry like the following:
[remote "${e}"]
	fetch = +refs/heads/*:refs/remotes/origin/*
`),this.code=this.name=t.code,this.data={remote:e}}};ks.code="NoRefspecError";var Ds=class t{constructor(e){if(this.refs=new Map,this.parsedConfig=[],e){let r=null;this.parsedConfig=e.trim().split(`
`).map(n=>{if(/^\s*#/.test(n))return{line:n,comment:!0};let i=n.indexOf(" ");if(n.startsWith("^")){let s=n.slice(1);return this.refs.set(r+"^{}",s),{line:n,ref:r,peeled:s}}else{let s=n.slice(0,i);return r=n.slice(i+1),this.refs.set(r,s),{line:n,ref:r,oid:s}}})}return this}static from(e){return new t(e)}delete(e){this.parsedConfig=this.parsedConfig.filter(r=>r.ref!==e),this.refs.delete(e)}toString(){return this.parsedConfig.map(({line:e})=>e).join(`
`)+`
`}},Ss=class t{constructor({remotePath:e,localPath:r,force:n,matchPrefix:i}){Object.assign(this,{remotePath:e,localPath:r,force:n,matchPrefix:i})}static from(e){let[r,n,i,s,a]=e.match(/^(\+?)(.*?)(\*?):(.*?)(\*?)$/).slice(1),o=r==="+",u=i==="*";if(u!==(a==="*"))throw new Z("Invalid refspec");return new t({remotePath:n,localPath:s,force:o,matchPrefix:u})}translate(e){if(this.matchPrefix){if(e.startsWith(this.remotePath))return this.localPath+e.replace(this.remotePath,"")}else if(e===this.remotePath)return this.localPath;return null}reverseTranslate(e){if(this.matchPrefix){if(e.startsWith(this.localPath))return this.remotePath+e.replace(this.localPath,"")}else if(e===this.localPath)return this.remotePath;return null}},_c=class t{constructor(e=[]){this.rules=e}static from(e){let r=[];for(let n of e)r.push(Ss.from(n));return new t(r)}add(e){let r=Ss.from(e);this.rules.push(r)}translate(e){let r=[];for(let n of this.rules)for(let i of e){let s=n.translate(i);s&&r.push([i,s])}return r}translateOne(e){let r=null;for(let n of this.rules){let i=n.translate(e);i&&(r=i)}return r}localNamespaces(){return this.rules.filter(e=>e.matchPrefix).map(e=>e.localPath.replace(/\/$/,""))}};function Qw(t,e){let r=t.replace(/\^\{\}$/,""),n=e.replace(/\^\{\}$/,""),i=-(r<n)||+(r>n);return i===0?t.endsWith("^{}")?1:-1:i}var Od=new Map;function Nd(t){let e=Od.get(t);return e||(e=ey(t),Od.set(t,e)),e}function ey(t){return t=t.split("/./").join("/").replace(/\/{2,}/g,"/"),t==="/."?"/":t==="./"||(t.startsWith("./")&&(t=t.slice(2)),t.endsWith("/.")&&(t=t.slice(0,-2)),t.length>1&&t.endsWith("/")&&(t=t.slice(0,-1)),t==="")?".":t}function V(...t){return Nd(t.map(Nd).join("/"))}var ty=t=>{t=t.toLowerCase();let e=parseInt(t);return t.endsWith("k")&&(e*=1024),t.endsWith("m")&&(e*=1024*1024),t.endsWith("g")&&(e*=1024*1024*1024),e},gi=t=>{if(t=t.trim().toLowerCase(),t==="true"||t==="yes"||t==="on")return!0;if(t==="false"||t==="no"||t==="off")return!1;throw Error(`Expected 'true', 'false', 'yes', 'no', 'on', or 'off', but got ${t}`)},Rd={core:{filemode:gi,bare:gi,logallrefupdates:gi,symlinks:gi,ignorecase:gi,bigFileThreshold:ty}},ry=/^\[([A-Za-z0-9-.]+)(?: "(.*)")?\]$/,ny=/^[A-Za-z0-9-.]+$/,iy=/^([A-Za-z][A-Za-z-]*)(?: *= *(.*))?$/,sy=/^[A-Za-z][A-Za-z-]*$/,ay=/^(.*?)( *[#;].*)$/,oy=t=>{let e=ry.exec(t);if(e!=null){let[r,n]=e.slice(1);return[r,n]}return null},cy=t=>{let e=iy.exec(t);if(e!=null){let[r,n="true"]=e.slice(1),i=uy(n),s=ly(i);return[r,s]}return null},uy=t=>{let e=ay.exec(t);if(e==null)return t;let[r,n]=e.slice(1);return $d(r)&&$d(n)?`${r}${n}`:r},$d=t=>(t.match(/(?:^|[^\\])"/g)||[]).length%2!==0,ly=t=>t.split("").reduce((e,r,n,i)=>{let s=r==='"'&&i[n-1]!=="\\",a=r==="\\"&&i[n+1]==='"';return s||a?e:e+r},""),Pd=t=>t!=null?t.toLowerCase():null,bc=(t,e,r)=>[Pd(t),e,Pd(r)].filter(n=>n!=null).join("."),Md=t=>{let e=t.split("."),r=e.shift(),n=e.pop(),i=e.length?e.join("."):void 0;return{section:r,subsection:i,name:n,path:bc(r,i,n),sectionPath:bc(r,i,null)}},fy=(t,e)=>t.reduce((r,n,i)=>e(n)?i:r,-1),vc=class t{constructor(e){let r=null,n=null;this.parsedConfig=e?e.split(`
`).map(i=>{let s=null,a=null,o=i.trim(),u=oy(o),c=u!=null;if(c)[r,n]=u;else{let f=cy(o);f!=null&&([s,a]=f)}let l=bc(r,n,s);return{line:i,isSection:c,section:r,subsection:n,name:s,value:a,path:l}}):[]}static from(e){return new t(e)}async get(e,r=!1){let n=Md(e).path,i=this.parsedConfig.filter(s=>s.path===n).map(({section:s,name:a,value:o})=>{let u=Rd[s]&&Rd[s][a];return u?u(o):o});return r?i:i.pop()}async getall(e){return this.get(e,!0)}async getSubsections(e){return this.parsedConfig.filter(r=>r.section===e&&r.isSection).map(r=>r.subsection)}async deleteSection(e,r){this.parsedConfig=this.parsedConfig.filter(n=>!(n.section===e&&n.subsection===r))}async append(e,r){return this.set(e,r,!0)}async set(e,r,n=!1){let{section:i,subsection:s,name:a,path:o,sectionPath:u}=Md(e),c=fy(this.parsedConfig,l=>l.path===o);if(r==null)c!==-1&&this.parsedConfig.splice(c,1);else if(c!==-1){let l=this.parsedConfig[c],f=Object.assign({},l,{name:a,value:r,modified:!0});n?this.parsedConfig.splice(c+1,0,f):this.parsedConfig[c]=f}else{let l=this.parsedConfig.findIndex(h=>h.path===u),f={section:i,subsection:s,name:a,value:r,modified:!0,path:o};if(ny.test(i)&&sy.test(a))if(l>=0)this.parsedConfig.splice(l+1,0,f);else{let h={section:i,subsection:s,modified:!0,path:u};this.parsedConfig.push(h,f)}}}toString(){return this.parsedConfig.map(({line:e,section:r,subsection:n,name:i,value:s,modified:a=!1})=>a?i!=null&&s!=null?typeof s=="string"&&/[#;]/.test(s)?`	${i} = "${s}"`:`	${i} = ${s}`:n!=null?`[${r} "${n}"]`:`[${r}]`:e).join(`
`)}},De=class{static async get({fs:e,gitdir:r}){let n=await e.read(`${r}/config`,{encoding:"utf8"});return vc.from(n)}static async save({fs:e,gitdir:r,config:n}){await e.write(`${r}/config`,n.toString(),{encoding:"utf8"})}},bs=t=>[`${t}`,`refs/${t}`,`refs/tags/${t}`,`refs/heads/${t}`,`refs/remotes/${t}`,`refs/remotes/${t}/HEAD`],dy=["config","description","index","shallow","commondir"],oc;async function ar(t,e){return oc===void 0&&(oc=new wi.default),oc.acquire(t,e)}var J=class t{static async updateRemoteRefs({fs:e,gitdir:r,remote:n,refs:i,symrefs:s,tags:a,refspecs:o=void 0,prune:u=!1,pruneTags:c=!1}){for(let y of i.values())if(!y.match(/[0-9a-f]{40}/))throw new Rr(y);let l=await De.get({fs:e,gitdir:r});if(!o){if(o=await l.getall(`remote.${n}.fetch`),o.length===0)throw new ks(n);o.unshift(`+HEAD:refs/remotes/${n}/HEAD`)}let f=_c.from(o),h=new Map;if(c){let y=await t.listRefs({fs:e,gitdir:r,filepath:"refs/tags"});await t.deleteRefs({fs:e,gitdir:r,refs:y.map(b=>`refs/tags/${b}`)})}if(a){for(let y of i.keys())if(y.startsWith("refs/tags")&&!y.endsWith("^{}")&&!await t.exists({fs:e,gitdir:r,ref:y})){let b=i.get(y);h.set(y,b)}}let p=f.translate([...i.keys()]);for(let[y,b]of p){let v=i.get(y);h.set(b,v)}let w=f.translate([...s.keys()]);for(let[y,b]of w){let v=s.get(y),k=f.translateOne(v);k&&h.set(b,`ref: ${k}`)}let g=[];if(u){for(let y of f.localNamespaces()){let b=(await t.listRefs({fs:e,gitdir:r,filepath:y})).map(v=>`${y}/${v}`);for(let v of b)h.has(v)||g.push(v)}g.length>0&&await t.deleteRefs({fs:e,gitdir:r,refs:g})}for(let[y,b]of h)await ar(y,async()=>e.write(V(r,y),`${b.trim()}
`,"utf8"));return{pruned:g}}static async writeRef({fs:e,gitdir:r,ref:n,value:i}){if(!i.match(/[0-9a-f]{40}/))throw new Rr(i);await ar(n,async()=>e.write(V(r,n),`${i.trim()}
`,"utf8"))}static async writeSymbolicRef({fs:e,gitdir:r,ref:n,value:i}){await ar(n,async()=>e.write(V(r,n),`ref: ${i.trim()}
`,"utf8"))}static async deleteRef({fs:e,gitdir:r,ref:n}){return t.deleteRefs({fs:e,gitdir:r,refs:[n]})}static async deleteRefs({fs:e,gitdir:r,refs:n}){await Promise.all(n.map(o=>e.rm(V(r,o))));let i=await ar("packed-refs",async()=>e.read(`${r}/packed-refs`,{encoding:"utf8"})),s=Ds.from(i),a=s.refs.size;for(let o of n)s.refs.has(o)&&s.delete(o);s.refs.size<a&&(i=s.toString(),await ar("packed-refs",async()=>e.write(`${r}/packed-refs`,i,{encoding:"utf8"})))}static async resolve({fs:e,gitdir:r,ref:n,depth:i=void 0}){if(i!==void 0&&(i--,i===-1))return n;if(n.startsWith("ref: "))return n=n.slice(5),t.resolve({fs:e,gitdir:r,ref:n,depth:i});if(n.length===40&&/[0-9a-f]{40}/.test(n))return n;let s=await t.packedRefs({fs:e,gitdir:r}),a=bs(n).filter(o=>!dy.includes(o));for(let o of a){let u=await ar(o,async()=>await e.read(`${r}/${o}`,{encoding:"utf8"})||s.get(o));if(u)return t.resolve({fs:e,gitdir:r,ref:u.trim(),depth:i})}throw new Le(n)}static async exists({fs:e,gitdir:r,ref:n}){try{return await t.expand({fs:e,gitdir:r,ref:n}),!0}catch(i){return!1}}static async expand({fs:e,gitdir:r,ref:n}){if(n.length===40&&/[0-9a-f]{40}/.test(n))return n;let i=await t.packedRefs({fs:e,gitdir:r}),s=bs(n);for(let a of s)if(await ar(a,async()=>e.exists(`${r}/${a}`))||i.has(a))return a;throw new Le(n)}static async expandAgainstMap({ref:e,map:r}){let n=bs(e);for(let i of n)if(await r.has(i))return i;throw new Le(e)}static resolveAgainstMap({ref:e,fullref:r=e,depth:n=void 0,map:i}){if(n!==void 0&&(n--,n===-1))return{fullref:r,oid:e};if(e.startsWith("ref: "))return e=e.slice(5),t.resolveAgainstMap({ref:e,fullref:r,depth:n,map:i});if(e.length===40&&/[0-9a-f]{40}/.test(e))return{fullref:r,oid:e};let s=bs(e);for(let a of s){let o=i.get(a);if(o)return t.resolveAgainstMap({ref:o.trim(),fullref:a,depth:n,map:i})}throw new Le(e)}static async packedRefs({fs:e,gitdir:r}){let n=await ar("packed-refs",async()=>e.read(`${r}/packed-refs`,{encoding:"utf8"}));return Ds.from(n).refs}static async listRefs({fs:e,gitdir:r,filepath:n}){let i=t.packedRefs({fs:e,gitdir:r}),s=null;try{s=await e.readdirDeep(`${r}/${n}`),s=s.map(a=>a.replace(`${r}/${n}/`,""))}catch(a){s=[]}for(let a of(await i).keys())a.startsWith(n)&&(a=a.replace(n+"/",""),s.includes(a)||s.push(a));return s.sort(Qw),s}static async listBranches({fs:e,gitdir:r,remote:n}){return n?t.listRefs({fs:e,gitdir:r,filepath:`refs/remotes/${n}`}):t.listRefs({fs:e,gitdir:r,filepath:"refs/heads"})}static async listTags({fs:e,gitdir:r}){return(await t.listRefs({fs:e,gitdir:r,filepath:"refs/tags"})).filter(i=>!i.endsWith("^{}"))}};function hy(t,e){return Vs(Ld(t),Ld(e))}function Ld(t){return t.mode==="040000"?t.path+"/":t.path}function ch(t){switch(t){case"040000":return"tree";case"100644":return"blob";case"100755":return"blob";case"120000":return"blob";case"160000":return"commit"}throw new Z(`Unexpected GitTree entry mode: ${t}`)}function py(t){let e=[],r=0;for(;r<t.length;){let n=t.indexOf(32,r);if(n===-1)throw new Z(`GitTree: Error parsing buffer at byte location ${r}: Could not find the next space character.`);let i=t.indexOf(0,r);if(i===-1)throw new Z(`GitTree: Error parsing buffer at byte location ${r}: Could not find the next null character.`);let s=t.slice(r,n).toString("utf8");s==="40000"&&(s="040000");let a=ch(s),o=t.slice(n+1,i).toString("utf8");if(o.includes("\\")||o.includes("/"))throw new yi(o);let u=t.slice(i+1,i+21).toString("hex");r=i+21,e.push({mode:s,path:o,oid:u,type:a})}return e}function my(t){if(typeof t=="number"&&(t=t.toString(8)),t.match(/^0?4.*/))return"040000";if(t.match(/^1006.*/))return"100644";if(t.match(/^1007.*/))return"100755";if(t.match(/^120.*/))return"120000";if(t.match(/^160.*/))return"160000";throw new Z(`Could not understand file mode: ${t}`)}function gy(t){return!t.oid&&t.sha&&(t.oid=t.sha),t.mode=my(t.mode),t.type||(t.type=ch(t.mode)),t}var $r=class t{constructor(e){if(m.isBuffer(e))this._entries=py(e);else if(Array.isArray(e))this._entries=e.map(gy);else throw new Z("invalid type passed to GitTree constructor");this._entries.sort(nh)}static from(e){return new t(e)}render(){return this._entries.map(e=>`${e.mode} ${e.type} ${e.oid}    ${e.path}`).join(`
`)}toObject(){let e=[...this._entries];return e.sort(hy),m.concat(e.map(r=>{let n=m.from(r.mode.replace(/^0/,"")),i=m.from(" "),s=m.from(r.path,"utf8"),a=m.from([0]),o=m.from(r.oid,"hex");return m.concat([n,i,s,a,o])}))}entries(){return this._entries}*[Symbol.iterator](){for(let e of this._entries)yield e}},En=class{static wrap({type:e,object:r}){return m.concat([m.from(`${e} ${r.byteLength.toString()}\0`),m.from(r)])}static unwrap(e){let r=e.indexOf(32),n=e.indexOf(0),i=e.slice(0,r).toString("utf8"),s=e.slice(r+1,n).toString("utf8"),a=e.length-(n+1);if(parseInt(s)!==a)throw new Z(`Length mismatch: expected ${s} bytes but got ${a} instead.`);return{type:i,object:m.from(e.slice(n+1))}}};async function wy({fs:t,gitdir:e,oid:r}){let n=`objects/${r.slice(0,2)}/${r.slice(2)}`,i=await t.read(`${e}/${n}`);return i?{object:i,format:"deflated",source:n}:null}function yy(t,e){let r=new Ge(t),n=jd(r);if(n!==e.byteLength)throw new Z(`applyDelta expected source buffer to be ${n} bytes but the provided buffer was ${e.length} bytes`);let i=jd(r),s,a=zd(r,e);if(a.byteLength===i)s=a;else{s=m.alloc(i);let o=new Ge(s);for(o.copy(a);!r.eof();)o.copy(zd(r,e));let u=o.tell();if(i!==u)throw new Z(`applyDelta expected target buffer to be ${i} bytes but the resulting buffer was ${u} bytes`)}return s}function jd(t){let e=0,r=0,n=null;do n=t.readUInt8(),e|=(n&127)<<r,r+=7;while(n&128);return e}function Ud(t,e,r){let n=0,i=0;for(;r--;)e&1&&(n|=t.readUInt8()<<i),e>>=1,i+=8;return n}function zd(t,e){let r=t.readUInt8(),n=128,i=15,s=112;if(r&n){let a=Ud(t,r&i,4),o=Ud(t,(r&s)>>4,3);return o===0&&(o=65536),e.slice(a,a+o)}else return t.slice(r)}function _y(t){let e=[t];return{next(){return Promise.resolve({done:e.length===0,value:e.pop()})},return(){return e=[],{}},[Symbol.asyncIterator](){return this}}}function uh(t){return t[Symbol.asyncIterator]?t[Symbol.asyncIterator]():t[Symbol.iterator]?t[Symbol.iterator]():t.next?t:_y(t)}var As=class{constructor(e){if(typeof m=="undefined")throw new Error("Missing Buffer dependency");this.stream=uh(e),this.buffer=null,this.cursor=0,this.undoCursor=0,this.started=!1,this._ended=!1,this._discardedBytes=0}eof(){return this._ended&&this.cursor===this.buffer.length}tell(){return this._discardedBytes+this.cursor}async byte(){if(!this.eof()&&(this.started||await this._init(),!(this.cursor===this.buffer.length&&(await this._loadnext(),this._ended))))return this._moveCursor(1),this.buffer[this.undoCursor]}async chunk(){if(!this.eof()&&(this.started||await this._init(),!(this.cursor===this.buffer.length&&(await this._loadnext(),this._ended))))return this._moveCursor(this.buffer.length),this.buffer.slice(this.undoCursor,this.cursor)}async read(e){if(!this.eof())return this.started||await this._init(),this.cursor+e>this.buffer.length&&(this._trim(),await this._accumulate(e)),this._moveCursor(e),this.buffer.slice(this.undoCursor,this.cursor)}async skip(e){this.eof()||(this.started||await this._init(),this.cursor+e>this.buffer.length&&(this._trim(),await this._accumulate(e)),this._moveCursor(e))}async undo(){this.cursor=this.undoCursor}async _next(){this.started=!0;let{done:e,value:r}=await this.stream.next();return e&&(this._ended=!0,!r)?m.alloc(0):(r&&(r=m.from(r)),r)}_trim(){this.buffer=this.buffer.slice(this.undoCursor),this.cursor-=this.undoCursor,this._discardedBytes+=this.undoCursor,this.undoCursor=0}_moveCursor(e){this.undoCursor=this.cursor,this.cursor+=e,this.cursor>this.buffer.length&&(this.cursor=this.buffer.length)}async _accumulate(e){if(this._ended)return;let r=[this.buffer];for(;this.cursor+e>by(r);){let n=await this._next();if(this._ended)break;r.push(n)}this.buffer=m.concat(r)}async _loadnext(){this._discardedBytes+=this.buffer.length,this.undoCursor=0,this.cursor=0,this.buffer=await this._next()}async _init(){this.buffer=await this._next()}};function by(t){return t.reduce((e,r)=>e+r.length,0)}async function vy(t,e){let r=new As(t),n=await r.read(4);if(n=n.toString("utf8"),n!=="PACK")throw new Z(`Invalid PACK header '${n}'`);let i=await r.read(4);if(i=i.readUInt32BE(0),i!==2)throw new Z(`Invalid packfile version: ${i}`);let s=await r.read(4);if(s=s.readUInt32BE(0),!(s<1))for(;!r.eof()&&s--;){let a=r.tell(),{type:o,length:u,ofs:c,reference:l}=await xy(r),f=new Ks.default.Inflate;for(;!f.result;){let h=await r.chunk();if(!h)break;if(f.push(h,!1),f.err)throw new Z(`Pako error: ${f.msg}`);if(f.result){if(f.result.length!==u)throw new Z("Inflated object size is different from that stated in packfile.");await r.undo(),await r.read(h.length-f.strm.avail_in);let p=r.tell();await e({data:f.result,type:o,num:s,offset:a,end:p,reference:l,ofs:c})}}}}async function xy(t){let e=await t.byte(),r=e>>4&7,n=e&15;if(e&128){let a=4;do e=await t.byte(),n|=(e&127)<<a,a+=7;while(e&128)}let i,s;if(r===6){let a=0;i=0;let o=[];do e=await t.byte(),i|=(e&127)<<a,a+=7,o.push(e);while(e&128);s=m.from(o)}return r===7&&(s=await t.read(20)),{type:r,length:n,ofs:i,reference:s}}var cc=!1;async function lh(t){return cc===null&&(cc=ky()),cc?Ey(t):Ks.default.inflate(t)}async function Ey(t){let e=new DecompressionStream("deflate"),r=new Blob([t]).stream().pipeThrough(e);return new Uint8Array(await new Response(r).arrayBuffer())}function ky(){try{if(new DecompressionStream("deflate"))return!0}catch(t){}return!1}function Dy(t){let e=[],r=0,n=0;do{r=t.readUInt8();let i=r&127;e.push(i),n=r&128}while(n);return e.reduce((i,s)=>i+1<<7|s,-1)}function Sy(t,e){let r=e,n=4,i=null;do i=t.readUInt8(),r|=(i&127)<<n,n+=7;while(i&128);return r}var Fs=class t{constructor(e){Object.assign(this,e),this.offsetCache={}}static async fromIdx({idx:e,getExternalRefDelta:r}){let n=new Ge(e);if(n.slice(4).toString("hex")!=="ff744f63")return;let s=n.readUInt32BE();if(s!==2)throw new Z(`Unable to read version ${s} packfile IDX. (Only version 2 supported)`);if(e.byteLength>2048*1024*1024)throw new Z("To keep implementation simple, I haven't implemented the layer 5 feature needed to support packfiles > 2GB in size.");n.seek(n.tell()+4*255);let a=n.readUInt32BE(),o=[];for(let l=0;l<a;l++){let f=n.slice(20).toString("hex");o[l]=f}n.seek(n.tell()+4*a);let u=new Map;for(let l=0;l<a;l++)u.set(o[l],n.readUInt32BE());let c=n.slice(20).toString("hex");return new t({hashes:o,crcs:{},offsets:u,packfileSha:c,getExternalRefDelta:r})}static async fromPack({pack:e,getExternalRefDelta:r,onProgress:n}){let i={1:"commit",2:"tree",3:"blob",4:"tag",6:"ofs-delta",7:"ref-delta"},s={},a=e.slice(-20).toString("hex"),o=[],u={},c=new Map,l=null,f=null;await vy([e],async({data:y,type:b,reference:v,offset:k,num:D})=>{l===null&&(l=D);let x=Math.floor((l-D)*100/l);x!==f&&n&&await n({phase:"Receiving objects",loaded:l-D,total:l}),f=x,b=i[b],["commit","tree","blob","tag"].includes(b)?s[k]={type:b,offset:k}:b==="ofs-delta"?s[k]={type:b,offset:k}:b==="ref-delta"&&(s[k]={type:b,offset:k})});let h=Object.keys(s).map(Number);for(let[y,b]of h.entries()){let v=y+1===h.length?e.byteLength-20:h[y+1],k=s[b],D=th.default.buf(e.slice(b,v))>>>0;k.end=v,k.crc=D}let p=new t({pack:Promise.resolve(e),packfileSha:a,crcs:u,hashes:o,offsets:c,getExternalRefDelta:r});f=null;let w=0,g=[0,0,0,0,0,0,0,0,0,0,0,0];for(let y in s){y=Number(y);let b=Math.floor(w*100/l);b!==f&&n&&await n({phase:"Resolving deltas",loaded:w,total:l}),w++,f=b;let v=s[y];if(!v.oid)try{p.readDepth=0,p.externalReadDepth=0;let{type:k,object:D}=await p.readSlice({start:y});g[p.readDepth]+=1;let x=await Nr(En.wrap({type:k,object:D}));v.oid=x,o.push(x),c.set(x,y),u[x]=v.crc}catch(k){continue}}return o.sort(),p}async toBuffer(){let e=[],r=(c,l)=>{e.push(m.from(c,l))};r("ff744f63","hex"),r("00000002","hex");let n=new Ge(m.alloc(256*4));for(let c=0;c<256;c++){let l=0;for(let f of this.hashes)parseInt(f.slice(0,2),16)<=c&&l++;n.writeUInt32BE(l)}e.push(n.buffer);for(let c of this.hashes)r(c,"hex");let i=new Ge(m.alloc(this.hashes.length*4));for(let c of this.hashes)i.writeUInt32BE(this.crcs[c]);e.push(i.buffer);let s=new Ge(m.alloc(this.hashes.length*4));for(let c of this.hashes)s.writeUInt32BE(this.offsets.get(c));e.push(s.buffer),r(this.packfileSha,"hex");let a=m.concat(e),o=await Nr(a),u=m.alloc(20);return u.write(o,"hex"),m.concat([a,u])}async load({pack:e}){this.pack=e}async unload(){this.pack=null}async read({oid:e}){if(!this.offsets.get(e)){if(this.getExternalRefDelta)return this.externalReadDepth++,this.getExternalRefDelta(e);throw new Z(`Could not read object ${e} from packfile`)}let r=this.offsets.get(e);return this.readSlice({start:r})}async readSlice({start:e}){if(this.offsetCache[e])return Object.assign({},this.offsetCache[e]);this.readDepth++;let r={16:"commit",32:"tree",48:"blob",64:"tag",96:"ofs_delta",112:"ref_delta"};if(!this.pack)throw new Z("Tried to read from a GitPackIndex with no packfile loaded into memory");let n=(await this.pack).slice(e),i=new Ge(n),s=i.readUInt8(),a=s&112,o=r[a];if(o===void 0)throw new Z("Unrecognized type: 0b"+a.toString(2));let u=s&15,c=u;s&128&&(c=Sy(i,u));let f=null,h=null;if(o==="ofs_delta"){let w=Dy(i),g=e-w;({object:f,type:o}=await this.readSlice({start:g}))}if(o==="ref_delta"){let w=i.slice(20).toString("hex");({object:f,type:o}=await this.read({oid:w}))}let p=n.slice(i.tell());if(h=m.from(await lh(p)),h.byteLength!==c)throw new Z(`Packfile told us object would have length ${c} but it had length ${h.byteLength}`);return f&&(h=m.from(yy(h,f))),this.readDepth>3&&(this.offsetCache[e]={type:o,object:h}),{type:o,format:"content",object:h}}},vs=Symbol("PackfileCache");async function Ay({fs:t,filename:e,getExternalRefDelta:r,emitter:n,emitterPrefix:i}){let s=await t.read(e);return Fs.fromIdx({idx:s,getExternalRefDelta:r})}function fh({fs:t,cache:e,filename:r,getExternalRefDelta:n,emitter:i,emitterPrefix:s}){e[vs]||(e[vs]=new Map);let a=e[vs].get(r);return a||(a=Ay({fs:t,filename:r,getExternalRefDelta:n,emitter:i,emitterPrefix:s}),e[vs].set(r,a)),a}async function Fy({fs:t,cache:e,gitdir:r,oid:n,format:i="content",getExternalRefDelta:s}){let a=await t.readdir(V(r,"objects/pack"));a=a.filter(o=>o.endsWith(".idx"));for(let o of a){let u=`${r}/objects/pack/${o}`,c=await fh({fs:t,cache:e,filename:u,getExternalRefDelta:s});if(c.error)throw new Z(c.error);if(c.offsets.has(n)){if(!c.pack){let f=u.replace(/idx$/,"pack");c.pack=t.read(f)}let l=await c.read({oid:n,getExternalRefDelta:s});return l.format="content",l.source=`objects/pack/${o.replace(/idx$/,"pack")}`,l}}return null}async function Be({fs:t,cache:e,gitdir:r,oid:n,format:i="content"}){let s=l=>Be({fs:t,cache:e,gitdir:r,oid:l}),a;if(n==="4b825dc642cb6eb9a060e54bf8d69288fbee4904"&&(a={format:"wrapped",object:m.from("tree 0\0")}),a||(a=await wy({fs:t,gitdir:r,oid:n})),!a){if(a=await Fy({fs:t,cache:e,gitdir:r,oid:n,getExternalRefDelta:s}),!a)throw new Le(n);return a}if(i==="deflated"||(a.format==="deflated"&&(a.object=m.from(await lh(a.object)),a.format="wrapped"),i==="wrapped"))return a;let o=await Nr(a.object);if(o!==n)throw new Z(`SHA check failed! Expected ${n}, computed ${o}`);let{object:u,type:c}=En.unwrap(a.object);if(a.type=c,a.object=u,a.format="content",i==="content")return a;throw new Z(`invalid requested format "${i}"`)}var Cs=class t extends W{constructor(e,r,n=!0){super(`Failed to create ${e} at ${r} because it already exists.${n?` (Hint: use 'force: true' parameter to overwrite existing ${e}.)`:""}`),this.code=this.name=t.code,this.data={noun:e,where:r,canForce:n}}};Cs.code="AlreadyExistsError";var xc=class t extends W{constructor(e,r,n){super(`Found multiple ${e} matching "${r}" (${n.join(", ")}). Use a longer abbreviation length to disambiguate them.`),this.code=this.name=t.code,this.data={nouns:e,short:r,matches:n}}};xc.code="AmbiguousError";var Ts=class t extends W{constructor(e){super(`Your local changes to the following files would be overwritten by checkout: ${e.join(", ")}`),this.code=this.name=t.code,this.data={filepaths:e}}};Ts.code="CheckoutConflictError";var Is=class t extends W{constructor(e,r){super(`Failed to checkout "${e}" because commit ${r} is not available locally. Do a git fetch to make the branch available locally.`),this.code=this.name=t.code,this.data={ref:e,oid:r}}};Is.code="CommitNotFetchedError";var Bs=class t extends W{constructor(){super("Empty response from git server."),this.code=this.name=t.code,this.data={}}};Bs.code="EmptyServerResponseError";var Ec=class t extends W{constructor(){super("A simple fast-forward merge was not possible."),this.code=this.name=t.code,this.data={}}};Ec.code="FastForwardError";var Os=class t extends W{constructor(e,r){super(`One or more branches were not updated: ${e}`),this.code=this.name=t.code,this.data={prettyDetails:e,result:r}}};Os.code="GitPushError";var bi=class t extends W{constructor(e,r,n){super(`HTTP Error: ${e} ${r}`),this.code=this.name=t.code,this.data={statusCode:e,statusMessage:r,response:n}}};bi.code="HttpError";var kc=class t extends W{constructor(e){let r="invalid filepath";e==="leading-slash"||e==="trailing-slash"?r='"filepath" parameter should not include leading or trailing directory separators because these can cause problems on some platforms.':e==="directory"&&(r='"filepath" should not be a directory.'),super(r),this.code=this.name=t.code,this.data={reason:e}}};kc.code="InvalidFilepathError";var Ns=class t extends W{constructor(e,r){super(`"${e}" would be an invalid git reference. (Hint: a valid alternative would be "${r}".)`),this.code=this.name=t.code,this.data={ref:e,suggestion:r}}};Ns.code="InvalidRefNameError";var Rs=class t extends W{constructor(e){super(`Maximum search depth of ${e} exceeded.`),this.code=this.name=t.code,this.data={depth:e}}};Rs.code="MaxDepthError";var Dc=class t extends W{constructor(){super("Merges with conflicts are not supported yet."),this.code=this.name=t.code,this.data={}}};Dc.code="MergeNotSupportedError";var Sc=class t extends W{constructor(e,r,n,i){super(`Automatic merge failed with one or more merge conflicts in the following files: ${e.toString()}. Fix conflicts then commit the result.`),this.code=this.name=t.code,this.data={filepaths:e,bothModified:r,deleteByUs:n,deleteByTheirs:i}}};Sc.code="MergeConflictError";var vi=class t extends W{constructor(e){super(`No name was provided for ${e} in the argument or in the .git/config file.`),this.code=this.name=t.code,this.data={role:e}}};vi.code="MissingNameError";var rt=class t extends W{constructor(e){super(`The function requires a "${e}" parameter but none was provided.`),this.code=this.name=t.code,this.data={parameter:e}}};rt.code="MissingParameterError";var $s=class t extends W{constructor(e){super('There are multiple errors that were thrown by the method. Please refer to the "errors" property to see more'),this.code=this.name=t.code,this.data={errors:e},this.errors=e}};$s.code="MultipleGitError";var kn=class t extends W{constructor(e,r){super(`Expected "${e}" but received "${r}".`),this.code=this.name=t.code,this.data={expected:e,actual:r}}};kn.code="ParseError";var xi=class t extends W{constructor(e){let r="";e==="not-fast-forward"?r=" because it was not a simple fast-forward":e==="tag-exists"&&(r=" because tag already exists"),super(`Push rejected${r}. Use "force: true" to override.`),this.code=this.name=t.code,this.data={reason:e}}};xi.code="PushRejectedError";var Or=class t extends W{constructor(e,r){super(`Remote does not support the "${e}" so the "${r}" parameter cannot be used.`),this.code=this.name=t.code,this.data={capability:e,parameter:r}}};Or.code="RemoteCapabilityError";var Ps=class t extends W{constructor(e,r){super(`Remote did not reply using the "smart" HTTP protocol. Expected "001e# service=git-upload-pack" but received: ${e}`),this.code=this.name=t.code,this.data={preview:e,response:r}}};Ps.code="SmartHttpError";var Ms=class t extends W{constructor(e,r,n){super(`Git remote "${e}" uses an unrecognized transport protocol: "${r}"`),this.code=this.name=t.code,this.data={url:e,transport:r,suggestion:n}}};Ms.code="UnknownTransportError";var Ls=class t extends W{constructor(e){super(`Cannot parse remote URL: "${e}"`),this.code=this.name=t.code,this.data={url:e}}};Ls.code="UrlParseError";var Ei=class t extends W{constructor(){super("The operation was canceled."),this.code=this.name=t.code,this.data={}}};Ei.code="UserCanceledError";var Ac=class t extends W{constructor(e){super(`Could not merge index: Entry for '${e}' is not up to date. Either reset the index entry to HEAD, or stage your unstaged changes.`),this.code=this.name=t.code,this.data={filepath:e}}};Ac.code="IndexResetError";var js=class t extends W{constructor(e){super(`"${e}" does not point to any commit. You're maybe working on a repository with no commits yet. `),this.code=this.name=t.code,this.data={ref:e}}};js.code="NoCommitError";function Fc({name:t,email:e,timestamp:r,timezoneOffset:n}){return n=Cy(n),`${t} <${e}> ${r} ${n}`}function Cy(t){let e=Ty(Iy(t));t=Math.abs(t);let r=Math.floor(t/60);t-=r*60;let n=String(r),i=String(t);return n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),(e===-1?"-":"+")+n+i}function Ty(t){return Math.sign(t)||(Object.is(t,-0)?-1:1)}function Iy(t){return t===0?t:-t}function Ut(t){return t=t.replace(/\r/g,""),t=t.replace(/^\n+/,""),t=t.replace(/\n+$/,"")+`
`,t}function Us(t){let[,e,r,n,i]=t.match(/^(.*) <(.*)> (.*) (.*)$/);return{name:e,email:r,timestamp:Number(n),timezoneOffset:By(i)}}function By(t){let[,e,r,n]=t.match(/(\+|-)(\d\d)(\d\d)/);return n=(e==="+"?1:-1)*(Number(r)*60+Number(n)),Oy(n)}function Oy(t){return t===0?t:-t}var Dn=class t{constructor(e){if(typeof e=="string")this._tag=e;else if(m.isBuffer(e))this._tag=e.toString("utf8");else if(typeof e=="object")this._tag=t.render(e);else throw new Z("invalid type passed to GitAnnotatedTag constructor")}static from(e){return new t(e)}static render(e){return`object ${e.object}
type ${e.type}
tag ${e.tag}
tagger ${Fc(e.tagger)}

${e.message}
${e.gpgsig?e.gpgsig:""}`}justHeaders(){return this._tag.slice(0,this._tag.indexOf(`

`))}message(){let e=this.withoutSignature();return e.slice(e.indexOf(`

`)+2)}parse(){return Object.assign(this.headers(),{message:this.message(),gpgsig:this.gpgsig()})}render(){return this._tag}headers(){let e=this.justHeaders().split(`
`),r=[];for(let i of e)i[0]===" "?r[r.length-1]+=`
`+i.slice(1):r.push(i);let n={};for(let i of r){let s=i.slice(0,i.indexOf(" ")),a=i.slice(i.indexOf(" ")+1);Array.isArray(n[s])?n[s].push(a):n[s]=a}return n.tagger&&(n.tagger=Us(n.tagger)),n.committer&&(n.committer=Us(n.committer)),n}withoutSignature(){let e=Ut(this._tag);return e.indexOf(`
-----BEGIN PGP SIGNATURE-----`)===-1?e:e.slice(0,e.lastIndexOf(`
-----BEGIN PGP SIGNATURE-----`))}gpgsig(){if(this._tag.indexOf(`
-----BEGIN PGP SIGNATURE-----`)===-1)return;let e=this._tag.slice(this._tag.indexOf("-----BEGIN PGP SIGNATURE-----"),this._tag.indexOf("-----END PGP SIGNATURE-----")+27);return Ut(e)}payload(){return this.withoutSignature()+`
`}toObject(){return m.from(this._tag,"utf8")}static async sign(e,r,n){let i=e.payload(),{signature:s}=await r({payload:i,secretKey:n});s=Ut(s);let a=i+s;return t.from(a)}};function uc(t){return t.trim().split(`
`).map(e=>" "+e).join(`
`)+`
`}function Ny(t){return t.split(`
`).map(e=>e.replace(/^ /,"")).join(`
`)}var nt=class t{constructor(e){if(typeof e=="string")this._commit=e;else if(m.isBuffer(e))this._commit=e.toString("utf8");else if(typeof e=="object")this._commit=t.render(e);else throw new Z("invalid type passed to GitCommit constructor")}static fromPayloadSignature({payload:e,signature:r}){let n=t.justHeaders(e),i=t.justMessage(e),s=Ut(n+`
gpgsig`+uc(r)+`
`+i);return new t(s)}static from(e){return new t(e)}toObject(){return m.from(this._commit,"utf8")}headers(){return this.parseHeaders()}message(){return t.justMessage(this._commit)}parse(){return Object.assign({message:this.message()},this.headers())}static justMessage(e){return Ut(e.slice(e.indexOf(`

`)+2))}static justHeaders(e){return e.slice(0,e.indexOf(`

`))}parseHeaders(){let e=t.justHeaders(this._commit).split(`
`),r=[];for(let i of e)i[0]===" "?r[r.length-1]+=`
`+i.slice(1):r.push(i);let n={parent:[]};for(let i of r){let s=i.slice(0,i.indexOf(" ")),a=i.slice(i.indexOf(" ")+1);Array.isArray(n[s])?n[s].push(a):n[s]=a}return n.author&&(n.author=Us(n.author)),n.committer&&(n.committer=Us(n.committer)),n}static renderHeaders(e){let r="";if(e.tree?r+=`tree ${e.tree}
`:r+=`tree 4b825dc642cb6eb9a060e54bf8d69288fbee4904
`,e.parent){if(e.parent.length===void 0)throw new Z("commit 'parent' property should be an array");for(let s of e.parent)r+=`parent ${s}
`}let n=e.author;r+=`author ${Fc(n)}
`;let i=e.committer||e.author;return r+=`committer ${Fc(i)}
`,e.gpgsig&&(r+="gpgsig"+uc(e.gpgsig)),r}static render(e){return t.renderHeaders(e)+`
`+Ut(e.message)}render(){return this._commit}withoutSignature(){let e=Ut(this._commit);if(e.indexOf(`
gpgsig`)===-1)return e;let r=e.slice(0,e.indexOf(`
gpgsig`)),n=e.slice(e.indexOf(`-----END PGP SIGNATURE-----
`)+28);return Ut(r+`
`+n)}isolateSignature(){let e=this._commit.slice(this._commit.indexOf("-----BEGIN PGP SIGNATURE-----"),this._commit.indexOf("-----END PGP SIGNATURE-----")+27);return Ny(e)}static async sign(e,r,n){let i=e.withoutSignature(),s=t.justMessage(e._commit),{signature:a}=await r({payload:i,secretKey:n});a=Ut(a);let u=t.justHeaders(e._commit)+`
gpgsig`+uc(a)+`
`+s;return t.from(u)}};async function Cc({fs:t,cache:e,gitdir:r,oid:n}){if(n==="4b825dc642cb6eb9a060e54bf8d69288fbee4904")return{tree:$r.from([]),oid:n};let{type:i,object:s}=await Be({fs:t,cache:e,gitdir:r,oid:n});if(i==="tag")return n=Dn.from(s).parse().object,Cc({fs:t,cache:e,gitdir:r,oid:n});if(i==="commit")return n=nt.from(s).parse().tree,Cc({fs:t,cache:e,gitdir:r,oid:n});if(i!=="tree")throw new or(n,i,"tree");return{tree:$r.from(s),oid:n}}var Tc=class{constructor({fs:e,gitdir:r,ref:n,cache:i}){this.fs=e,this.cache=i,this.gitdir=r,this.mapPromise=(async()=>{let a=new Map,o;try{o=await J.resolve({fs:e,gitdir:r,ref:n})}catch(c){c instanceof Le&&(o="4b825dc642cb6eb9a060e54bf8d69288fbee4904")}let u=await Cc({fs:e,cache:this.cache,gitdir:r,oid:o});return u.type="tree",u.mode="40000",a.set(".",u),a})();let s=this;this.ConstructEntry=class{constructor(o){this._fullpath=o,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}async type(){return s.type(this)}async mode(){return s.mode(this)}async stat(){return s.stat(this)}async content(){return s.content(this)}async oid(){return s.oid(this)}}}async readdir(e){let r=e._fullpath,{fs:n,cache:i,gitdir:s}=this,a=await this.mapPromise,o=a.get(r);if(!o)throw new Error(`No obj for ${r}`);let u=o.oid;if(!u)throw new Error(`No oid for obj ${JSON.stringify(o)}`);if(o.type!=="tree")return null;let{type:c,object:l}=await Be({fs:n,cache:i,gitdir:s,oid:u});if(c!==o.type)throw new or(u,c,o.type);let f=$r.from(l);for(let h of f)a.set(V(r,h.path),h);return f.entries().map(h=>V(r,h.path))}async type(e){if(e._type===!1){let r=await this.mapPromise,{type:n}=r.get(e._fullpath);e._type=n}return e._type}async mode(e){if(e._mode===!1){let r=await this.mapPromise,{mode:n}=r.get(e._fullpath);e._mode=ih(parseInt(n,8))}return e._mode}async stat(e){}async content(e){if(e._content===!1){let r=await this.mapPromise,{fs:n,cache:i,gitdir:s}=this,o=r.get(e._fullpath).oid,{type:u,object:c}=await Be({fs:n,cache:i,gitdir:s,oid:o});u!=="blob"?e._content=void 0:e._content=new Uint8Array(c)}return e._content}async oid(e){if(e._oid===!1){let n=(await this.mapPromise).get(e._fullpath);e._oid=n.oid}return e._oid}};function dh({ref:t="HEAD"}={}){let e=Object.create(null);return Object.defineProperty(e,Ws,{value:function({fs:r,gitdir:n,cache:i}){return new Tc({fs:r,gitdir:n,ref:t,cache:i})}}),Object.freeze(e),e}var Ic=class{constructor({fs:e,dir:r,gitdir:n,cache:i}){this.fs=e,this.cache=i,this.dir=r,this.gitdir=n;let s=this;this.ConstructEntry=class{constructor(o){this._fullpath=o,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}async type(){return s.type(this)}async mode(){return s.mode(this)}async stat(){return s.stat(this)}async content(){return s.content(this)}async oid(){return s.oid(this)}}}async readdir(e){let r=e._fullpath,{fs:n,dir:i}=this,s=await n.readdir(V(i,r));return s===null?null:s.map(a=>V(r,a))}async type(e){return e._type===!1&&await e.stat(),e._type}async mode(e){return e._mode===!1&&await e.stat(),e._mode}async stat(e){if(e._stat===!1){let{fs:r,dir:n}=this,i=await r.lstat(`${n}/${e._fullpath}`);if(!i)throw new Error(`ENOENT: no such file or directory, lstat '${e._fullpath}'`);let s=i.isDirectory()?"tree":"blob";s==="blob"&&!i.isFile()&&!i.isSymbolicLink()&&(s="special"),e._type=s,i=xn(i),e._mode=i.mode,i.size===-1&&e._actualSize&&(i.size=e._actualSize),e._stat=i}return e._stat}async content(e){if(e._content===!1){let{fs:r,dir:n,gitdir:i}=this;if(await e.type()==="tree")e._content=void 0;else{let a=await(await De.get({fs:r,gitdir:i})).get("core.autocrlf"),o=await r.read(`${n}/${e._fullpath}`,{autocrlf:a});e._actualSize=o.length,e._stat&&e._stat.size===-1&&(e._stat.size=e._actualSize),e._content=new Uint8Array(o)}}return e._content}async oid(e){if(e._oid===!1){let{fs:r,gitdir:n,cache:i}=this,s;await zt.acquire({fs:r,gitdir:n,cache:i},async function(a){let o=a.entriesMap.get(e._fullpath),u=await e.stat(),l=await(await De.get({fs:r,gitdir:n})).get("core.filemode"),f=typeof process!="undefined"?process.platform!=="win32":!0;!o||gc(u,o,l,f)?await e.content()===void 0?s=void 0:(s=await Nr(En.wrap({type:"blob",object:await e.content()})),o&&s===o.oid&&(!l||u.mode===o.mode)&&gc(u,o,l,f)&&a.insert({filepath:e._fullpath,stats:u,oid:s})):s=o.oid}),e._oid=s}return e._oid}};function hh(){let t=Object.create(null);return Object.defineProperty(t,Ws,{value:function({fs:e,dir:r,gitdir:n,cache:i}){return new Ic({fs:e,dir:r,gitdir:n,cache:i})}}),Object.freeze(t),t}function Ry(t,e){let r=e-t;return Array.from({length:r},(n,i)=>t+i)}var ph=typeof Array.prototype.flat=="undefined"?t=>t.reduce((e,r)=>e.concat(r),[]):t=>t.flat(),Bc=class{constructor(){this.value=null}consider(e){e!=null&&(this.value===null?this.value=e:e<this.value&&(this.value=e))}reset(){this.value=null}};function*$y(t){let e=new Bc,r,n=[],i=t.length;for(let s=0;s<i;s++)n[s]=t[s].next().value,n[s]!==void 0&&e.consider(n[s]);if(e.value!==null)for(;;){let s=[];r=e.value,e.reset();for(let a=0;a<i;a++)n[a]!==void 0&&n[a]===r?(s[a]=n[a],n[a]=t[a].next().value):s[a]=null,n[a]!==void 0&&e.consider(n[a]);if(yield s,e.value===null)return}}async function mh({fs:t,cache:e,dir:r,gitdir:n,trees:i,map:s=async(u,c)=>c,reduce:a=async(u,c)=>{let l=ph(c);return u!==void 0&&l.unshift(u),l},iterate:o=(u,c)=>Promise.all([...c].map(u))}){let u=i.map(p=>p[Ws]({fs:t,dir:r,gitdir:n,cache:e})),c=new Array(u.length).fill("."),l=Ry(0,u.length),f=async p=>{l.map(y=>{p[y]=p[y]&&new u[y].ConstructEntry(p[y])});let g=(await Promise.all(l.map(y=>p[y]?u[y].readdir(p[y]):[]))).map(y=>y===null?[]:y).map(y=>y[Symbol.iterator]());return{entries:p,children:$y(g)}},h=async p=>{let{entries:w,children:g}=await f(p),y=w.find(v=>v&&v._fullpath)._fullpath,b=await s(y,w);if(b!==null){let v=await o(h,g);return v=v.filter(k=>k!==void 0),a(b,v)}};return h(c)}async function Oc(t,e){let r=await t.readdir(e);r==null?await t.rm(e):r.length?await Promise.all(r.map(n=>{let i=V(e,n);return t.lstat(i).then(s=>{if(s)return s.isDirectory()?Oc(t,i):t.rm(i)})})).then(()=>t.rmdir(e)):await t.rmdir(e)}function Py(t){return My(t)&&qd(t.then)&&qd(t.catch)}function My(t){return t&&typeof t=="object"}function qd(t){return typeof t=="function"}function Zd(t){return Py((r=>{try{return r.readFile().catch(n=>n)}catch(n){return n}})(t))}var Hd=["readFile","writeFile","mkdir","rmdir","unlink","stat","lstat","readdir","readlink","symlink"];function Kd(t,e){if(Zd(e))for(let r of Hd)t[`_${r}`]=e[r].bind(e);else for(let r of Hd)t[`_${r}`]=(0,xs.default)(e[r].bind(e));Zd(e)?e.rm?t._rm=e.rm.bind(e):e.rmdir.length>1?t._rm=e.rmdir.bind(e):t._rm=Oc.bind(null,t):e.rm?t._rm=(0,xs.default)(e.rm.bind(e)):e.rmdir.length>2?t._rm=(0,xs.default)(e.rmdir.bind(e)):t._rm=Oc.bind(null,t)}var cr=class{constructor(e){if(typeof e._original_unwrapped_fs!="undefined")return e;let r=Object.getOwnPropertyDescriptor(e,"promises");r&&r.enumerable?Kd(this,e.promises):Kd(this,e),this._original_unwrapped_fs=e}async exists(e,r={}){try{return await this._stat(e),!0}catch(n){if(n.code==="ENOENT"||n.code==="ENOTDIR")return!1;throw console.log('Unhandled error in "FileSystem.exists()" function',n),n}}async read(e,r={}){try{let n=await this._readFile(e,r);if(r.autocrlf==="true")try{n=new TextDecoder("utf8",{fatal:!0}).decode(n),n=n.replace(/\r\n/g,`
`),n=new TextEncoder().encode(n)}catch(i){}return typeof n!="string"&&(n=m.from(n)),n}catch(n){return null}}async write(e,r,n={}){try{await this._writeFile(e,r,n);return}catch(i){await this.mkdir(_i(e)),await this._writeFile(e,r,n)}}async mkdir(e,r=!1){try{await this._mkdir(e);return}catch(n){if(n===null||n.code==="EEXIST")return;if(r)throw n;if(n.code==="ENOENT"){let i=_i(e);if(i==="."||i==="/"||i===e)throw n;await this.mkdir(i),await this.mkdir(e,!0)}}}async rm(e){try{await this._unlink(e)}catch(r){if(r.code!=="ENOENT")throw r}}async rmdir(e,r){try{r&&r.recursive?await this._rm(e,r):await this._rmdir(e)}catch(n){if(n.code!=="ENOENT")throw n}}async readdir(e){try{let r=await this._readdir(e);return r.sort(Vs),r}catch(r){return r.code==="ENOTDIR"?null:[]}}async readdirDeep(e){let r=await this._readdir(e);return(await Promise.all(r.map(async i=>{let s=e+"/"+i;return(await this._stat(s)).isDirectory()?this.readdirDeep(s):s}))).reduce((i,s)=>i.concat(s),[])}async lstat(e){try{return await this._lstat(e)}catch(r){if(r.code==="ENOENT")return null;throw r}}async readlink(e,r={encoding:"buffer"}){try{let n=await this._readlink(e,r);return m.isBuffer(n)?n:m.from(n)}catch(n){if(n.code==="ENOENT")return null;throw n}}async writelink(e,r){return this._symlink(r.toString("utf8"),e)}};function oe(t,e){if(e===void 0)throw new rt(t)}var zs=class{static async isIgnored({fs:e,dir:r,gitdir:n=V(r,".git"),filepath:i}){if(wc(i)===".git")return!0;if(i===".")return!1;let s="",a=V(n,"info","exclude");await e.exists(a)&&(s=await e.read(a,"utf8"));let o=[{gitignore:V(r,".gitignore"),filepath:i}],u=i.split("/").filter(Boolean);for(let l=1;l<u.length;l++){let f=u.slice(0,l).join("/"),h=u.slice(l).join("/");o.push({gitignore:V(r,f,".gitignore"),filepath:h})}let c=!1;for(let l of o){let f;try{f=await e.read(l.gitignore,"utf8")}catch(w){if(w.code==="NOENT")continue}let h=(0,rh.default)().add(s);h.add(f);let p=_i(l.filepath);if(p!=="."&&h.ignores(p))return!0;c?c=!h.test(l.filepath).unignored:c=h.test(l.filepath).ignored}return c}};async function Ly({fs:t,gitdir:e,object:r,format:n,oid:i}){if(n!=="deflated")throw new Z("GitObjectStoreLoose expects objects to write to be in deflated format");let s=`objects/${i.slice(0,2)}/${i.slice(2)}`,a=`${e}/${s}`;await t.exists(a)||await t.write(a,r)}var lc=null;async function gh(t){return lc===null&&(lc=Uy()),lc?jy(t):Ks.default.deflate(t)}async function jy(t){let e=new CompressionStream("deflate"),r=new Blob([t]).stream().pipeThrough(e);return new Uint8Array(await new Response(r).arrayBuffer())}function Uy(){try{return new CompressionStream("deflate").writable.close(),new Blob([]).stream().cancel(),!0}catch(t){return!1}}async function Mc({fs:t,gitdir:e,type:r,object:n,format:i="content",oid:s=void 0,dryRun:a=!1}){return i!=="deflated"&&(i!=="wrapped"&&(n=En.wrap({type:r,object:n})),s=await Nr(n),n=m.from(await gh(n))),a||await Ly({fs:t,gitdir:e,object:n,format:"deflated",oid:s}),s}function zy(t){let e;for(;~(e=t.indexOf(92));)t[e]=47;return t}async function wh({fs:t,dir:e,gitdir:r=V(e,".git"),filepath:n,cache:i={},force:s=!1,parallel:a=!0}){try{oe("fs",t),oe("dir",e),oe("gitdir",r),oe("filepath",n);let o=new cr(t);await zt.acquire({fs:o,gitdir:r,cache:i},async u=>Nc({dir:e,gitdir:r,fs:o,filepath:n,index:u,force:s,parallel:a}))}catch(o){throw o.caller="git.add",o}}async function Nc({dir:t,gitdir:e,fs:r,filepath:n,index:i,force:s,parallel:a}){n=Array.isArray(n)?n:[n];let o=n.map(async f=>{if(!s&&await zs.isIgnored({fs:r,dir:t,gitdir:e,filepath:f}))return;let h=await r.lstat(V(t,f));if(!h)throw new Le(f);if(h.isDirectory()){let p=await r.readdir(V(t,f));if(a){let w=p.map(g=>Nc({dir:t,gitdir:e,fs:r,filepath:[V(f,g)],index:i,force:s,parallel:a}));await Promise.all(w)}else for(let w of p)await Nc({dir:t,gitdir:e,fs:r,filepath:[V(f,w)],index:i,force:s,parallel:a})}else{let w=await(await De.get({fs:r,gitdir:e})).get("core.autocrlf"),g=h.isSymbolicLink()?await r.readlink(V(t,f)).then(zy):await r.read(V(t,f),{autocrlf:w});if(g===null)throw new Le(f);let y=await Mc({fs:r,gitdir:e,type:"blob",object:g});i.insert({filepath:f,stats:h,oid:y})}}),u=await Promise.allSettled(o),c=u.filter(f=>f.status==="rejected").map(f=>f.reason);if(c.length>1)throw new $s(c);if(c.length===1)throw c[0];return u.filter(f=>f.status==="fulfilled"&&f.value).map(f=>f.value)}async function qs({fs:t,gitdir:e,path:r}){return(await De.get({fs:t,gitdir:e})).get(r)}function yh(t,...e){for(let r of e)if(r)for(let n of Object.keys(r)){let i=r[n];i!==void 0&&(t[n]=i)}return t}async function Vd({fs:t,gitdir:e,author:r,commit:n}){let i=Math.floor(Date.now()/1e3),s={name:await qs({fs:t,gitdir:e,path:"user.name"}),email:await qs({fs:t,gitdir:e,path:"user.email"})||"",timestamp:i,timezoneOffset:new Date(i*1e3).getTimezoneOffset()},a=yh({},s,n?n.author:void 0,r);if(a.name!==void 0)return a}async function Wd({fs:t,gitdir:e,author:r,committer:n,commit:i}){let s=Math.floor(Date.now()/1e3),a={name:await qs({fs:t,gitdir:e,path:"user.name"}),email:await qs({fs:t,gitdir:e,path:"user.email"})||"",timestamp:s,timezoneOffset:new Date(s*1e3).getTimezoneOffset()},o=yh({},a,i?i.committer:void 0,r,n);if(o.name!==void 0)return o}async function _h({fs:t,cache:e,gitdir:r,oid:n}){let{type:i,object:s}=await Be({fs:t,cache:e,gitdir:r,oid:n});if(i==="tag")return n=Dn.from(s).parse().object,_h({fs:t,cache:e,gitdir:r,oid:n});if(i!=="commit")throw new or(n,i,"commit");return{commit:nt.from(s),oid:n}}async function qy({fs:t,cache:e,gitdir:r,oid:n}){let{commit:i,oid:s}=await _h({fs:t,cache:e,gitdir:r,oid:n});return{oid:s,commit:i.parse(),payload:i.withoutSignature()}}async function Zy({fs:t,cache:e,onSign:r,gitdir:n,message:i,author:s,committer:a,signingKey:o,amend:u=!1,dryRun:c=!1,noUpdateBranch:l=!1,ref:f,parent:h,tree:p}){let w=!1;f||(f=await J.resolve({fs:t,gitdir:n,ref:"HEAD",depth:2}));let g,y;try{g=await J.resolve({fs:t,gitdir:n,ref:f}),y=await qy({fs:t,gitdir:n,oid:g,cache:{}})}catch(k){w=!0}if(u&&w)throw new js(f);let b=u?await Vd({fs:t,gitdir:n,author:s,commit:y.commit}):await Vd({fs:t,gitdir:n,author:s});if(!b)throw new vi("author");let v=u?await Wd({fs:t,gitdir:n,author:b,committer:a,commit:y.commit}):await Wd({fs:t,gitdir:n,author:b,committer:a});if(!v)throw new vi("committer");return zt.acquire({fs:t,gitdir:n,cache:e,allowUnmerged:!1},async function(k){let x=ah(k.entries).get(".");if(p||(p=await bh({fs:t,gitdir:n,inode:x,dryRun:c})),h?h=await Promise.all(h.map(C=>J.resolve({fs:t,gitdir:n,ref:C}))):u?h=y.commit.parent:h=g?[g]:[],!i)if(u)i=y.commit.message;else throw new rt("message");let A=nt.from({tree:p,parent:h,author:b,committer:v,message:i});o&&(A=await nt.sign(A,r,o));let _=await Mc({fs:t,gitdir:n,type:"commit",object:A.toObject(),dryRun:c});return!l&&!c&&await J.writeRef({fs:t,gitdir:n,ref:f,value:_}),_})}async function bh({fs:t,gitdir:e,inode:r,dryRun:n}){let i=r.children;for(let u of i)u.type==="tree"&&(u.metadata.mode="040000",u.metadata.oid=await bh({fs:t,gitdir:e,inode:u,dryRun:n}));let s=i.map(u=>({mode:u.metadata.mode,path:u.basename,oid:u.metadata.oid,type:u.type})),a=$r.from(s);return await Mc({fs:t,gitdir:e,type:"tree",object:a.toObject(),dryRun:n})}async function Hy({fs:t,gitdir:e,remote:r,url:n,force:i}){if(r!==pc.default.clean(r))throw new Ns(r,pc.default.clean(r));let s=await De.get({fs:t,gitdir:e});if(!i&&(await s.getSubsections("remote")).includes(r)&&n!==await s.get(`remote.${r}.url`))throw new Cs("remote",r);await s.set(`remote.${r}.url`,n),await s.set(`remote.${r}.fetch`,`+refs/heads/*:refs/remotes/${r}/*`),await De.save({fs:t,gitdir:e,config:s})}var vh=(t,e)=>t==="."||e==null||e.length===0||e==="."?!0:e.length>=t.length?e.startsWith(t):t.startsWith(e);async function Ky({fs:t,cache:e,onProgress:r,onPostCheckout:n,dir:i,gitdir:s,remote:a,ref:o,filepaths:u,noCheckout:c,noUpdateHead:l,dryRun:f,force:h,track:p=!0}){let w;if(n)try{w=await J.resolve({fs:t,gitdir:s,ref:"HEAD"})}catch(y){w="0000000000000000000000000000000000000000"}let g;try{g=await J.resolve({fs:t,gitdir:s,ref:o})}catch(y){if(o==="HEAD")throw y;let b=`${a}/${o}`;if(g=await J.resolve({fs:t,gitdir:s,ref:b}),p){let v=await De.get({fs:t,gitdir:s});await v.set(`branch.${o}.remote`,a),await v.set(`branch.${o}.merge`,`refs/heads/${o}`),await De.save({fs:t,gitdir:s,config:v})}await J.writeRef({fs:t,gitdir:s,ref:`refs/heads/${o}`,value:g})}if(!c){let y;try{y=await Vy({fs:t,cache:e,onProgress:r,dir:i,gitdir:s,ref:o,force:h,filepaths:u})}catch(x){throw x instanceof Le&&x.data.what===g?new Is(o,g):x}let b=y.filter(([x])=>x==="conflict").map(([x,A])=>A);if(b.length>0)throw new Ts(b);let v=y.filter(([x])=>x==="error").map(([x,A])=>A);if(v.length>0)throw new Z(v.join(", "));if(f){n&&await n({previousHead:w,newHead:g,type:u!=null&&u.length>0?"file":"branch"});return}let k=0,D=y.length;await zt.acquire({fs:t,gitdir:s,cache:e},async function(x){await Promise.all(y.filter(([A])=>A==="delete"||A==="delete-index").map(async function([A,_]){let C=`${i}/${_}`;A==="delete"&&await t.rm(C),x.delete({filepath:_}),r&&await r({phase:"Updating workdir",loaded:++k,total:D})}))}),await zt.acquire({fs:t,gitdir:s,cache:e},async function(x){for(let[A,_]of y)if(A==="rmdir"||A==="rmdir-index"){let C=`${i}/${_}`;try{A==="rmdir-index"&&x.delete({filepath:_}),await t.rmdir(C),r&&await r({phase:"Updating workdir",loaded:++k,total:D})}catch(E){if(E.code==="ENOTEMPTY")console.log(`Did not delete ${_} because directory is not empty`);else throw E}}}),await Promise.all(y.filter(([x])=>x==="mkdir"||x==="mkdir-index").map(async function([x,A]){let _=`${i}/${A}`;await t.mkdir(_),r&&await r({phase:"Updating workdir",loaded:++k,total:D})})),await zt.acquire({fs:t,gitdir:s,cache:e},async function(x){await Promise.all(y.filter(([A])=>A==="create"||A==="create-index"||A==="update"||A==="mkdir-index").map(async function([A,_,C,E,T]){let F=`${i}/${_}`;try{if(A!=="create-index"&&A!=="mkdir-index"){let{object:P}=await Be({fs:t,cache:e,gitdir:s,oid:C});if(T&&await t.rm(F),E===33188)await t.write(F,P);else if(E===33261)await t.write(F,P,{mode:511});else if(E===40960)await t.writelink(F,P);else throw new Z(`Invalid mode 0o${E.toString(8)} detected in blob ${C}`)}let B=await t.lstat(F);E===33261&&(B.mode=493),A==="mkdir-index"&&(B.mode=57344),x.insert({filepath:_,stats:B,oid:C}),r&&await r({phase:"Updating workdir",loaded:++k,total:D})}catch(B){console.log(B)}}))}),n&&await n({previousHead:w,newHead:g,type:u!=null&&u.length>0?"file":"branch"})}if(!l){let y=await J.expand({fs:t,gitdir:s,ref:o});y.startsWith("refs/heads")?await J.writeSymbolicRef({fs:t,gitdir:s,ref:"HEAD",value:y}):await J.writeRef({fs:t,gitdir:s,ref:"HEAD",value:g})}}async function Vy({fs:t,cache:e,onProgress:r,dir:n,gitdir:i,ref:s,force:a,filepaths:o}){let u=0;return mh({fs:t,cache:e,dir:n,gitdir:i,trees:[dh({ref:s}),hh(),oh()],map:async function(c,[l,f,h]){if(c===".")return;if(o&&!o.some(w=>vh(c,w)))return null;switch(r&&await r({phase:"Analyzing workdir",loaded:++u}),[!!h,!!l,!!f].map(Number).join("")){case"000":return;case"001":return a&&o&&o.includes(c)?["delete",c]:void 0;case"010":switch(await l.type()){case"tree":return["mkdir",c];case"blob":return["create",c,await l.oid(),await l.mode()];case"commit":return["mkdir-index",c,await l.oid(),await l.mode()];default:return["error",`new entry Unhandled type ${await l.type()}`]}case"011":switch(`${await l.type()}-${await f.type()}`){case"tree-tree":return;case"tree-blob":case"blob-tree":return["conflict",c];case"blob-blob":return await l.oid()!==await f.oid()?a?["update",c,await l.oid(),await l.mode(),await l.mode()!==await f.mode()]:["conflict",c]:await l.mode()!==await f.mode()?a?["update",c,await l.oid(),await l.mode(),!0]:["conflict",c]:["create-index",c,await l.oid(),await l.mode()];case"commit-tree":return;case"commit-blob":return["conflict",c];default:return["error",`new entry Unhandled type ${l.type}`]}case"100":return["delete-index",c];case"101":switch(await h.type()){case"tree":return["rmdir",c];case"blob":return await h.oid()!==await f.oid()?a?["delete",c]:["conflict",c]:["delete",c];case"commit":return["rmdir-index",c];default:return["error",`delete entry Unhandled type ${await h.type()}`]}case"110":case"111":switch(`${await h.type()}-${await l.type()}`){case"tree-tree":return;case"blob-blob":{if(await h.oid()===await l.oid()&&await h.mode()===await l.mode()&&!a)return;if(f){if(await f.oid()!==await h.oid()&&await f.oid()!==await l.oid())return a?["update",c,await l.oid(),await l.mode(),await l.mode()!==await f.mode()]:["conflict",c]}else if(a)return["update",c,await l.oid(),await l.mode(),await l.mode()!==await h.mode()];return await l.mode()!==await h.mode()?["update",c,await l.oid(),await l.mode(),!0]:await l.oid()!==await h.oid()?["update",c,await l.oid(),await l.mode(),!1]:void 0}case"tree-blob":return["update-dir-to-blob",c,await l.oid()];case"blob-tree":return["update-blob-to-tree",c];case"commit-commit":return["mkdir-index",c,await l.oid(),await l.mode()];default:return["error",`update entry Unhandled type ${await h.type()}-${await l.type()}`]}}},reduce:async function(c,l){return l=ph(l),c?c&&c[0]==="rmdir"?(l.push(c),l):(l.unshift(c),l):l}})}var Wy=new RegExp("^refs/(heads/|tags/|remotes/)?(.*)");function xh(t){let e=Wy.exec(t);return e?e[1]==="remotes/"&&t.endsWith("/HEAD")?e[2].slice(0,-5):e[2]:t}async function Eh({fs:t,gitdir:e,fullname:r=!1,test:n=!1}){let i=await J.resolve({fs:t,gitdir:e,ref:"HEAD",depth:2});if(n)try{await J.resolve({fs:t,gitdir:e,ref:i})}catch(s){return}if(i.startsWith("refs/"))return r?i:xh(i)}function Gy(t){return t=t.replace(/^git@([^:]+):/,"https://$1/"),t=t.replace(/^ssh:\/\//,"https://"),t}function kh({username:t="",password:e=""}){return`Basic ${m.from(`${t}:${e}`).toString("base64")}`}async function ki(t,e){let r=uh(t);for(;;){let{value:n,done:i}=await r.next();if(n&&await e(n),i)break}r.return&&r.return()}async function Rc(t){let e=0,r=[];await ki(t,s=>{r.push(s),e+=s.byteLength});let n=new Uint8Array(e),i=0;for(let s of r)n.set(s,i),i+=s.byteLength;return n}function Gd(t){let e=t.match(/^https?:\/\/([^/]+)@/);if(e==null)return{url:t,auth:{}};e=e[1];let[r,n]=e.split(":");return t=t.replace(`${e}@`,""),{url:t,auth:{username:r,password:n}}}function $c(t,e){let r=e.toString(16);return"0".repeat(t-r.length)+r}var ae=class{static flush(){return m.from("0000","utf8")}static delim(){return m.from("0001","utf8")}static encode(e){typeof e=="string"&&(e=m.from(e));let r=e.length+4,n=$c(4,r);return m.concat([m.from(n,"utf8"),e])}static streamReader(e){let r=new As(e);return async function(){try{let i=await r.read(4);if(i==null)return!0;if(i=parseInt(i.toString("utf8"),16),i===0||i===1)return null;let s=await r.read(i-4);return s==null?!0:s}catch(i){return e.error=i,!0}}}};async function Yd(t){let e={},r;for(;r=await t(),r!==!0;){if(r===null)continue;r=r.toString("utf8").replace(/\n$/,"");let n=r.indexOf("=");if(n>-1){let i=r.slice(0,n),s=r.slice(n+1);e[i]=s}else e[r]=!0}return{protocolVersion:2,capabilities2:e}}async function Xd(t,{service:e}){let r=new Set,n=new Map,i=new Map,s=ae.streamReader(t),a=await s();for(;a===null;)a=await s();if(a===!0)throw new Bs;if(a.includes("version 2"))return Yd(s);if(a.toString("utf8").replace(/\n$/,"")!==`# service=${e}`)throw new kn(`# service=${e}\\n`,a.toString("utf8"));let o=await s();for(;o===null;)o=await s();if(o===!0)return{capabilities:r,refs:n,symrefs:i};if(o=o.toString("utf8"),o.includes("version 2"))return Yd(s);let[u,c]=fc(o,"\0","\\x00");if(c.split(" ").map(l=>r.add(l)),u!=="0000000000000000000000000000000000000000 capabilities^{}"){let[l,f]=fc(u," "," ");for(n.set(f,l);;){let h=await s();if(h===!0)break;if(h!==null){let[p,w]=fc(h.toString("utf8")," "," ");n.set(w,p)}}}for(let l of r)if(l.startsWith("symref=")){let f=l.match(/symref=([^:]+):(.*)/);f.length===3&&i.set(f[1],f[2])}return{protocolVersion:1,capabilities:r,refs:n,symrefs:i}}function fc(t,e,r){let n=t.trim().split(e);if(n.length!==2)throw new kn(`Two strings separated by '${r}'`,t.toString("utf8"));return n}var Jd=(t,e)=>t.endsWith("?")?`${t}${e}`:`${t}/${e.replace(/^https?:\/\//,"")}`,Qd=(t,e)=>{(e.username||e.password)&&(t.Authorization=kh(e)),e.headers&&Object.assign(t,e.headers)},dc=async t=>{try{let e=m.from(await Rc(t.body)),r=e.toString("utf8");return{preview:r.length<256?r:r.slice(0,256)+"...",response:r,data:e}}catch(e){return{}}},Sn=class{static async capabilities(){return["discover","connect"]}static async discover({http:e,onProgress:r,onAuth:n,onAuthSuccess:i,onAuthFailure:s,corsProxy:a,service:o,url:u,headers:c,protocolVersion:l}){let{url:f,auth:h}=Gd(u),p=a?Jd(a,f):f;(h.username||h.password)&&(c.Authorization=kh(h)),l===2&&(c["Git-Protocol"]="version=2");let w,g,y=!1;do if(w=await e.request({onProgress:r,method:"GET",url:`${p}/info/refs?service=${o}`,headers:c}),g=!1,w.statusCode===401||w.statusCode===203){let b=y?s:n;if(b){if(h=await b(f,{...h,headers:{...c}}),h&&h.cancel)throw new Ei;h&&(Qd(c,h),y=!0,g=!0)}}else w.statusCode===200&&y&&i&&await i(f,h);while(g);if(w.statusCode!==200){let{response:b}=await dc(w);throw new bi(w.statusCode,w.statusMessage,b)}if(w.headers["content-type"]===`application/x-${o}-advertisement`){let b=await Xd(w.body,{service:o});return b.auth=h,b}else{let{preview:b,response:v,data:k}=await dc(w);try{let D=await Xd([k],{service:o});return D.auth=h,D}catch(D){throw new Ps(b,v)}}}static async connect({http:e,onProgress:r,corsProxy:n,service:i,url:s,auth:a,body:o,headers:u}){let c=Gd(s);c&&(s=c.url),n&&(s=Jd(n,s)),u["content-type"]=`application/x-${i}-request`,u.accept=`application/x-${i}-result`,Qd(u,a);let l=await e.request({onProgress:r,method:"POST",url:`${s}/${i}`,body:o,headers:u});if(l.statusCode!==200){let{response:f}=dc(l);throw new bi(l.statusCode,l.statusMessage,f)}return l}};function Yy({url:t}){if(t.startsWith("git@"))return{transport:"ssh",address:t};let e=t.match(/(\w+)(:\/\/|::)(.*)/);if(e!==null){if(e[2]==="://")return{transport:e[1],address:e[0]};if(e[2]==="::")return{transport:e[1],address:e[3]}}}var Zs=class{static getRemoteHelperFor({url:e}){let r=new Map;r.set("http",Sn),r.set("https",Sn);let n=Yy({url:e});if(!n)throw new Ls(e);if(r.has(n.transport))return r.get(n.transport);throw new Ms(e,n.transport,n.transport==="ssh"?Gy(e):void 0)}},Br=null,An=class{static async read({fs:e,gitdir:r}){Br===null&&(Br=new wi.default);let n=V(r,"shallow"),i=new Set;return await Br.acquire(n,async function(){let s=await e.read(n,{encoding:"utf8"});if(s===null||s.trim()==="")return i;s.trim().split(`
`).map(a=>i.add(a))}),i}static async write({fs:e,gitdir:r,oids:n}){Br===null&&(Br=new wi.default);let i=V(r,"shallow");if(n.size>0){let s=[...n].join(`
`)+`
`;await Br.acquire(i,async function(){await e.write(i,s,{encoding:"utf8"})})}else await Br.acquire(i,async function(){await e.rm(i)})}};async function Xy({fs:t,gitdir:e,oid:r}){let n=`objects/${r.slice(0,2)}/${r.slice(2)}`;return t.exists(`${e}/${n}`)}async function Jy({fs:t,cache:e,gitdir:r,oid:n,getExternalRefDelta:i}){let s=await t.readdir(V(r,"objects/pack"));s=s.filter(a=>a.endsWith(".idx"));for(let a of s){let o=`${r}/objects/pack/${a}`,u=await fh({fs:t,cache:e,filename:o,getExternalRefDelta:i});if(u.error)throw new Z(u.error);if(u.offsets.has(n))return!0}return!1}async function eh({fs:t,cache:e,gitdir:r,oid:n,format:i="content"}){let s=o=>Be({fs:t,cache:e,gitdir:r,oid:o}),a=await Xy({fs:t,gitdir:r,oid:n});return a||(a=await Jy({fs:t,cache:e,gitdir:r,oid:n,getExternalRefDelta:s})),a}function Qy(t){let i="5041434b"+"00000002"+"00000000";return t.slice(0,12).toString("hex")===i}function Dh(t,e){let r=t.map(n=>n.split("=",1)[0]);return e.filter(n=>{let i=n.split("=",1)[0];return r.includes(i)})}var Lc={name:"isomorphic-git",version:"1.27.1",agent:"git/isomorphic-git@1.27.1"},vn=class{constructor(){this._queue=[]}write(e){if(this._ended)throw Error("You cannot write to a FIFO that has already been ended!");if(this._waiting){let r=this._waiting;this._waiting=null,r({value:e})}else this._queue.push(e)}end(){if(this._ended=!0,this._waiting){let e=this._waiting;this._waiting=null,e({done:!0})}}destroy(e){this.error=e,this.end()}async next(){if(this._queue.length>0)return{value:this._queue.shift()};if(this._ended)return{done:!0};if(this._waiting)throw Error("You cannot call read until the previous call to read has returned!");return new Promise(e=>{this._waiting=e})}};function e_(t){let e=t.indexOf("\r"),r=t.indexOf(`
`);return e===-1&&r===-1?-1:e===-1?r+1:r===-1?e+1:r===e+1?r+1:Math.min(e,r)+1}function Sh(t){let e=new vn,r="";return(async()=>(await ki(t,n=>{for(n=n.toString("utf8"),r+=n;;){let i=e_(r);if(i===-1)break;e.write(r.slice(0,i)),r=r.slice(i)}}),r.length>0&&e.write(r),e.end()))(),e}var Hs=class{static demux(e){let r=ae.streamReader(e),n=new vn,i=new vn,s=new vn,a=async function(){let o=await r();if(o===null)return a();if(o===!0){n.end(),s.end(),e.error?i.destroy(e.error):i.end();return}switch(o[0]){case 1:{i.write(o.slice(1));break}case 2:{s.write(o.slice(1));break}case 3:{let u=o.slice(1);s.write(u),n.end(),s.end(),i.destroy(new Error(u.toString("utf8")));return}default:n.write(o)}a()};return a(),{packetlines:n,packfile:i,progress:s}}};async function t_(t){let{packetlines:e,packfile:r,progress:n}=Hs.demux(t),i=[],s=[],a=[],o=!1,u=!1;return new Promise((c,l)=>{ki(e,f=>{let h=f.toString("utf8").trim();if(h.startsWith("shallow")){let p=h.slice(-41).trim();p.length!==40&&l(new Rr(p)),i.push(p)}else if(h.startsWith("unshallow")){let p=h.slice(-41).trim();p.length!==40&&l(new Rr(p)),s.push(p)}else if(h.startsWith("ACK")){let[,p,w]=h.split(" ");a.push({oid:p,status:w}),w||(u=!0)}else h.startsWith("NAK")?(o=!0,u=!0):(u=!0,o=!0);u&&(t.error?l(t.error):c({shallows:i,unshallows:s,acks:a,nak:o,packfile:r,progress:n}))}).finally(()=>{u||(t.error?l(t.error):c({shallows:i,unshallows:s,acks:a,nak:o,packfile:r,progress:n}))})})}function r_({capabilities:t=[],wants:e=[],haves:r=[],shallows:n=[],depth:i=null,since:s=null,exclude:a=[]}){let o=[];e=[...new Set(e)];let u=` ${t.join(" ")}`;for(let c of e)o.push(ae.encode(`want ${c}${u}
`)),u="";for(let c of n)o.push(ae.encode(`shallow ${c}
`));i!==null&&o.push(ae.encode(`deepen ${i}
`)),s!==null&&o.push(ae.encode(`deepen-since ${Math.floor(s.valueOf()/1e3)}
`));for(let c of a)o.push(ae.encode(`deepen-not ${c}
`));o.push(ae.flush());for(let c of r)o.push(ae.encode(`have ${c}
`));return o.push(ae.encode(`done
`)),o}async function n_({fs:t,cache:e,http:r,onProgress:n,onMessage:i,onAuth:s,onAuthSuccess:a,onAuthFailure:o,gitdir:u,ref:c,remoteRef:l,remote:f,url:h,corsProxy:p,depth:w=null,since:g=null,exclude:y=[],relative:b=!1,tags:v=!1,singleBranch:k=!1,headers:D={},prune:x=!1,pruneTags:A=!1}){let _=c||await Eh({fs:t,gitdir:u,test:!0}),C=await De.get({fs:t,gitdir:u}),E=f||_&&await C.get(`branch.${_}.remote`)||"origin",T=h||await C.get(`remote.${E}.url`);if(typeof T=="undefined")throw new rt("remote OR url");let F=l||_&&await C.get(`branch.${_}.merge`)||c||"HEAD";p===void 0&&(p=await C.get("http.corsProxy"));let B=Zs.getRemoteHelperFor({url:T}),P=await B.discover({http:r,onAuth:s,onAuthSuccess:a,onAuthFailure:o,corsProxy:p,service:"git-upload-pack",url:T,headers:D,protocolVersion:1}),U=P.auth,Ce=P.refs;if(Ce.size===0)return{defaultBranch:null,fetchHead:null,fetchHeadDescription:null};if(w!==null&&!P.capabilities.has("shallow"))throw new Or("shallow","depth");if(g!==null&&!P.capabilities.has("deepen-since"))throw new Or("deepen-since","since");if(y.length>0&&!P.capabilities.has("deepen-not"))throw new Or("deepen-not","exclude");if(b===!0&&!P.capabilities.has("deepen-relative"))throw new Or("deepen-relative","relative");let{oid:Jt,fullref:qe}=J.resolveAgainstMap({ref:F,map:Ce});for(let re of Ce.keys())re===qe||re==="HEAD"||re.startsWith("refs/heads/")||v&&re.startsWith("refs/tags/")||Ce.delete(re);let Qe=Dh([...P.capabilities],["multi_ack_detailed","no-done","side-band-64k","ofs-delta",`agent=${Lc.agent}`]);b&&Qe.push("deepen-relative");let Ja=k?[Jt]:Ce.values(),Qa=k?[_]:await J.listRefs({fs:t,gitdir:u,filepath:"refs"}),$e=[];for(let re of Qa)try{re=await J.expand({fs:t,gitdir:u,ref:re});let ge=await J.resolve({fs:t,gitdir:u,ref:re});await eh({fs:t,cache:e,gitdir:u,oid:ge})&&$e.push(ge)}catch(ge){}$e=[...new Set($e)];let se=await An.read({fs:t,gitdir:u}),pt=P.capabilities.has("shallow")?[...se]:[],_e=r_({capabilities:Qe,wants:Ja,haves:$e,shallows:pt,depth:w,since:g,exclude:y}),Gn=m.from(await Rc(_e)),br=await B.connect({http:r,onProgress:n,corsProxy:p,service:"git-upload-pack",url:T,auth:U,body:[Gn],headers:D}),ue=await t_(br.body);br.headers&&(ue.headers=br.headers);for(let re of ue.shallows)if(!se.has(re))try{let{object:ge}=await Be({fs:t,cache:e,gitdir:u,oid:re}),Ze=new nt(ge),mt=await Promise.all(Ze.headers().parent.map(Xn=>eh({fs:t,cache:e,gitdir:u,oid:Xn})));mt.length===0||mt.every(Xn=>Xn)||se.add(re)}catch(ge){se.add(re)}for(let re of ue.unshallows)se.delete(re);if(await An.write({fs:t,gitdir:u,oids:se}),k){let re=new Map([[qe,Jt]]),ge=new Map,Ze=10,mt=qe;for(;Ze--;){let to=P.symrefs.get(mt);if(to===void 0)break;ge.set(mt,to),mt=to}let eo=Ce.get(mt);eo&&re.set(mt,eo);let{pruned:Xn}=await J.updateRemoteRefs({fs:t,gitdir:u,remote:E,refs:re,symrefs:ge,tags:v,prune:x});x&&(ue.pruned=Xn)}else{let{pruned:re}=await J.updateRemoteRefs({fs:t,gitdir:u,remote:E,refs:Ce,symrefs:P.symrefs,tags:v,prune:x,pruneTags:A});x&&(ue.pruned=re)}if(ue.HEAD=P.symrefs.get("HEAD"),ue.HEAD===void 0){let{oid:re}=J.resolveAgainstMap({ref:"HEAD",map:Ce});for(let[ge,Ze]of Ce.entries())if(ge!=="HEAD"&&Ze===re){ue.HEAD=ge;break}}let Om=qe.startsWith("refs/tags")?"tag":"branch";if(ue.FETCH_HEAD={oid:Jt,description:`${Om} '${xh(qe)}' of ${T}`},n||i){let re=Sh(ue.progress);ki(re,async ge=>{if(i&&await i(ge),n){let Ze=ge.match(/([^:]*).*\((\d+?)\/(\d+?)\)/);Ze&&await n({phase:Ze[1].trim(),loaded:parseInt(Ze[2],10),total:parseInt(Ze[3],10)})}})}let Yi=m.from(await Rc(ue.packfile));if(br.body.error)throw br.body.error;let Uu=Yi.slice(-20).toString("hex"),Yn={defaultBranch:ue.HEAD,fetchHead:ue.FETCH_HEAD.oid,fetchHeadDescription:ue.FETCH_HEAD.description};if(ue.headers&&(Yn.headers=ue.headers),x&&(Yn.pruned=ue.pruned),Uu!==""&&!Qy(Yi)){Yn.packfile=`objects/pack/pack-${Uu}.pack`;let re=V(u,Yn.packfile);await t.write(re,Yi);let ge=mt=>Be({fs:t,cache:e,gitdir:u,oid:mt}),Ze=await Fs.fromPack({pack:Yi,getExternalRefDelta:ge,onProgress:n});await t.write(re.replace(/\.pack$/,".idx"),await Ze.toBuffer())}return Yn}async function i_({fs:t,bare:e=!1,dir:r,gitdir:n=e?r:V(r,".git"),defaultBranch:i="master"}){if(await t.exists(n+"/config"))return;let s=["hooks","info","objects/info","objects/pack","refs/heads","refs/tags"];s=s.map(a=>n+"/"+a);for(let a of s)await t.mkdir(a);await t.write(n+"/config",`[core]
	repositoryformatversion = 0
	filemode = false
	bare = ${e}
`+(e?"":`	logallrefupdates = true
`)+`	symlinks = false
	ignorecase = true
`),await t.write(n+"/HEAD",`ref: refs/heads/${i}
`)}async function s_({fs:t,cache:e,http:r,onProgress:n,onMessage:i,onAuth:s,onAuthSuccess:a,onAuthFailure:o,onPostCheckout:u,dir:c,gitdir:l,url:f,corsProxy:h,ref:p,remote:w,depth:g,since:y,exclude:b,relative:v,singleBranch:k,noCheckout:D,noTags:x,headers:A}){try{if(await i_({fs:t,gitdir:l}),await Hy({fs:t,gitdir:l,remote:w,url:f,force:!1}),h){let E=await De.get({fs:t,gitdir:l});await E.set("http.corsProxy",h),await De.save({fs:t,gitdir:l,config:E})}let{defaultBranch:_,fetchHead:C}=await n_({fs:t,cache:e,http:r,onProgress:n,onMessage:i,onAuth:s,onAuthSuccess:a,onAuthFailure:o,gitdir:l,ref:p,remote:w,corsProxy:h,depth:g,since:y,exclude:b,relative:v,singleBranch:k,headers:A,tags:!x});if(C===null)return;p=p||_,p=p.replace("refs/heads/",""),await Ky({fs:t,cache:e,onProgress:n,onPostCheckout:u,dir:c,gitdir:l,ref:p,remote:w,noCheckout:D})}catch(_){throw await t.rmdir(l,{recursive:!0,maxRetries:10}).catch(()=>{}),_}}async function Ah({fs:t,http:e,onProgress:r,onMessage:n,onAuth:i,onAuthSuccess:s,onAuthFailure:a,onPostCheckout:o,dir:u,gitdir:c=V(u,".git"),url:l,corsProxy:f=void 0,ref:h=void 0,remote:p="origin",depth:w=void 0,since:g=void 0,exclude:y=[],relative:b=!1,singleBranch:v=!1,noCheckout:k=!1,noTags:D=!1,headers:x={},cache:A={}}){try{return oe("fs",t),oe("http",e),oe("gitdir",c),k||oe("dir",u),oe("url",l),await s_({fs:new cr(t),cache:A,http:e,onProgress:r,onMessage:n,onAuth:i,onAuthSuccess:s,onAuthFailure:a,onPostCheckout:o,dir:u,gitdir:c,url:l,corsProxy:f,ref:h,remote:p,depth:w,since:g,exclude:y,relative:b,singleBranch:v,noCheckout:k,noTags:D,headers:x})}catch(_){throw _.caller="git.clone",_}}async function Fh({fs:t,onSign:e,dir:r,gitdir:n=V(r,".git"),message:i,author:s,committer:a,signingKey:o,amend:u=!1,dryRun:c=!1,noUpdateBranch:l=!1,ref:f,parent:h,tree:p,cache:w={}}){try{oe("fs",t),u||oe("message",i),o&&oe("onSign",e);let g=new cr(t);return await Zy({fs:g,cache:w,onSign:e,gitdir:n,message:i,author:s,committer:a,signingKey:o,amend:u,dryRun:c,noUpdateBranch:l,ref:f,parent:h,tree:p})}catch(g){throw g.caller="git.commit",g}}async function a_({fs:t,cache:e,gitdir:r,oids:n}){let i={},s=n.length,a=n.map((o,u)=>({index:u,oid:o}));for(;a.length;){let o=new Set;for(let{oid:c,index:l}of a)i[c]||(i[c]=new Set),i[c].add(l),i[c].size===s&&o.add(c);if(o.size>0)return[...o];let u=new Map;for(let{oid:c,index:l}of a)try{let{object:f}=await Be({fs:t,cache:e,gitdir:r,oid:c}),h=nt.from(f),{parent:p}=h.parseHeaders();for(let w of p)(!i[w]||!i[w].has(l))&&u.set(w+":"+l,{oid:w,index:l})}catch(f){}a=Array.from(u.values())}return[]}function o_(t,e,r,n){let i=[];for(let[s,a]of t.refs){if(e&&!s.startsWith(e))continue;if(s.endsWith("^{}")){if(n){let u=s.replace("^{}",""),c=i[i.length-1],l=c.ref===u?c:i.find(f=>f.ref===u);if(l===void 0)throw new Error("I did not expect this to happen");l.peeled=a}continue}let o={ref:s,oid:a};r&&t.symrefs.has(s)&&(o.target=t.symrefs.get(s)),i.push(o)}return i}async function c_({fs:t,cache:e,gitdir:r,oid:n,ancestor:i,depth:s}){let a=await An.read({fs:t,gitdir:r});if(!n)throw new rt("oid");if(!i)throw new rt("ancestor");if(n===i)return!1;let o=[n],u=new Set,c=0;for(;o.length;){if(c++===s)throw new Rs(s);let l=o.shift(),{type:f,object:h}=await Be({fs:t,cache:e,gitdir:r,oid:l});if(f!=="commit")throw new or(l,f,"commit");let p=nt.from(h).parse();for(let w of p.parent)if(w===i)return!0;if(!a.has(l))for(let w of p.parent)u.has(w)||(o.push(w),u.add(w))}return!1}async function u_(t){let e=ae.streamReader(t),r=[],n;for(;n=await e(),n!==!0;){if(n===null)continue;n=n.toString("utf8").replace(/\n$/,"");let[i,s,...a]=n.split(" "),o={ref:s,oid:i};for(let u of a){let[c,l]=u.split(":");c==="symref-target"?o.target=l:c==="peeled"&&(o.peeled=l)}r.push(o)}return r}async function l_({prefix:t,symrefs:e,peelTags:r}){let n=[];return n.push(ae.encode(`command=ls-refs
`)),n.push(ae.encode(`agent=${Lc.agent}
`)),(r||e||t)&&n.push(ae.delim()),r&&n.push(ae.encode("peel")),e&&n.push(ae.encode("symrefs")),t&&n.push(ae.encode(`ref-prefix ${t}`)),n.push(ae.flush()),n}async function Ch({http:t,onAuth:e,onAuthSuccess:r,onAuthFailure:n,corsProxy:i,url:s,headers:a={},forPush:o=!1,protocolVersion:u=2,prefix:c,symrefs:l,peelTags:f}){try{oe("http",t),oe("url",s);let h=await Sn.discover({http:t,onAuth:e,onAuthSuccess:r,onAuthFailure:n,corsProxy:i,service:o?"git-receive-pack":"git-upload-pack",url:s,headers:a,protocolVersion:u});if(h.protocolVersion===1)return o_(h,c,l,f);let p=await l_({prefix:c,symrefs:l,peelTags:f}),w=await Sn.connect({http:t,auth:h.auth,headers:a,corsProxy:i,service:o?"git-receive-pack":"git-upload-pack",url:s,body:p});return u_(w.body)}catch(h){throw h.caller="git.listServerRefs",h}}var f_={commit:16,tree:32,blob:48,tag:64,ofs_delta:96,ref_delta:112};async function d_({fs:t,cache:e,dir:r,gitdir:n=V(r,".git"),oids:i}){let s=new Pc.default,a=[];function o(l,f){let h=m.from(l,f);a.push(h),s.update(h)}async function u({stype:l,object:f}){let h=f_[l],p=f.length,w=p>15?128:0,g=p&15;p=p>>>4;let y=(w|h|g).toString(16);for(o(y,"hex");w;)w=p>127?128:0,y=w|p&127,o($c(2,y),"hex"),p=p>>>7;o(m.from(await gh(f)))}o("PACK"),o("00000002","hex"),o($c(8,i.length),"hex");for(let l of i){let{type:f,object:h}=await Be({fs:t,cache:e,gitdir:n,oid:l});await u({write:o,object:h,stype:f})}let c=s.digest();return a.push(c),a}async function h_({fs:t,cache:e,dir:r,gitdir:n=V(r,".git"),start:i,finish:s}){let a=await An.read({fs:t,gitdir:n}),o=new Set,u=new Set;for(let f of i)o.add(await J.resolve({fs:t,gitdir:n,ref:f}));for(let f of s)try{let h=await J.resolve({fs:t,gitdir:n,ref:f});u.add(h)}catch(h){}let c=new Set;async function l(f){c.add(f);let{type:h,object:p}=await Be({fs:t,cache:e,gitdir:n,oid:f});if(h==="tag"){let g=Dn.from(p).headers().object;return l(g)}if(h!=="commit")throw new or(f,h,"commit");if(!a.has(f)){let g=nt.from(p).headers().parent;for(f of g)!u.has(f)&&!c.has(f)&&await l(f)}}for(let f of o)await l(f);return c}async function hc({fs:t,cache:e,dir:r,gitdir:n=V(r,".git"),oids:i}){let s=new Set;async function a(o){if(s.has(o))return;s.add(o);let{type:u,object:c}=await Be({fs:t,cache:e,gitdir:n,oid:o});if(u==="tag"){let f=Dn.from(c).headers().object;await a(f)}else if(u==="commit"){let f=nt.from(c).headers().tree;await a(f)}else if(u==="tree"){let l=$r.from(c);for(let f of l)f.type==="blob"&&s.add(f.oid),f.type==="tree"&&await a(f.oid)}}for(let o of i)await a(o);return s}async function p_(t){let e={},r="",n=ae.streamReader(t),i=await n();for(;i!==!0;)i!==null&&(r+=i.toString("utf8")+`
`),i=await n();let s=r.toString("utf8").split(`
`);if(i=s.shift(),!i.startsWith("unpack "))throw new kn('unpack ok" or "unpack [error message]',i);e.ok=i==="unpack ok",e.ok||(e.error=i.slice(7)),e.refs={};for(let a of s){if(a.trim()==="")continue;let o=a.slice(0,2),u=a.slice(3),c=u.indexOf(" ");c===-1&&(c=u.length);let l=u.slice(0,c),f=u.slice(c+1);e.refs[l]={ok:o==="ok",error:f}}return e}async function m_({capabilities:t=[],triplets:e=[]}){let r=[],n=`\0 ${t.join(" ")}`;for(let i of e)r.push(ae.encode(`${i.oldoid} ${i.oid} ${i.fullRef}${n}
`)),n="";return r.push(ae.flush()),r}async function g_({fs:t,cache:e,http:r,onProgress:n,onMessage:i,onAuth:s,onAuthSuccess:a,onAuthFailure:o,onPrePush:u,gitdir:c,ref:l,remoteRef:f,remote:h,url:p,force:w=!1,delete:g=!1,corsProxy:y,headers:b={}}){let v=l||await Eh({fs:t,gitdir:c});if(typeof v=="undefined")throw new rt("ref");let k=await De.get({fs:t,gitdir:c});h=h||await k.get(`branch.${v}.pushRemote`)||await k.get("remote.pushDefault")||await k.get(`branch.${v}.remote`)||"origin";let D=p||await k.get(`remote.${h}.pushurl`)||await k.get(`remote.${h}.url`);if(typeof D=="undefined")throw new rt("remote OR url");let x=f||await k.get(`branch.${v}.merge`);if(typeof D=="undefined")throw new rt("remoteRef");y===void 0&&(y=await k.get("http.corsProxy"));let A=await J.expand({fs:t,gitdir:c,ref:v}),_=g?"0000000000000000000000000000000000000000":await J.resolve({fs:t,gitdir:c,ref:A}),C=Zs.getRemoteHelperFor({url:D}),E=await C.discover({http:r,onAuth:s,onAuthSuccess:a,onAuthFailure:o,corsProxy:y,service:"git-receive-pack",url:D,headers:b,protocolVersion:1}),T=E.auth,F;if(!x)F=A;else try{F=await J.expandAgainstMap({ref:x,map:E.refs})}catch(se){if(se instanceof Le)F=x.startsWith("refs/")?x:`refs/heads/${x}`;else throw se}let B=E.refs.get(F)||"0000000000000000000000000000000000000000";if(u&&!await u({remote:h,url:D,localRef:{ref:g?"(delete)":A,oid:_},remoteRef:{ref:F,oid:B}}))throw new Ei;let P=!E.capabilities.has("no-thin"),U=new Set;if(!g){let se=[...E.refs.values()],pt=new Set;if(B!=="0000000000000000000000000000000000000000"){let _e=await a_({fs:t,cache:e,gitdir:c,oids:[_,B]});for(let Gn of _e)se.push(Gn);P&&(pt=await hc({fs:t,cache:e,gitdir:c,oids:_e}))}if(!se.includes(_)){let _e=await h_({fs:t,cache:e,gitdir:c,start:[_],finish:se});U=await hc({fs:t,cache:e,gitdir:c,oids:_e})}if(P){try{let _e=await J.resolve({fs:t,gitdir:c,ref:`refs/remotes/${h}/HEAD`,depth:2}),{oid:Gn}=await J.resolveAgainstMap({ref:_e.replace(`refs/remotes/${h}/`,""),fullref:_e,map:E.refs}),br=[Gn];for(let ue of await hc({fs:t,cache:e,gitdir:c,oids:br}))pt.add(ue)}catch(_e){}for(let _e of pt)U.delete(_e)}if(_===B&&(w=!0),!w){if(A.startsWith("refs/tags")&&B!=="0000000000000000000000000000000000000000")throw new xi("tag-exists");if(_!=="0000000000000000000000000000000000000000"&&B!=="0000000000000000000000000000000000000000"&&!await c_({fs:t,cache:e,gitdir:c,oid:_,ancestor:B,depth:-1}))throw new xi("not-fast-forward")}}let Ce=Dh([...E.capabilities],["report-status","side-band-64k",`agent=${Lc.agent}`]),Jt=await m_({capabilities:Ce,triplets:[{oldoid:B,oid:_,fullRef:F}]}),qe=g?[]:await d_({fs:t,cache:e,gitdir:c,oids:[...U]}),Qe=await C.connect({http:r,onProgress:n,corsProxy:y,service:"git-receive-pack",url:D,auth:T,headers:b,body:[...Jt,...qe]}),{packfile:Ja,progress:Qa}=await Hs.demux(Qe.body);if(i){let se=Sh(Qa);ki(se,async pt=>{await i(pt)})}let $e=await p_(Ja);if(Qe.headers&&($e.headers=Qe.headers),h&&$e.ok&&$e.refs[F].ok&&!A.startsWith("refs/tags")){let se=`refs/remotes/${h}/${F.replace("refs/heads","")}`;g?await J.deleteRef({fs:t,gitdir:c,ref:se}):await J.writeRef({fs:t,gitdir:c,ref:se,value:_})}if($e.ok&&Object.values($e.refs).every(se=>se.ok))return $e;{let se=Object.entries($e.refs).filter(([pt,_e])=>!_e.ok).map(([pt,_e])=>`
  - ${pt}: ${_e.error}`).join("");throw new Os(se,$e)}}async function Th({fs:t,http:e,onProgress:r,onMessage:n,onAuth:i,onAuthSuccess:s,onAuthFailure:a,onPrePush:o,dir:u,gitdir:c=V(u,".git"),ref:l,remoteRef:f,remote:h="origin",url:p,force:w=!1,delete:g=!1,corsProxy:y,headers:b={},cache:v={}}){try{return oe("fs",t),oe("http",e),oe("gitdir",c),await g_({fs:new cr(t),cache:v,http:e,onProgress:r,onMessage:n,onAuth:i,onAuthSuccess:s,onAuthFailure:a,onPrePush:o,gitdir:c,ref:l,remoteRef:f,remote:h,url:p,force:w,delete:g,corsProxy:y,headers:b})}catch(k){throw k.caller="git.push",k}}async function Ih({fs:t,dir:e,gitdir:r=V(e,".git"),ref:n,depth:i}){try{return oe("fs",t),oe("gitdir",r),oe("ref",n),await J.resolve({fs:new cr(t),gitdir:r,ref:n,depth:i})}catch(s){throw s.caller="git.resolveRef",s}}async function Bh({fs:t,dir:e,gitdir:r=V(e,".git"),ref:n="HEAD",filepaths:i=["."],filter:s,cache:a={},ignored:o=!1}){try{oe("fs",t),oe("gitdir",r),oe("ref",n);let u=new cr(t);return await mh({fs:u,cache:a,dir:e,gitdir:r,trees:[dh({ref:n}),hh(),oh()],map:async function(c,[l,f,h]){if(!l&&!h&&f&&!o&&await zs.isIgnored({fs:u,dir:e,filepath:c})||!i.some(A=>vh(c,A)))return null;if(s&&!s(c))return;let[p,w,g]=await Promise.all([l&&l.type(),f&&f.type(),h&&h.type()]),y=[p,w,g].includes("blob");if((p==="tree"||p==="special")&&!y)return;if(p==="commit")return null;if((w==="tree"||w==="special")&&!y)return;if(g==="commit")return null;if((g==="tree"||g==="special")&&!y)return;let b=p==="blob"?await l.oid():void 0,v=g==="blob"?await h.oid():void 0,k;p!=="blob"&&w==="blob"&&g!=="blob"?k="42":w==="blob"&&(k=await f.oid());let D=[void 0,b,k,v],x=D.map(A=>D.indexOf(A));return x.shift(),[c,...x]}})}catch(u){throw u.caller="git.statusMatrix",u}}var Zp=Nt(hp(),1);d();function Q_(t){let e=[t];return{next(){return Promise.resolve({done:e.length===0,value:e.pop()})},return(){return e=[],{}},[Symbol.asyncIterator](){return this}}}function eb(t){return t[Symbol.asyncIterator]?t[Symbol.asyncIterator]():t[Symbol.iterator]?t[Symbol.iterator]():t.next?t:Q_(t)}async function tb(t,e){let r=eb(t);for(;;){let{value:n,done:i}=await r.next();if(n&&await e(n),i)break}r.return&&r.return()}async function rb(t){let e=0,r=[];await tb(t,s=>{r.push(s),e+=s.byteLength});let n=new Uint8Array(e),i=0;for(let s of r)n.set(s,i),i+=s.byteLength;return n}function nb(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{next(){return e.read()},return(){return e.releaseLock(),{}},[Symbol.asyncIterator](){return this}}}async function ib({onProgress:t,url:e,method:r="GET",headers:n={},body:i}){i&&(i=await rb(i));let s=await fetch(e,{method:r,headers:n,body:i}),a=s.body&&s.body.getReader?nb(s.body):[new Uint8Array(await s.arrayBuffer())];n={};for(let[o,u]of s.headers.entries())n[o]=u;return{url:s.url,method:s.method,statusCode:s.status,statusMessage:s.statusText,body:a,headers:n}}var sb={request:ib},Js=sb;var Vt=require("obsidian");d();d();d();d();d();d();var Qs=Symbol.for("yaml.alias"),ea=Symbol.for("yaml.document"),it=Symbol.for("yaml.map"),Zc=Symbol.for("yaml.pair"),Mr=Symbol.for("yaml.scalar"),qt=Symbol.for("yaml.seq"),Ae=Symbol.for("yaml.node.type"),st=t=>!!t&&typeof t=="object"&&t[Ae]===Qs,at=t=>!!t&&typeof t=="object"&&t[Ae]===ea,ot=t=>!!t&&typeof t=="object"&&t[Ae]===it,G=t=>!!t&&typeof t=="object"&&t[Ae]===Zc,H=t=>!!t&&typeof t=="object"&&t[Ae]===Mr,ct=t=>!!t&&typeof t=="object"&&t[Ae]===qt;function ee(t){if(t&&typeof t=="object")switch(t[Ae]){case it:case qt:return!0}return!1}function Y(t){if(t&&typeof t=="object")switch(t[Ae]){case Qs:case it:case Mr:case qt:return!0}return!1}var pp=t=>(H(t)||ee(t))&&!!t.anchor;d();var Ne=Symbol("break visit"),mp=Symbol("skip children"),Ft=Symbol("remove node");function ut(t,e){let r=gp(e);at(t)?Fn(null,t.contents,r,Object.freeze([t]))===Ft&&(t.contents=null):Fn(null,t,r,Object.freeze([]))}ut.BREAK=Ne;ut.SKIP=mp;ut.REMOVE=Ft;function Fn(t,e,r,n){let i=wp(t,e,r,n);if(Y(i)||G(i))return yp(t,n,i),Fn(t,i,r,n);if(typeof i!="symbol"){if(ee(e)){n=Object.freeze(n.concat(e));for(let s=0;s<e.items.length;++s){let a=Fn(s,e.items[s],r,n);if(typeof a=="number")s=a-1;else{if(a===Ne)return Ne;a===Ft&&(e.items.splice(s,1),s-=1)}}}else if(G(e)){n=Object.freeze(n.concat(e));let s=Fn("key",e.key,r,n);if(s===Ne)return Ne;s===Ft&&(e.key=null);let a=Fn("value",e.value,r,n);if(a===Ne)return Ne;a===Ft&&(e.value=null)}}return i}async function ta(t,e){let r=gp(e);at(t)?await Cn(null,t.contents,r,Object.freeze([t]))===Ft&&(t.contents=null):await Cn(null,t,r,Object.freeze([]))}ta.BREAK=Ne;ta.SKIP=mp;ta.REMOVE=Ft;async function Cn(t,e,r,n){let i=await wp(t,e,r,n);if(Y(i)||G(i))return yp(t,n,i),Cn(t,i,r,n);if(typeof i!="symbol"){if(ee(e)){n=Object.freeze(n.concat(e));for(let s=0;s<e.items.length;++s){let a=await Cn(s,e.items[s],r,n);if(typeof a=="number")s=a-1;else{if(a===Ne)return Ne;a===Ft&&(e.items.splice(s,1),s-=1)}}}else if(G(e)){n=Object.freeze(n.concat(e));let s=await Cn("key",e.key,r,n);if(s===Ne)return Ne;s===Ft&&(e.key=null);let a=await Cn("value",e.value,r,n);if(a===Ne)return Ne;a===Ft&&(e.value=null)}}return i}function gp(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function wp(t,e,r,n){var i,s,a,o,u;if(typeof r=="function")return r(t,e,n);if(ot(e))return(i=r.Map)==null?void 0:i.call(r,t,e,n);if(ct(e))return(s=r.Seq)==null?void 0:s.call(r,t,e,n);if(G(e))return(a=r.Pair)==null?void 0:a.call(r,t,e,n);if(H(e))return(o=r.Scalar)==null?void 0:o.call(r,t,e,n);if(st(e))return(u=r.Alias)==null?void 0:u.call(r,t,e,n)}function yp(t,e,r){let n=e[e.length-1];if(ee(n))n.items[t]=r;else if(G(n))t==="key"?n.key=r:n.value=r;else if(at(n))n.contents=r;else{let i=st(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}var ab={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},ob=t=>t.replace(/[!,[\]{}]/g,e=>ab[e]),Zt=class t{constructor(e,r){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},t.defaultYaml,e),this.tags=Object.assign({},t.defaultTags,r)}clone(){let e=new t(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){let e=new t(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:t.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},t.defaultTags);break}return e}add(e,r){this.atNextDocument&&(this.yaml={explicit:t.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},t.defaultTags),this.atNextDocument=!1);let n=e.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(n.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;let[s,a]=n;return this.tags[s]=a,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return r(0,"%YAML directive should contain exactly one part"),!1;let[s]=n;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{let a=/^\d+\.\d+$/.test(s);return r(6,`Unsupported YAML version ${s}`,a),!1}}default:return r(0,`Unknown directive ${i}`,!0),!1}}tagName(e,r){if(e==="!")return"!";if(e[0]!=="!")return r(`Not a valid tag: ${e}`),null;if(e[1]==="<"){let a=e.slice(2,-1);return a==="!"||a==="!!"?(r(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&r("Verbatim tags must end with a >"),a)}let[,n,i]=e.match(/^(.*!)([^!]*)$/s);i||r(`The ${e} tag has no suffix`);let s=this.tags[n];if(s)try{return s+decodeURIComponent(i)}catch(a){return r(String(a)),null}return n==="!"?e:(r(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[r,n]of Object.entries(this.tags))if(e.startsWith(n))return r+ob(e.substring(n.length));return e[0]==="!"?e:`!<${e}>`}toString(e){let r=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags),i;if(e&&n.length>0&&Y(e.contents)){let s={};ut(e.contents,(a,o)=>{Y(o)&&o.tag&&(s[o.tag]=!0)}),i=Object.keys(s)}else i=[];for(let[s,a]of n)s==="!!"&&a==="tag:yaml.org,2002:"||(!e||i.some(o=>o.startsWith(a)))&&r.push(`%TAG ${s} ${a}`);return r.join(`
`)}};Zt.defaultYaml={explicit:!1,version:"1.2"};Zt.defaultTags={"!!":"tag:yaml.org,2002:"};d();d();d();function ra(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){let r=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(r)}return!0}function Hc(t){let e=new Set;return ut(t,{Value(r,n){n.anchor&&e.add(n.anchor)}}),e}function Kc(t,e){for(let r=1;;++r){let n=`${t}${r}`;if(!e.has(n))return n}}function _p(t,e){let r=[],n=new Map,i=null;return{onAnchor:s=>{r.push(s),i||(i=Hc(t));let a=Kc(e,i);return i.add(a),a},setAnchors:()=>{for(let s of r){let a=n.get(s);if(typeof a=="object"&&a.anchor&&(H(a.node)||ee(a.node)))a.node.anchor=a.anchor;else{let o=new Error("Failed to resolve repeated object (this should not happen)");throw o.source=s,o}}},sourceObjects:n}}d();d();function lr(t,e,r,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let i=0,s=n.length;i<s;++i){let a=n[i],o=lr(t,n,String(i),a);o===void 0?delete n[i]:o!==a&&(n[i]=o)}else if(n instanceof Map)for(let i of Array.from(n.keys())){let s=n.get(i),a=lr(t,n,i,s);a===void 0?n.delete(i):a!==s&&n.set(i,a)}else if(n instanceof Set)for(let i of Array.from(n)){let s=lr(t,n,i,i);s===void 0?n.delete(i):s!==i&&(n.delete(i),n.add(s))}else for(let[i,s]of Object.entries(n)){let a=lr(t,n,i,s);a===void 0?delete n[i]:a!==s&&(n[i]=a)}return t.call(e,r,n)}d();function fe(t,e,r){if(Array.isArray(t))return t.map((n,i)=>fe(n,String(i),r));if(t&&typeof t.toJSON=="function"){if(!r||!pp(t))return t.toJSON(e,r);let n={aliasCount:0,count:1,res:void 0};r.anchors.set(t,n),r.onCreate=s=>{n.res=s,delete r.onCreate};let i=t.toJSON(e,r);return r.onCreate&&r.onCreate(i),i}return typeof t=="bigint"&&!(r!=null&&r.keep)?Number(t):t}var fr=class{constructor(e){Object.defineProperty(this,Ae,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:r,maxAliasCount:n,onAnchor:i,reviver:s}={}){if(!at(e))throw new TypeError("A document argument is required");let a={anchors:new Map,doc:e,keep:!0,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},o=fe(this,"",a);if(typeof i=="function")for(let{count:u,res:c}of a.anchors.values())i(c,u);return typeof s=="function"?lr(s,{"":o},"",o):o}};var dr=class extends fr{constructor(e){super(Qs),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let r;return ut(e,{Node:(n,i)=>{if(i===this)return ut.BREAK;i.anchor===this.source&&(r=i)}}),r}toJSON(e,r){if(!r)return{source:this.source};let{anchors:n,doc:i,maxAliasCount:s}=r,a=this.resolve(i);if(!a){let u=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(u)}let o=n.get(a);if(o||(fe(a,null,r),o=n.get(a)),!o||o.res===void 0){let u="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(u)}if(s>=0&&(o.count+=1,o.aliasCount===0&&(o.aliasCount=na(i,a,n)),o.count*o.aliasCount>s)){let u="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(u)}return o.res}toString(e,r,n){let i=`*${this.source}`;if(e){if(ra(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return`${i} `}return i}};function na(t,e,r){if(st(e)){let n=e.resolve(t),i=r&&n&&r.get(n);return i?i.count*i.aliasCount:0}else if(ee(e)){let n=0;for(let i of e.items){let s=na(t,i,r);s>n&&(n=s)}return n}else if(G(e)){let n=na(t,e.key,r),i=na(t,e.value,r);return Math.max(n,i)}return 1}d();d();d();var ia=t=>!t||typeof t!="function"&&typeof t!="object",$=class extends fr{constructor(e){super(Mr),this.value=e}toJSON(e,r){return r!=null&&r.keep?this.value:fe(this.value,e,r)}toString(){return String(this.value)}};$.BLOCK_FOLDED="BLOCK_FOLDED";$.BLOCK_LITERAL="BLOCK_LITERAL";$.PLAIN="PLAIN";$.QUOTE_DOUBLE="QUOTE_DOUBLE";$.QUOTE_SINGLE="QUOTE_SINGLE";var cb="tag:yaml.org,2002:";function ub(t,e,r){var n;if(e){let i=r.filter(a=>a.tag===e),s=(n=i.find(a=>!a.format))!=null?n:i[0];if(!s)throw new Error(`Tag ${e} not found`);return s}return r.find(i=>{var s;return((s=i.identify)==null?void 0:s.call(i,t))&&!i.format})}function Ht(t,e,r){var f,h,p;if(at(t)&&(t=t.contents),Y(t))return t;if(G(t)){let w=(h=(f=r.schema[it]).createNode)==null?void 0:h.call(f,r.schema,null,r);return w.items.push(t),w}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt!="undefined"&&t instanceof BigInt)&&(t=t.valueOf());let{aliasDuplicateObjects:n,onAnchor:i,onTagObj:s,schema:a,sourceObjects:o}=r,u;if(n&&t&&typeof t=="object"){if(u=o.get(t),u)return u.anchor||(u.anchor=i(t)),new dr(u.anchor);u={anchor:null,node:null},o.set(t,u)}e!=null&&e.startsWith("!!")&&(e=cb+e.slice(2));let c=ub(t,e,a.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){let w=new $(t);return u&&(u.node=w),w}c=t instanceof Map?a[it]:Symbol.iterator in Object(t)?a[qt]:a[it]}s&&(s(c),delete r.onTagObj);let l=c!=null&&c.createNode?c.createNode(r.schema,t,r):typeof((p=c==null?void 0:c.nodeClass)==null?void 0:p.from)=="function"?c.nodeClass.from(r.schema,t,r):new $(t);return e?l.tag=e:c.default||(l.tag=c.tag),u&&(u.node=l),l}function Fi(t,e,r){let n=r;for(let i=e.length-1;i>=0;--i){let s=e[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){let a=[];a[s]=n,n=a}else n=new Map([[s,n]])}return Ht(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}var In=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done,Tn=class extends fr{constructor(e,r){super(e),Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(e){let r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(r.schema=e),r.items=r.items.map(n=>Y(n)||G(n)?n.clone(e):n),this.range&&(r.range=this.range.slice()),r}addIn(e,r){if(In(e))this.add(r);else{let[n,...i]=e,s=this.get(n,!0);if(ee(s))s.addIn(i,r);else if(s===void 0&&this.schema)this.set(n,Fi(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn(e){let[r,...n]=e;if(n.length===0)return this.delete(r);let i=this.get(r,!0);if(ee(i))return i.deleteIn(n);throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}getIn(e,r){let[n,...i]=e,s=this.get(n,!0);return i.length===0?!r&&H(s)?s.value:s:ee(s)?s.getIn(i,r):void 0}hasAllNullValues(e){return this.items.every(r=>{if(!G(r))return!1;let n=r.value;return n==null||e&&H(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){let[r,...n]=e;if(n.length===0)return this.has(r);let i=this.get(r,!0);return ee(i)?i.hasIn(n):!1}setIn(e,r){let[n,...i]=e;if(i.length===0)this.set(n,r);else{let s=this.get(n,!0);if(ee(s))s.setIn(i,r);else if(s===void 0&&this.schema)this.set(n,Fi(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}};d();d();d();d();var bp=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Ye(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}var Ct=(t,e,r)=>t.endsWith(`
`)?Ye(r,e):r.includes(`
`)?`
`+Ye(r,e):(t.endsWith(" ")?"":" ")+r;d();d();var Vc="flow",sa="block",Ci="quoted";function Ti(t,e,r="flow",{indentAtStart:n,lineWidth:i=80,minContentWidth:s=20,onFold:a,onOverflow:o}={}){if(!i||i<0)return t;i<s&&(s=0);let u=Math.max(1+s,1+i-e.length);if(t.length<=u)return t;let c=[],l={},f=i-e.length;typeof n=="number"&&(n>i-Math.max(2,s)?c.push(0):f=i-n);let h,p,w=!1,g=-1,y=-1,b=-1;r===sa&&(g=vp(t,g,e.length),g!==-1&&(f=g+u));for(let k;k=t[g+=1];){if(r===Ci&&k==="\\"){switch(y=g,t[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}b=g}if(k===`
`)r===sa&&(g=vp(t,g,e.length)),f=g+e.length+u,h=void 0;else{if(k===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){let D=t[g+1];D&&D!==" "&&D!==`
`&&D!=="	"&&(h=g)}if(g>=f)if(h)c.push(h),f=h+u,h=void 0;else if(r===Ci){for(;p===" "||p==="	";)p=k,k=t[g+=1],w=!0;let D=g>b+1?g-2:y-1;if(l[D])return t;c.push(D),l[D]=!0,f=D+u,h=void 0}else w=!0}p=k}if(w&&o&&o(),c.length===0)return t;a&&a();let v=t.slice(0,c[0]);for(let k=0;k<c.length;++k){let D=c[k],x=c[k+1]||t.length;D===0?v=`
${e}${t.slice(0,x)}`:(r===Ci&&l[D]&&(v+=`${t[D]}\\`),v+=`
${e}${t.slice(D+1,x)}`)}return v}function vp(t,e,r){let n=e,i=e+1,s=t[i];for(;s===" "||s==="	";)if(e<i+r)s=t[++e];else{do s=t[++e];while(s&&s!==`
`);n=e,i=e+1,s=t[i]}return n}var oa=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),ca=t=>/^(%|---|\.\.\.)/m.test(t);function lb(t,e,r){if(!e||e<0)return!1;let n=e-r,i=t.length;if(i<=n)return!1;for(let s=0,a=0;s<i;++s)if(t[s]===`
`){if(s-a>n)return!0;if(a=s+1,i-a<=n)return!1}return!0}function Ii(t,e){let r=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return r;let{implicitKey:n}=e,i=e.options.doubleQuotedMinMultiLineLength,s=e.indent||(ca(t)?"  ":""),a="",o=0;for(let u=0,c=r[u];c;c=r[++u])if(c===" "&&r[u+1]==="\\"&&r[u+2]==="n"&&(a+=r.slice(o,u)+"\\ ",u+=1,o=u,c="\\"),c==="\\")switch(r[u+1]){case"u":{a+=r.slice(o,u);let l=r.substr(u+2,4);switch(l){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:l.substr(0,2)==="00"?a+="\\x"+l.substr(2):a+=r.substr(u,6)}u+=5,o=u+1}break;case"n":if(n||r[u+2]==='"'||r.length<i)u+=1;else{for(a+=r.slice(o,u)+`

`;r[u+2]==="\\"&&r[u+3]==="n"&&r[u+4]!=='"';)a+=`
`,u+=2;a+=s,r[u+2]===" "&&(a+="\\"),u+=1,o=u+1}break;default:u+=1}return a=o?a+r.slice(o):r,n?a:Ti(a,s,Ci,oa(e,!1))}function Wc(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return Ii(t,e);let r=e.indent||(ca(t)?"  ":""),n="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return e.implicitKey?n:Ti(n,r,Vc,oa(e,!1))}function Bn(t,e){let{singleQuote:r}=e.options,n;if(r===!1)n=Ii;else{let i=t.includes('"'),s=t.includes("'");i&&!s?n=Wc:s&&!i?n=Ii:n=r?Wc:Ii}return n(t,e)}var Gc;try{Gc=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch(t){Gc=/\n+(?!\n|$)/g}function aa({comment:t,type:e,value:r},n,i,s){let{blockQuote:a,commentString:o,lineWidth:u}=n.options;if(!a||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return Bn(r,n);let c=n.indent||(n.forceBlockIndent||ca(r)?"  ":""),l=a==="literal"?!0:a==="folded"||e===$.BLOCK_FOLDED?!1:e===$.BLOCK_LITERAL?!0:!lb(r,u,c.length);if(!r)return l?`|
`:`>
`;let f,h;for(h=r.length;h>0;--h){let A=r[h-1];if(A!==`
`&&A!=="	"&&A!==" ")break}let p=r.substring(h),w=p.indexOf(`
`);w===-1?f="-":r===p||w!==p.length-1?(f="+",s&&s()):f="",p&&(r=r.slice(0,-p.length),p[p.length-1]===`
`&&(p=p.slice(0,-1)),p=p.replace(Gc,`$&${c}`));let g=!1,y,b=-1;for(y=0;y<r.length;++y){let A=r[y];if(A===" ")g=!0;else if(A===`
`)b=y;else break}let v=r.substring(0,b<y?b+1:y);v&&(r=r.substring(v.length),v=v.replace(/\n+/g,`$&${c}`));let D=(l?"|":">")+(g?c?"2":"1":"")+f;if(t&&(D+=" "+o(t.replace(/ ?[\r\n]+/g," ")),i&&i()),l)return r=r.replace(/\n+/g,`$&${c}`),`${D}
${c}${v}${r}${p}`;r=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let x=Ti(`${v}${r}${p}`,c,sa,oa(n,!0));return`${D}
${c}${x}`}function fb(t,e,r,n){let{type:i,value:s}=t,{actualString:a,implicitKey:o,indent:u,indentStep:c,inFlow:l}=e;if(o&&s.includes(`
`)||l&&/[[\]{},]/.test(s))return Bn(s,e);if(!s||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return o||l||!s.includes(`
`)?Bn(s,e):aa(t,e,r,n);if(!o&&!l&&i!==$.PLAIN&&s.includes(`
`))return aa(t,e,r,n);if(ca(s)){if(u==="")return e.forceBlockIndent=!0,aa(t,e,r,n);if(o&&u===c)return Bn(s,e)}let f=s.replace(/\n+/g,`$&
${u}`);if(a){let h=g=>{var y;return g.default&&g.tag!=="tag:yaml.org,2002:str"&&((y=g.test)==null?void 0:y.test(f))},{compat:p,tags:w}=e.doc.schema;if(w.some(h)||p!=null&&p.some(h))return Bn(s,e)}return o?f:Ti(f,u,Vc,oa(e,!1))}function Lr(t,e,r,n){let{implicitKey:i,inFlow:s}=e,a=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)}),{type:o}=t;o!==$.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(a.value)&&(o=$.QUOTE_DOUBLE);let u=l=>{switch(l){case $.BLOCK_FOLDED:case $.BLOCK_LITERAL:return i||s?Bn(a.value,e):aa(a,e,r,n);case $.QUOTE_DOUBLE:return Ii(a.value,e);case $.QUOTE_SINGLE:return Wc(a.value,e);case $.PLAIN:return fb(a,e,r,n);default:return null}},c=u(o);if(c===null){let{defaultKeyType:l,defaultStringType:f}=e.options,h=i&&l||f;if(c=u(h),c===null)throw new Error(`Unsupported default string type ${h}`)}return c}function ua(t,e){let r=Object.assign({blockQuote:!0,commentString:bp,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e),n;switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:t,flowCollectionPadding:r.flowCollectionPadding?" ":"",indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function db(t,e){var i,s,a,o;if(e.tag){let u=t.filter(c=>c.tag===e.tag);if(u.length>0)return(i=u.find(c=>c.format===e.format))!=null?i:u[0]}let r,n;if(H(e)){n=e.value;let u=t.filter(c=>{var l;return(l=c.identify)==null?void 0:l.call(c,n)});if(u.length>1){let c=u.filter(l=>l.test);c.length>0&&(u=c)}r=(s=u.find(c=>c.format===e.format))!=null?s:u.find(c=>!c.format)}else n=e,r=t.find(u=>u.nodeClass&&n instanceof u.nodeClass);if(!r){let u=(o=(a=n==null?void 0:n.constructor)==null?void 0:a.name)!=null?o:typeof n;throw new Error(`Tag not resolved for ${u} value`)}return r}function hb(t,e,{anchors:r,doc:n}){if(!n.directives)return"";let i=[],s=(H(t)||ee(t))&&t.anchor;s&&ra(s)&&(r.add(s),i.push(`&${s}`));let a=t.tag?t.tag:e.default?null:e.tag;return a&&i.push(n.directives.tagString(a)),i.join(" ")}function Kt(t,e,r,n){var u,c;if(G(t))return t.toString(e,r,n);if(st(t)){if(e.doc.directives)return t.toString(e);if((u=e.resolvedAliases)!=null&&u.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i,s=Y(t)?t:e.doc.createNode(t,{onTagObj:l=>i=l});i||(i=db(e.doc.schema.tags,s));let a=hb(s,i,e);a.length>0&&(e.indentAtStart=((c=e.indentAtStart)!=null?c:0)+a.length+1);let o=typeof i.stringify=="function"?i.stringify(s,e,r,n):H(s)?Lr(s,e,r,n):s.toString(e,r,n);return a?H(s)||o[0]==="{"||o[0]==="["?`${a} ${o}`:`${a}
${e.indent}${o}`:o}function xp({key:t,value:e},r,n,i){var _,C;let{allNullValues:s,doc:a,indent:o,indentStep:u,options:{commentString:c,indentSeq:l,simpleKeys:f}}=r,h=Y(t)&&t.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(ee(t)||!Y(t)&&typeof t=="object"){let E="With simple keys, collection cannot be used as a key value";throw new Error(E)}}let p=!f&&(!t||h&&e==null&&!r.inFlow||ee(t)||(H(t)?t.type===$.BLOCK_FOLDED||t.type===$.BLOCK_LITERAL:typeof t=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!p&&(f||!s),indent:o+u});let w=!1,g=!1,y=Kt(t,r,()=>w=!0,()=>g=!0);if(!p&&!r.inFlow&&y.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(r.inFlow){if(s||e==null)return w&&n&&n(),y===""?"?":p?`? ${y}`:y}else if(s&&!f||e==null&&p)return y=`? ${y}`,h&&!w?y+=Ct(y,r.indent,c(h)):g&&i&&i(),y;w&&(h=null),p?(h&&(y+=Ct(y,r.indent,c(h))),y=`? ${y}
${o}:`):(y=`${y}:`,h&&(y+=Ct(y,r.indent,c(h))));let b,v,k;Y(e)?(b=!!e.spaceBefore,v=e.commentBefore,k=e.comment):(b=!1,v=null,k=null,e&&typeof e=="object"&&(e=a.createNode(e))),r.implicitKey=!1,!p&&!h&&H(e)&&(r.indentAtStart=y.length+1),g=!1,!l&&u.length>=2&&!r.inFlow&&!p&&ct(e)&&!e.flow&&!e.tag&&!e.anchor&&(r.indent=r.indent.substring(2));let D=!1,x=Kt(e,r,()=>D=!0,()=>g=!0),A=" ";if(h||b||v){if(A=b?`
`:"",v){let E=c(v);A+=`
${Ye(E,r.indent)}`}x===""&&!r.inFlow?A===`
`&&(A=`

`):A+=`
${r.indent}`}else if(!p&&ee(e)){let E=x[0],T=x.indexOf(`
`),F=T!==-1,B=(C=(_=r.inFlow)!=null?_:e.flow)!=null?C:e.items.length===0;if(F||!B){let P=!1;if(F&&(E==="&"||E==="!")){let U=x.indexOf(" ");E==="&"&&U!==-1&&U<T&&x[U+1]==="!"&&(U=x.indexOf(" ",U+1)),(U===-1||T<U)&&(P=!0)}P||(A=`
${r.indent}`)}}else(x===""||x[0]===`
`)&&(A="");return y+=A+x,r.inFlow?D&&n&&n():k&&!D?y+=Ct(y,r.indent,c(k)):g&&i&&i(),y}d();d();function Yc(t,e){(t==="debug"||t==="warn")&&(typeof process!="undefined"&&process.emitWarning?process.emitWarning(e):console.warn(e))}d();var la="<<",lt={identify:t=>t===la||typeof t=="symbol"&&t.description===la,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new $(Symbol(la)),{addToJSMap:Jc}),stringify:()=>la},Ep=(t,e)=>(lt.identify(e)||H(e)&&(!e.type||e.type===$.PLAIN)&&lt.identify(e.value))&&(t==null?void 0:t.doc.schema.tags.some(r=>r.tag===lt.tag&&r.default));function Jc(t,e,r){if(r=t&&st(r)?r.resolve(t.doc):r,ct(r))for(let n of r.items)Xc(t,e,n);else if(Array.isArray(r))for(let n of r)Xc(t,e,n);else Xc(t,e,r)}function Xc(t,e,r){let n=t&&st(r)?r.resolve(t.doc):r;if(!ot(n))throw new Error("Merge sources must be maps or map aliases");let i=n.toJSON(null,t,Map);for(let[s,a]of i)e instanceof Map?e.has(s)||e.set(s,a):e instanceof Set?e.add(s):Object.prototype.hasOwnProperty.call(e,s)||Object.defineProperty(e,s,{value:a,writable:!0,enumerable:!0,configurable:!0});return e}function fa(t,e,{key:r,value:n}){if(Y(r)&&r.addToJSMap)r.addToJSMap(t,e,n);else if(Ep(t,r))Jc(t,e,n);else{let i=fe(r,"",t);if(e instanceof Map)e.set(i,fe(n,i,t));else if(e instanceof Set)e.add(i);else{let s=pb(r,i,t),a=fe(n,s,t);s in e?Object.defineProperty(e,s,{value:a,writable:!0,enumerable:!0,configurable:!0}):e[s]=a}}return e}function pb(t,e,r){if(e===null)return"";if(typeof e!="object")return String(e);if(Y(t)&&(r!=null&&r.doc)){let n=ua(r.doc,{});n.anchors=new Set;for(let s of r.anchors.keys())n.anchors.add(s.anchor);n.inFlow=!0,n.inStringifyKey=!0;let i=t.toString(n);if(!r.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+'..."'),Yc(r.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),r.mapKeyWarned=!0}return i}return JSON.stringify(e)}function On(t,e,r){let n=Ht(t,void 0,r),i=Ht(e,void 0,r);return new de(n,i)}var de=class t{constructor(e,r=null){Object.defineProperty(this,Ae,{value:Zc}),this.key=e,this.value=r}clone(e){let{key:r,value:n}=this;return Y(r)&&(r=r.clone(e)),Y(n)&&(n=n.clone(e)),new t(r,n)}toJSON(e,r){let n=r!=null&&r.mapAsMap?new Map:{};return fa(r,n,this)}toString(e,r,n){return e!=null&&e.doc?xp(this,e,r,n):JSON.stringify(this)}};d();d();d();d();function ha(t,e,r){var s;return(((s=e.inFlow)!=null?s:t.flow)?gb:mb)(t,e,r)}function mb({comment:t,items:e},r,{blockItemPrefix:n,flowChars:i,itemIndent:s,onChompKeep:a,onComment:o}){let{indent:u,options:{commentString:c}}=r,l=Object.assign({},r,{indent:s,type:null}),f=!1,h=[];for(let w=0;w<e.length;++w){let g=e[w],y=null;if(Y(g))!f&&g.spaceBefore&&h.push(""),da(r,h,g.commentBefore,f),g.comment&&(y=g.comment);else if(G(g)){let v=Y(g.key)?g.key:null;v&&(!f&&v.spaceBefore&&h.push(""),da(r,h,v.commentBefore,f))}f=!1;let b=Kt(g,l,()=>y=null,()=>f=!0);y&&(b+=Ct(b,s,c(y))),f&&y&&(f=!1),h.push(n+b)}let p;if(h.length===0)p=i.start+i.end;else{p=h[0];for(let w=1;w<h.length;++w){let g=h[w];p+=g?`
${u}${g}`:`
`}}return t?(p+=`
`+Ye(c(t),u),o&&o()):f&&a&&a(),p}function gb({items:t},e,{flowChars:r,itemIndent:n}){let{indent:i,indentStep:s,flowCollectionPadding:a,options:{commentString:o}}=e;n+=s;let u=Object.assign({},e,{indent:n,inFlow:!0,type:null}),c=!1,l=0,f=[];for(let w=0;w<t.length;++w){let g=t[w],y=null;if(Y(g))g.spaceBefore&&f.push(""),da(e,f,g.commentBefore,!1),g.comment&&(y=g.comment);else if(G(g)){let v=Y(g.key)?g.key:null;v&&(v.spaceBefore&&f.push(""),da(e,f,v.commentBefore,!1),v.comment&&(c=!0));let k=Y(g.value)?g.value:null;k?(k.comment&&(y=k.comment),k.commentBefore&&(c=!0)):g.value==null&&(v!=null&&v.comment)&&(y=v.comment)}y&&(c=!0);let b=Kt(g,u,()=>y=null);w<t.length-1&&(b+=","),y&&(b+=Ct(b,n,o(y))),!c&&(f.length>l||b.includes(`
`))&&(c=!0),f.push(b),l=f.length}let{start:h,end:p}=r;if(f.length===0)return h+p;if(!c){let w=f.reduce((g,y)=>g+y.length+2,2);c=e.options.lineWidth>0&&w>e.options.lineWidth}if(c){let w=h;for(let g of f)w+=g?`
${s}${i}${g}`:`
`;return`${w}
${i}${p}`}else return`${h}${a}${f.join(" ")}${a}${p}`}function da({indent:t,options:{commentString:e}},r,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){let s=Ye(e(n),t);r.push(s.trimStart())}}function hr(t,e){let r=H(e)?e.value:e;for(let n of t)if(G(n)&&(n.key===e||n.key===r||H(n.key)&&n.key.value===r))return n}var ye=class extends Tn{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(it,e),this.items=[]}static from(e,r,n){let{keepUndefined:i,replacer:s}=n,a=new this(e),o=(u,c)=>{if(typeof s=="function")c=s.call(r,u,c);else if(Array.isArray(s)&&!s.includes(u))return;(c!==void 0||i)&&a.items.push(On(u,c,n))};if(r instanceof Map)for(let[u,c]of r)o(u,c);else if(r&&typeof r=="object")for(let u of Object.keys(r))o(u,r[u]);return typeof e.sortMapEntries=="function"&&a.items.sort(e.sortMapEntries),a}add(e,r){var a;let n;G(e)?n=e:!e||typeof e!="object"||!("key"in e)?n=new de(e,e==null?void 0:e.value):n=new de(e.key,e.value);let i=hr(this.items,n.key),s=(a=this.schema)==null?void 0:a.sortMapEntries;if(i){if(!r)throw new Error(`Key ${n.key} already set`);H(i.value)&&ia(n.value)?i.value.value=n.value:i.value=n.value}else if(s){let o=this.items.findIndex(u=>s(n,u)<0);o===-1?this.items.push(n):this.items.splice(o,0,n)}else this.items.push(n)}delete(e){let r=hr(this.items,e);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(e,r){var s;let n=hr(this.items,e),i=n==null?void 0:n.value;return(s=!r&&H(i)?i.value:i)!=null?s:void 0}has(e){return!!hr(this.items,e)}set(e,r){this.add(new de(e,r),!0)}toJSON(e,r,n){let i=n?new n:r!=null&&r.mapAsMap?new Map:{};r!=null&&r.onCreate&&r.onCreate(i);for(let s of this.items)fa(r,i,s);return i}toString(e,r,n){if(!e)return JSON.stringify(this);for(let i of this.items)if(!G(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),ha(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:r})}};var ft={collection:"map",default:!0,nodeClass:ye,tag:"tag:yaml.org,2002:map",resolve(t,e){return ot(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,r)=>ye.from(t,e,r)};d();d();var je=class extends Tn{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(qt,e),this.items=[]}add(e){this.items.push(e)}delete(e){let r=pa(e);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(e,r){let n=pa(e);if(typeof n!="number")return;let i=this.items[n];return!r&&H(i)?i.value:i}has(e){let r=pa(e);return typeof r=="number"&&r<this.items.length}set(e,r){let n=pa(e);if(typeof n!="number")throw new Error(`Expected a valid index, not ${e}.`);let i=this.items[n];H(i)&&ia(r)?i.value=r:this.items[n]=r}toJSON(e,r){let n=[];r!=null&&r.onCreate&&r.onCreate(n);let i=0;for(let s of this.items)n.push(fe(s,String(i++),r));return n}toString(e,r,n){return e?ha(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}static from(e,r,n){let{replacer:i}=n,s=new this(e);if(r&&Symbol.iterator in Object(r)){let a=0;for(let o of r){if(typeof i=="function"){let u=r instanceof Set?o:String(a++);o=i.call(r,u,o)}s.items.push(Ht(o,void 0,n))}}return s}};function pa(t){let e=H(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}var dt={collection:"seq",default:!0,nodeClass:je,tag:"tag:yaml.org,2002:seq",resolve(t,e){return ct(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,r)=>je.from(t,e,r)};d();var pr={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,r,n){return e=Object.assign({actualString:!0},e),Lr(t,e,r,n)}};d();d();var jr={identify:t=>t==null,createNode:()=>new $(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new $(null),stringify:({source:t},e)=>typeof t=="string"&&jr.test.test(t)?t:e.options.nullStr};d();var Bi={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new $(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},r){if(t&&Bi.test.test(t)){let n=t[0]==="t"||t[0]==="T";if(e===n)return t}return e?r.options.trueStr:r.options.falseStr}};d();d();function ve({format:t,minFractionDigits:e,tag:r,value:n}){if(typeof n=="bigint")return String(n);let i=typeof n=="number"?n:Number(n);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let s=JSON.stringify(n);if(!t&&e&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let a=s.indexOf(".");a<0&&(a=s.length,s+=".");let o=e-(s.length-a-1);for(;o-- >0;)s+="0"}return s}var ma={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ve},ga={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():ve(t)}},wa={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){let e=new $(parseFloat(t)),r=t.indexOf(".");return r!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-r-1),e},stringify:ve};d();var ya=t=>typeof t=="bigint"||Number.isInteger(t),Qc=(t,e,r,{intAsBigInt:n})=>n?BigInt(t):parseInt(t.substring(e),r);function kp(t,e,r){let{value:n}=t;return ya(n)&&n>=0?r+n.toString(e):ve(t)}var _a={identify:t=>ya(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,r)=>Qc(t,2,8,r),stringify:t=>kp(t,8,"0o")},ba={identify:ya,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,r)=>Qc(t,0,10,r),stringify:ve},va={identify:t=>ya(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,r)=>Qc(t,2,16,r),stringify:t=>kp(t,16,"0x")};d();var Dp=[ft,dt,pr,jr,Bi,_a,ba,va,ma,ga,wa];d();function Sp(t){return typeof t=="bigint"||Number.isInteger(t)}var xa=({value:t})=>JSON.stringify(t),wb=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:xa},{identify:t=>t==null,createNode:()=>new $(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:xa},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:xa},{identify:Sp,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:r})=>r?BigInt(t):parseInt(t,10),stringify:({value:t})=>Sp(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:xa}],yb={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},Ap=[ft,dt].concat(wb,yb);d();var Oi={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof m=="function")return m.from(t,"base64");if(typeof atob=="function"){let r=atob(t.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:r},n,i,s){let a=r,o;if(typeof m=="function")o=a instanceof m?a.toString("base64"):m.from(a.buffer).toString("base64");else if(typeof btoa=="function"){let u="";for(let c=0;c<a.length;++c)u+=String.fromCharCode(a[c]);o=btoa(u)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=$.BLOCK_LITERAL),e!==$.QUOTE_DOUBLE){let u=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),c=Math.ceil(o.length/u),l=new Array(c);for(let f=0,h=0;f<c;++f,h+=u)l[f]=o.substr(h,u);o=l.join(e===$.BLOCK_LITERAL?`
`:" ")}return Lr({comment:t,type:e,value:o},n,i,s)}};d();d();function eu(t,e){var r;if(ct(t))for(let n=0;n<t.items.length;++n){let i=t.items[n];if(!G(i)){if(ot(i)){i.items.length>1&&e("Each pair must have its own sequence indicator");let s=i.items[0]||new de(new $(null));if(i.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${i.commentBefore}
${s.key.commentBefore}`:i.commentBefore),i.comment){let a=(r=s.value)!=null?r:s.key;a.comment=a.comment?`${i.comment}
${a.comment}`:i.comment}i=s}t.items[n]=G(i)?i:new de(i)}}else e("Expected a sequence for this tag");return t}function tu(t,e,r){let{replacer:n}=r,i=new je(t);i.tag="tag:yaml.org,2002:pairs";let s=0;if(e&&Symbol.iterator in Object(e))for(let a of e){typeof n=="function"&&(a=n.call(e,String(s++),a));let o,u;if(Array.isArray(a))if(a.length===2)o=a[0],u=a[1];else throw new TypeError(`Expected [key, value] tuple: ${a}`);else if(a&&a instanceof Object){let c=Object.keys(a);if(c.length===1)o=c[0],u=a[o];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else o=a;i.items.push(On(o,u,r))}return i}var Ni={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:eu,createNode:tu};var Nn=class t extends je{constructor(){super(),this.add=ye.prototype.add.bind(this),this.delete=ye.prototype.delete.bind(this),this.get=ye.prototype.get.bind(this),this.has=ye.prototype.has.bind(this),this.set=ye.prototype.set.bind(this),this.tag=t.tag}toJSON(e,r){if(!r)return super.toJSON(e);let n=new Map;r!=null&&r.onCreate&&r.onCreate(n);for(let i of this.items){let s,a;if(G(i)?(s=fe(i.key,"",r),a=fe(i.value,s,r)):s=fe(i,"",r),n.has(s))throw new Error("Ordered maps must not include duplicate keys");n.set(s,a)}return n}static from(e,r,n){let i=tu(e,r,n),s=new this;return s.items=i.items,s}};Nn.tag="tag:yaml.org,2002:omap";var Ri={collection:"seq",identify:t=>t instanceof Map,nodeClass:Nn,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){let r=eu(t,e),n=[];for(let{key:i}of r.items)H(i)&&(n.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):n.push(i.value));return Object.assign(new Nn,r)},createNode:(t,e,r)=>Nn.from(t,e,r)};d();d();function Fp({value:t,source:e},r){return e&&(t?ru:nu).test.test(e)?e:t?r.options.trueStr:r.options.falseStr}var ru={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new $(!0),stringify:Fp},nu={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new $(!1),stringify:Fp};d();var Cp={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ve},Tp={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():ve(t)}},Ip={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){let e=new $(parseFloat(t.replace(/_/g,""))),r=t.indexOf(".");if(r!==-1){let n=t.substring(r+1).replace(/_/g,"");n[n.length-1]==="0"&&(e.minFractionDigits=n.length)}return e},stringify:ve};d();var $i=t=>typeof t=="bigint"||Number.isInteger(t);function Ea(t,e,r,{intAsBigInt:n}){let i=t[0];if((i==="-"||i==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),n){switch(r){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}let a=BigInt(t);return i==="-"?BigInt(-1)*a:a}let s=parseInt(t,r);return i==="-"?-1*s:s}function iu(t,e,r){let{value:n}=t;if($i(n)){let i=n.toString(e);return n<0?"-"+r+i.substr(1):r+i}return ve(t)}var Bp={identify:$i,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,r)=>Ea(t,2,2,r),stringify:t=>iu(t,2,"0b")},Op={identify:$i,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,r)=>Ea(t,1,8,r),stringify:t=>iu(t,8,"0")},Np={identify:$i,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,r)=>Ea(t,0,10,r),stringify:ve},Rp={identify:$i,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,r)=>Ea(t,2,16,r),stringify:t=>iu(t,16,"0x")};d();var Rn=class t extends ye{constructor(e){super(e),this.tag=t.tag}add(e){let r;G(e)?r=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?r=new de(e.key,null):r=new de(e,null),hr(this.items,r.key)||this.items.push(r)}get(e,r){let n=hr(this.items,e);return!r&&G(n)?H(n.key)?n.key.value:n.key:n}set(e,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);let n=hr(this.items,e);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new de(e))}toJSON(e,r){return super.toJSON(e,r,Set)}toString(e,r,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),r,n);throw new Error("Set items must all have null values")}static from(e,r,n){let{replacer:i}=n,s=new this(e);if(r&&Symbol.iterator in Object(r))for(let a of r)typeof i=="function"&&(a=i.call(r,a,a)),s.items.push(On(a,null,n));return s}};Rn.tag="tag:yaml.org,2002:set";var Pi={collection:"map",identify:t=>t instanceof Set,nodeClass:Rn,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,r)=>Rn.from(t,e,r),resolve(t,e){if(ot(t)){if(t.hasAllNullValues(!0))return Object.assign(new Rn,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};d();function su(t,e){let r=t[0],n=r==="-"||r==="+"?t.substring(1):t,i=a=>e?BigInt(a):Number(a),s=n.replace(/_/g,"").split(":").reduce((a,o)=>a*i(60)+i(o),i(0));return r==="-"?i(-1)*s:s}function $p(t){let{value:e}=t,r=a=>a;if(typeof e=="bigint")r=a=>BigInt(a);else if(isNaN(e)||!isFinite(e))return ve(t);let n="";e<0&&(n="-",e*=r(-1));let i=r(60),s=[e%i];return e<60?s.unshift(0):(e=(e-s[0])/i,s.unshift(e%i),e>=60&&(e=(e-s[0])/i,s.unshift(e))),n+s.map(a=>String(a).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var ka={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:r})=>su(t,r),stringify:$p},Da={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>su(t,!1),stringify:$p},$n={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){let e=t.match($n.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,r,n,i,s,a,o]=e.map(Number),u=e[7]?Number((e[7]+"00").substr(1,3)):0,c=Date.UTC(r,n-1,i,s||0,a||0,o||0,u),l=e[8];if(l&&l!=="Z"){let f=su(l,!1);Math.abs(f)<30&&(f*=60),c-=6e4*f}return new Date(c)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};var au=[ft,dt,pr,jr,ru,nu,Bp,Op,Np,Rp,Cp,Tp,Ip,Oi,lt,Ri,Ni,Pi,ka,Da,$n];var Pp=new Map([["core",Dp],["failsafe",[ft,dt,pr]],["json",Ap],["yaml11",au],["yaml-1.1",au]]),Mp={binary:Oi,bool:Bi,float:wa,floatExp:ga,floatNaN:ma,floatTime:Da,int:ba,intHex:va,intOct:_a,intTime:ka,map:ft,merge:lt,null:jr,omap:Ri,pairs:Ni,seq:dt,set:Pi,timestamp:$n},Lp={"tag:yaml.org,2002:binary":Oi,"tag:yaml.org,2002:merge":lt,"tag:yaml.org,2002:omap":Ri,"tag:yaml.org,2002:pairs":Ni,"tag:yaml.org,2002:set":Pi,"tag:yaml.org,2002:timestamp":$n};function Sa(t,e,r){let n=Pp.get(e);if(n&&!t)return r&&!n.includes(lt)?n.concat(lt):n.slice();let i=n;if(!i)if(Array.isArray(t))i=[];else{let s=Array.from(Pp.keys()).filter(a=>a!=="yaml11").map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(t))for(let s of t)i=i.concat(s);else typeof t=="function"&&(i=t(i.slice()));return r&&(i=i.concat(lt)),i.reduce((s,a)=>{let o=typeof a=="string"?Mp[a]:a;if(!o){let u=JSON.stringify(a),c=Object.keys(Mp).map(l=>JSON.stringify(l)).join(", ");throw new Error(`Unknown custom tag ${u}; use one of ${c}`)}return s.includes(o)||s.push(o),s},[])}var _b=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,Mi=class t{constructor({compat:e,customTags:r,merge:n,resolveKnownTags:i,schema:s,sortMapEntries:a,toStringDefaults:o}){this.compat=Array.isArray(e)?Sa(e,"compat"):e?Sa(null,e):null,this.name=typeof s=="string"&&s||"core",this.knownTags=i?Lp:{},this.tags=Sa(r,this.name,n),this.toStringOptions=o!=null?o:null,Object.defineProperty(this,it,{value:ft}),Object.defineProperty(this,Mr,{value:pr}),Object.defineProperty(this,qt,{value:dt}),this.sortMapEntries=typeof a=="function"?a:a===!0?_b:null}clone(){let e=Object.create(t.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};d();function jp(t,e){var u;let r=[],n=e.directives===!0;if(e.directives!==!1&&t.directives){let c=t.directives.toString(t);c?(r.push(c),n=!0):t.directives.docStart&&(n=!0)}n&&r.push("---");let i=ua(t,e),{commentString:s}=i.options;if(t.commentBefore){r.length!==1&&r.unshift("");let c=s(t.commentBefore);r.unshift(Ye(c,""))}let a=!1,o=null;if(t.contents){if(Y(t.contents)){if(t.contents.spaceBefore&&n&&r.push(""),t.contents.commentBefore){let f=s(t.contents.commentBefore);r.push(Ye(f,""))}i.forceBlockIndent=!!t.comment,o=t.contents.comment}let c=o?void 0:()=>a=!0,l=Kt(t.contents,i,()=>o=null,c);o&&(l+=Ct(l,"",s(o))),(l[0]==="|"||l[0]===">")&&r[r.length-1]==="---"?r[r.length-1]=`--- ${l}`:r.push(l)}else r.push(Kt(t.contents,i));if((u=t.directives)!=null&&u.docEnd)if(t.comment){let c=s(t.comment);c.includes(`
`)?(r.push("..."),r.push(Ye(c,""))):r.push(`... ${c}`)}else r.push("...");else{let c=t.comment;c&&a&&(c=c.replace(/^\n+/,"")),c&&((!a||o)&&r[r.length-1]!==""&&r.push(""),r.push(Ye(s(c),"")))}return r.join(`
`)+`
`}var Ur=class t{constructor(e,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Ae,{value:ea});let i=null;typeof r=="function"||Array.isArray(r)?i=r:n===void 0&&r&&(n=r,r=void 0);let s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);this.options=s;let{version:a}=s;n!=null&&n._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(a=this.directives.yaml.version)):this.directives=new Zt({version:a}),this.setSchema(a,n),this.contents=e===void 0?null:this.createNode(e,i,n)}clone(){let e=Object.create(t.prototype,{[Ae]:{value:ea}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Y(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Pn(this.contents)&&this.contents.add(e)}addIn(e,r){Pn(this.contents)&&this.contents.addIn(e,r)}createAlias(e,r){if(!e.anchor){let n=Hc(this);e.anchor=!r||n.has(r)?Kc(r||"a",n):r}return new dr(e.anchor)}createNode(e,r,n){let i;if(typeof r=="function")e=r.call({"":e},"",e),i=r;else if(Array.isArray(r)){let y=v=>typeof v=="number"||v instanceof String||v instanceof Number,b=r.filter(y).map(String);b.length>0&&(r=r.concat(b)),i=r}else n===void 0&&r&&(n=r,r=void 0);let{aliasDuplicateObjects:s,anchorPrefix:a,flow:o,keepUndefined:u,onTagObj:c,tag:l}=n!=null?n:{},{onAnchor:f,setAnchors:h,sourceObjects:p}=_p(this,a||"a"),w={aliasDuplicateObjects:s!=null?s:!0,keepUndefined:u!=null?u:!1,onAnchor:f,onTagObj:c,replacer:i,schema:this.schema,sourceObjects:p},g=Ht(e,l,w);return o&&ee(g)&&(g.flow=!0),h(),g}createPair(e,r,n={}){let i=this.createNode(e,null,n),s=this.createNode(r,null,n);return new de(i,s)}delete(e){return Pn(this.contents)?this.contents.delete(e):!1}deleteIn(e){return In(e)?this.contents==null?!1:(this.contents=null,!0):Pn(this.contents)?this.contents.deleteIn(e):!1}get(e,r){return ee(this.contents)?this.contents.get(e,r):void 0}getIn(e,r){return In(e)?!r&&H(this.contents)?this.contents.value:this.contents:ee(this.contents)?this.contents.getIn(e,r):void 0}has(e){return ee(this.contents)?this.contents.has(e):!1}hasIn(e){return In(e)?this.contents!==void 0:ee(this.contents)?this.contents.hasIn(e):!1}set(e,r){this.contents==null?this.contents=Fi(this.schema,[e],r):Pn(this.contents)&&this.contents.set(e,r)}setIn(e,r){In(e)?this.contents=r:this.contents==null?this.contents=Fi(this.schema,Array.from(e),r):Pn(this.contents)&&this.contents.setIn(e,r)}setSchema(e,r={}){typeof e=="number"&&(e=String(e));let n;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Zt({version:"1.1"}),n={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Zt({version:e}),n={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{let i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new Mi(Object.assign(n,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:r,mapAsMap:n,maxAliasCount:i,onAnchor:s,reviver:a}={}){let o={anchors:new Map,doc:this,keep:!e,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},u=fe(this.contents,r!=null?r:"",o);if(typeof s=="function")for(let{count:c,res:l}of o.anchors.values())s(l,c);return typeof a=="function"?lr(a,{"":u},"",u):u}toJSON(e,r){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:r})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){let r=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${r}`)}return jp(this,e)}};function Pn(t){if(ee(t))return!0;throw new Error("Expected a YAML collection as document contents")}d();d();d();d();d();d();d();d();d();d();d();d();d();d();d();d();d();d();d();d();var uu=Symbol("break visit"),Db=Symbol("skip children"),zp=Symbol("remove item");function zr(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),qp(Object.freeze([]),t,e)}zr.BREAK=uu;zr.SKIP=Db;zr.REMOVE=zp;zr.itemAtPath=(t,e)=>{let r=t;for(let[n,i]of e){let s=r==null?void 0:r[n];if(s&&"items"in s)r=s.items[i];else return}return r};zr.parentCollection=(t,e)=>{let r=zr.itemAtPath(t,e.slice(0,-1)),n=e[e.length-1][0],i=r==null?void 0:r[n];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function qp(t,e,r){let n=r(e,t);if(typeof n=="symbol")return n;for(let i of["key","value"]){let s=e[i];if(s&&"items"in s){for(let a=0;a<s.items.length;++a){let o=qp(Object.freeze(t.concat([[i,a]])),s.items[a],r);if(typeof o=="number")a=o-1;else{if(o===uu)return uu;o===zp&&(s.items.splice(a,1),a-=1)}}typeof n=="function"&&i==="key"&&(n=n(e,t))}}return typeof n=="function"?n(e,t):n}d();var tC=new Set("0123456789ABCDEFabcdef"),rC=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),nC=new Set(",[]{}"),iC=new Set(` ,[]{}
\r	`);d();d();d();function lu(t,e,r){var i;let n=null;if(typeof e=="function"||Array.isArray(e)?n=e:r===void 0&&e&&(r=e),typeof r=="string"&&(r=r.length),typeof r=="number"){let s=Math.round(r);r=s<1?void 0:s>8?{indent:8}:{indent:s}}if(t===void 0){let{keepUndefined:s}=(i=r!=null?r:e)!=null?i:{};if(!s)return}return at(t)&&!n?t.toString(r):new Ur(t,n,r).toString(r)}var Fa=t=>{let e=t.meta.frontmatter.slug+".md",n=`---
${lu(t.meta.frontmatter)}---

`+t.content.trim();return{filename:e,content:n.trim()+`
`}};d();function Ca(){let t,e;return{promise:new Promise((s,a)=>{t=s,e=a}),handler:{resolver:s=>{t(s)},rejecter:s=>{e(s)}}}}d();var Ia=require("obsidian");var Li=class extends Ia.Modal{constructor(e,r){super(e),this.handler=r,this.needReject=!0}confirm(e){this.handler.resolver(e),this.close()}cancel(e){this.needReject&&this.handler.rejecter(e!=null?e:new Error("User aborted")),this.needReject=!1}},Ta=class extends Li{constructor(e,r,n){super(e,n),this.posts=r}onOpen(){let{contentEl:e}=this;this.setTitle("Confirm Export"),e.createEl("p",{text:`You are about to export ${this.posts.length} files.`});let r=e.createDiv({cls:"cfm-inner-content"});this.posts.forEach(n=>{let{filename:i,content:s}=Fa(n),a=r.createEl("details");a.createEl("summary",{text:i}),a.createEl("pre",{text:s,cls:"cfm-post"})}),new Ia.Setting(e).addButton(n=>{n.setButtonText("Confirm Export").onClick(()=>{this.confirm()})})}onClose(){this.cancel()}};var hu="ssMdExporter",Hp="/posts",Kp=async(t,e,r)=>{let n=Bb(e);try{await Ob(n)}catch(l){return{title:"Failed to read remote repo",content:l.message,stage:"upload",error:l}}let i=new Map;for(let l of t){let{filename:f,content:h}=Fa(l),p=e.targetPath.replace(/^\/+|\/+$/g,"")+"/"+f;i.set(p,h),await Nb(`${Hp}/${p}`,h,n.fs),await n.add(p)}let s=(await n.changedFiles()).map(l=>l[0]);if(s.length===0)return console.warn("Nothing to commit, worktree clean."),{title:"Nothing to commit",content:"worktree clean",stage:"upload"};let a=s.map(l=>({title:l,content:i.get(l)})).filter(l=>l.content!==void 0),{promise:o,handler:u}=Ca(),c=async()=>{var h;let l=await n.commit();new Vt.Notice(`New commit SHA: ${l.slice(0,7)}, start pushing...`);let f=await n.push();if(!f.ok)throw console.error(f),new Error((h=f.error)!=null?h:"Unknown error")};new fu(r,a,u).open();try{await o}catch(l){return}try{await c()}catch(l){return{title:"Failed to push",content:l.message,stage:"upload",error:l}}new du(r,e).open()},Bb=t=>{let e=new Zp.default(hu),r=Hp;return{fs:e,dir:r,resolveRef:async()=>Ih({fs:e,dir:r,ref:"refs/heads/"+t.branch}),listServerRefs:async()=>Ch({http:Js,corsProxy:"https://cors.isomorphic-git.org",url:t.repo,prefix:"refs/heads/"+t.branch,onAuth:()=>({username:t.username,password:t.pat})}),add:async l=>wh({fs:e,dir:r,filepath:l}),clone:async()=>Ah({fs:e,http:Js,dir:r,corsProxy:"https://cors.isomorphic-git.org",url:t.repo,ref:t.branch,singleBranch:!0,depth:1,onAuth:()=>({username:t.username,password:t.pat})}),push:async()=>Th({fs:e,http:Js,dir:r,corsProxy:"https://cors.isomorphic-git.org",url:t.repo,ref:t.branch,onAuth:()=>({username:t.username,password:t.pat})}),commit:async()=>Fh({fs:e,dir:r,message:t.commit_message,author:{name:t.author.name,email:t.author.email}}),changedFiles:async()=>(await Bh({fs:e,dir:r})).filter(h=>{let[p,w,g,y]=h;return w!==g||w!==y})}};async function Ob(t){await(async()=>{var i;let r="";try{r=await t.resolveRef()}catch(s){return!0}return((i=(await t.listServerRefs())[0])==null?void 0:i.oid)!==r})()&&(pu(),t.fs.init(hu),await t.clone())}function pu(){let t=indexedDB.deleteDatabase(hu);t.onsuccess=e=>{e.oldVersion===0?new Vt.Notice("DB already cleared"):new Vt.Notice("Database (used by git upload) cleared")},t.onerror=e=>{console.error("Couldn't delete database",e),new Vt.Notice("Couldn't delete database; see console for details")}}async function Nb(t,e,r){let n=t.substring(0,t.lastIndexOf("/"));try{await r.promises.stat(n)}catch(i){console.debug(i,"dir not exist yet"),await r.promises.mkdir(n)}await r.promises.writeFile(t,e)}var fu=class extends Li{constructor(e,r,n){super(e,n),this.posts=r}onOpen(){let{contentEl:e}=this;this.setTitle("Git: Changed files");let r=e.createDiv({cls:"cfm-inner-content"});this.posts.forEach(n=>{let{title:i,content:s}=n,a=r.createEl("details");a.createEl("summary",{text:i}),a.createEl("pre",{text:s,cls:"cfm-post"})}),new Vt.Setting(e).addButton(n=>{n.setButtonText("Commit & Push").onClick(()=>{this.confirm()})})}},du=class extends Vt.Modal{constructor(e,r){super(e),this.config=r}onOpen(){this.setTitle("Git: Success");let e=this.contentEl.createDiv();e.createEl("p",{text:"Successfully committed and pushed"}),e.createEl("p").createEl("a",{text:"Open Repository",href:this.config.repo})}};var Vp={transformer:{post_prefix:"/post/",imageTransformer:"abort",transformTags:!0,publishedFlag:"published"},uploader:{type:"git",git:{repo:"",branch:"",username:"",targetPath:"",pat:"",author:{name:"Obsidian Exporter",email:""},commit_message:"upd"}}},Ba=class extends pe.PluginSettingTab{constructor(e,r){super(e,r),this.plugin=r,this.settings=r.settings}display(){let e=this.plugin.settings,{containerEl:r}=this;r.empty(),new pe.Setting(r).setHeading().setName("Post Uploader"),e.uploader.type==="git"&&(new pe.Setting(r).setName("Repo link").setDesc("Full URL of the git repository").addText(n=>n.setValue(e.uploader.git.repo).onChange(async i=>{e.uploader.git.repo=i,await this.plugin.saveSettings()})),new pe.Setting(r).setName("Branch").setDesc("Branch name").addText(n=>n.setValue(e.uploader.git.branch).onChange(async i=>{e.uploader.git.branch=i,await this.plugin.saveSettings()})),new pe.Setting(r).setName("Target Path").setDesc("The target position of your posts, don't starts with /").addText(n=>n.setValue(e.uploader.git.targetPath).onChange(async i=>{e.uploader.git.targetPath=i,await this.plugin.saveSettings()})),new pe.Setting(r).setName("GitHub username").addText(n=>n.setValue(e.uploader.git.username).onChange(async i=>{e.uploader.git.username=i,await this.plugin.saveSettings()})),new pe.Setting(r).setName("GitHub personal access token").setDesc("Password when 'git login'").addText(n=>n.setValue(e.uploader.git.pat).onChange(async i=>{e.uploader.git.pat=i,await this.plugin.saveSettings()})),new pe.Setting(r).setName("Git commit message").addText(n=>n.setValue(e.uploader.git.commit_message).onChange(async i=>{e.uploader.git.commit_message=i,await this.plugin.saveSettings()})),new pe.Setting(r).setName("Author name").setDesc("Used as 'git config user.name'").addText(n=>n.setValue(e.uploader.git.author.name).onChange(async i=>{e.uploader.git.author.name=i,await this.plugin.saveSettings()})),new pe.Setting(r).setName("Author email").setDesc("Used as 'git config user.email'").addText(n=>n.setValue(e.uploader.git.author.email).onChange(async i=>{e.uploader.git.author.email=i,await this.plugin.saveSettings()})),new pe.Setting(r).setName("Delete cache").setDesc("Delete the local cache database used by git").addButton(n=>{n.setButtonText("Delete").onClick(()=>{pu()})})),new pe.Setting(r).setHeading().setName("Post settings"),new pe.Setting(r).setName("Post prefix").setDesc(`The prefix of the post URL with trailing slash. Default to '/post/'.
				e.g. A link to a note with slug 'abc' will be rendered as '/post/abc'.`).addText(n=>n.setPlaceholder("/post/").setValue(e.transformer.post_prefix).onChange(async i=>{e.transformer.post_prefix=i,await this.plugin.saveSettings()})),new pe.Setting(r).setName("Transform tags").setDesc('Merge tags into frontmatter, remove "#" and only take the last part of /').addToggle(n=>n.setValue(e.transformer.transformTags).onChange(async i=>{e.transformer.transformTags=i,await this.plugin.saveSettings()})),new pe.Setting(r).setName("Image Transformer").setDesc("Select which transformer to use for links to image").addDropdown(n=>{n.addOptions({base64:"Base64",abort:"Abort"}).setValue(e.transformer.imageTransformer).onChange(async i=>{e.transformer.imageTransformer=i,await this.plugin.saveSettings()})}),new pe.Setting(r).setName("Published flag").setDesc("Frontmatter key to determine if the post is published. Default to 'published'.").addText(n=>n.setValue(e.transformer.publishedFlag).onChange(async i=>{e.transformer.publishedFlag=i,await this.plugin.saveSettings()}))}};d();d();d();d();var Wp=/[\0-\x1F!-,\.\/:-@\[-\^`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482\u0530\u0557\u0558\u055A-\u055F\u0589-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05EB-\u05EE\u05F3-\u060F\u061B-\u061F\u066A-\u066D\u06D4\u06DD\u06DE\u06E9\u06FD\u06FE\u0700-\u070F\u074B\u074C\u07B2-\u07BF\u07F6-\u07F9\u07FB\u07FC\u07FE\u07FF\u082E-\u083F\u085C-\u085F\u086B-\u089F\u08B5\u08C8-\u08D2\u08E2\u0964\u0965\u0970\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09F2-\u09FB\u09FD\u09FF\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF0-\u0AF8\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B70\u0B72-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BF0-\u0BFF\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5B-\u0C5F\u0C64\u0C65\u0C70-\u0C7F\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0CFF\u0D0D\u0D11\u0D45\u0D49\u0D4F-\u0D53\u0D58-\u0D5E\u0D64\u0D65\u0D70-\u0D79\u0D80\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DE5\u0DF0\u0DF1\u0DF4-\u0E00\u0E3B-\u0E3F\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F17\u0F1A-\u0F1F\u0F2A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F48\u0F6D-\u0F70\u0F85\u0F98\u0FBD-\u0FC5\u0FC7-\u0FFF\u104A-\u104F\u109E\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u1360-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u170D\u1715-\u171F\u1735-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17D4-\u17D6\u17D8-\u17DB\u17DE\u17DF\u17EA-\u180A\u180E\u180F\u181A-\u181F\u1879-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191F\u192C-\u192F\u193C-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DA-\u19FF\u1A1C-\u1A1F\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1AAF\u1AC1-\u1AFF\u1B4C-\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BF4-\u1BFF\u1C38-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CCF\u1CD3\u1CFB-\u1CFF\u1DFA\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u203E\u2041-\u2053\u2055-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u20CF\u20F1-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u215F\u2189-\u24B5\u24EA-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E00-\u2E2E\u2E30-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u3040\u3097\u3098\u309B\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31C0-\u31EF\u3200-\u33FF\u4DC0-\u4DFF\u9FFD-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA673\uA67E\uA6F2-\uA716\uA720\uA721\uA789\uA78A\uA7C0\uA7C1\uA7CB-\uA7F4\uA828-\uA82B\uA82D-\uA83F\uA874-\uA87F\uA8C6-\uA8CF\uA8DA-\uA8DF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA954-\uA95F\uA97D-\uA97F\uA9C1-\uA9CE\uA9DA-\uA9DF\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAAC3-\uAADA\uAADE\uAADF\uAAF0\uAAF1\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABEB\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFDFF\uFE10-\uFE1F\uFE30-\uFE32\uFE35-\uFE4C\uFE50-\uFE6F\uFE75\uFEFD-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF3E\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD3F\uDD75-\uDDFC\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEE1-\uDEFF\uDF20-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE40-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE7-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD28-\uDD2F\uDD3A-\uDE7F\uDEAA\uDEAD-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF51-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC47-\uDC65\uDC70-\uDC7E\uDCBB-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD40-\uDD43\uDD48-\uDD4F\uDD74\uDD75\uDD77-\uDD7F\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDFF\uDE12\uDE38-\uDE3D\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC4B-\uDC4F\uDC5A-\uDC5D\uDC62-\uDC7F\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDC1-\uDDD7\uDDDE-\uDDFF\uDE41-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEB9-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF3A-\uDFFF]|\uD806[\uDC3B-\uDC9F\uDCEA-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD44-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE2\uDDE5-\uDDFF\uDE3F-\uDE46\uDE48-\uDE4F\uDE9A-\uDE9C\uDE9E-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC41-\uDC4F\uDC5A-\uDC71\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF7-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD824-\uD82B\uD82D\uD82E\uD830-\uD833\uD837\uD839\uD83D\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDECF\uDEEE\uDEEF\uDEF5-\uDEFF\uDF37-\uDF3F\uDF44-\uDF4F\uDF5A-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE2\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82C[\uDD1F-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDC9C\uDC9F-\uDFFF]|\uD834[\uDC00-\uDD64\uDD6A-\uDD6C\uDD73-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDE41\uDE45-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD4F-\uDEBF\uDEFA-\uDFFF]|\uD83A[\uDCC5-\uDCCF\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDD2F\uDD4A-\uDD4F\uDD6A-\uDD6F\uDD8A-\uDFFF]|\uD83E[\uDC00-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEDE-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]/g;var mT=Object.hasOwnProperty;function Gp(t,e){return typeof t!="string"?"":(e||(t=t.toLowerCase()),t.replace(Wp,"").replace(/ /g,"-"))}d();var Mn=class extends Error{constructor(e,r){super(e),this.tFile=r}};function Rb(t){return t.issues.reduce((r,n)=>{let i=`"${n.path.join(".")}": ${n.message}`;return r+i+`
`},`
`)}function Oa(t,e){if(t.extension!=="md")return new Mn("Not a markdown file",t);let r=e.getFileMetadata(t);if(!r||!r.frontmatter||!r.frontmatterPosition)return new Mn("No frontmatter",t);if(r.frontmatter[e.settings.transformer.publishedFlag]!==!0)return new Mn("Not published",t);let{error:n}=Yp.safeParse(r.frontmatter);return n?new Mn(Rb(n),t):r}var $b=["png","jpg","jpeg","gif","svg","webp"];async function Xp(t,e){var i,s,a,o;let r=[...(s=(i=t.meta)==null?void 0:i.embeds)!=null?s:[],...(o=(a=t.meta)==null?void 0:a.links)!=null?o:[]];return r?[...await Promise.all(r.map(async u=>{let c=await Pb(u,t.tFile,e);return[u.position,c]})),u=>(e.imageTf.onAfterTransform(u),u)]:[]}async function Pb(t,e,r){var i;let n=r.resolveLink(t.link.split("#")[0],e.path);if(n==null)return console.warn("link not found:",t.original),t.original;if($b.includes(n.extension))return await r.imageTf.onTransform(t,e,n);if(n.extension==="md"){let s=Mb(n,r);if(!s)return console.warn(`link target not published: "${n.name}" from "${e.name}"`),t.original;let a=(i=t.displayText)!=null?i:t.link,o=t.link.includes("#")?"#"+Gp(t.link.split("#").slice(1).join("#")):"";return n.path===e.path&&o?`[${a}](${o})`:`[${a}](${Lb(s,r)}${o})`}return console.error(`unknown ext ${n.extension} for ${n.name}`),t.original}function Mb(t,e){let r=Oa(t,e);return r instanceof Error?null:r.frontmatter.slug}function Lb(t,e){return e.settings.transformer.post_prefix+t}d();d();d();d();d();function te(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}function ne(t){return function e(r){return arguments.length===0||te(r)?e:t.apply(this,arguments)}}function me(t){return function e(r,n){switch(arguments.length){case 0:return e;case 1:return te(r)?e:ne(function(i){return t(r,i)});default:return te(r)&&te(n)?e:te(r)?ne(function(i){return t(i,n)}):te(n)?ne(function(i){return t(r,i)}):t(r,n)}}}d();d();function Wt(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,n){return e.apply(this,arguments)};case 3:return function(r,n,i){return e.apply(this,arguments)};case 4:return function(r,n,i,s){return e.apply(this,arguments)};case 5:return function(r,n,i,s,a){return e.apply(this,arguments)};case 6:return function(r,n,i,s,a,o){return e.apply(this,arguments)};case 7:return function(r,n,i,s,a,o,u){return e.apply(this,arguments)};case 8:return function(r,n,i,s,a,o,u,c){return e.apply(this,arguments)};case 9:return function(r,n,i,s,a,o,u,c,l){return e.apply(this,arguments)};case 10:return function(r,n,i,s,a,o,u,c,l,f){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}d();function Na(t,e,r){return function(){for(var n=[],i=0,s=t,a=0,o=!1;a<e.length||i<arguments.length;){var u;a<e.length&&(!te(e[a])||i>=arguments.length)?u=e[a]:(u=arguments[i],i+=1),n[a]=u,te(u)?o=!0:s-=1,a+=1}return!o&&s<=0?r.apply(this,n):Wt(Math.max(0,s),Na(t,n,r))}}var jb=me(function(e,r){return e===1?ne(r):Wt(e,Na(e,[],r))}),Jp=jb;d();function qr(t){return function e(r,n,i){switch(arguments.length){case 0:return e;case 1:return te(r)?e:me(function(s,a){return t(r,s,a)});case 2:return te(r)&&te(n)?e:te(r)?me(function(s,a){return t(s,n,a)}):te(n)?me(function(s,a){return t(r,s,a)}):ne(function(s){return t(r,n,s)});default:return te(r)&&te(n)&&te(i)?e:te(r)&&te(n)?me(function(s,a){return t(s,a,i)}):te(r)&&te(i)?me(function(s,a){return t(s,n,a)}):te(n)&&te(i)?me(function(s,a){return t(r,s,a)}):te(r)?ne(function(s){return t(s,n,i)}):te(n)?ne(function(s){return t(r,s,i)}):te(i)?ne(function(s){return t(r,n,s)}):t(r,n,i)}}}d();d();var mr=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};d();function mu(t){return t!=null&&typeof t["@@transducer/step"]=="function"}function ji(t,e,r){return function(){if(arguments.length===0)return r();var n=arguments[arguments.length-1];if(!mr(n)){for(var i=0;i<t.length;){if(typeof n[t[i]]=="function")return n[t[i]].apply(n,Array.prototype.slice.call(arguments,0,-1));i+=1}if(mu(n)){var s=e.apply(null,Array.prototype.slice.call(arguments,0,-1));return s(n)}}return r.apply(this,arguments)}}d();var Ln={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}};d();d();d();d();d();function Ra(t){for(var e=[],r;!(r=t.next()).done;)e.push(r.value);return e}d();function $a(t,e,r){for(var n=0,i=r.length;n<i;){if(t(e,r[n]))return!0;n+=1}return!1}d();function gu(t){var e=String(t).match(/^function (\w*)/);return e==null?"":e[1]}d();function Tt(t,e){return Object.prototype.hasOwnProperty.call(e,t)}d();function Ub(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Pa=typeof Object.is=="function"?Object.is:Ub;d();d();var Qp=Object.prototype.toString,zb=function(){return Qp.call(arguments)==="[object Arguments]"?function(e){return Qp.call(e)==="[object Arguments]"}:function(e){return Tt("callee",e)}}(),em=zb;var qb=!{toString:null}.propertyIsEnumerable("toString"),tm=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],rm=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),Zb=function(e,r){for(var n=0;n<e.length;){if(e[n]===r)return!0;n+=1}return!1},Hb=typeof Object.keys=="function"&&!rm?ne(function(e){return Object(e)!==e?[]:Object.keys(e)}):ne(function(e){if(Object(e)!==e)return[];var r,n,i=[],s=rm&&em(e);for(r in e)Tt(r,e)&&(!s||r!=="length")&&(i[i.length]=r);if(qb)for(n=tm.length-1;n>=0;)r=tm[n],Tt(r,e)&&!Zb(i,r)&&(i[i.length]=r),n-=1;return i}),Ui=Hb;d();var Kb=ne(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}),wu=Kb;function nm(t,e,r,n){var i=Ra(t),s=Ra(e);function a(o,u){return zi(o,u,r.slice(),n.slice())}return!$a(function(o,u){return!$a(a,u,o)},s,i)}function zi(t,e,r,n){if(Pa(t,e))return!0;var i=wu(t);if(i!==wu(e))return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof e.equals=="function")return typeof t.equals=="function"&&t.equals(e)&&typeof e.equals=="function"&&e.equals(t);switch(i){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&gu(t.constructor)==="Promise")return t===e;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof e&&Pa(t.valueOf(),e.valueOf())))return!1;break;case"Date":if(!Pa(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(!(t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.sticky===e.sticky&&t.unicode===e.unicode))return!1;break}for(var s=r.length-1;s>=0;){if(r[s]===t)return n[s]===e;s-=1}switch(i){case"Map":return t.size!==e.size?!1:nm(t.entries(),e.entries(),r.concat([t]),n.concat([e]));case"Set":return t.size!==e.size?!1:nm(t.values(),e.values(),r.concat([t]),n.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=Ui(t);if(a.length!==Ui(e).length)return!1;var o=r.concat([t]),u=n.concat([e]);for(s=a.length-1;s>=0;){var c=a[s];if(!(Tt(c,e)&&zi(e[c],t[c],o,u)))return!1;s-=1}return!0}var Vb=me(function(e,r){return zi(e,r,[],[])}),im=Vb;function yu(t,e,r){var n,i;if(typeof t.indexOf=="function")switch(typeof e){case"number":if(e===0){for(n=1/e;r<t.length;){if(i=t[r],i===0&&1/i===n)return r;r+=1}return-1}else if(e!==e){for(;r<t.length;){if(i=t[r],typeof i=="number"&&i!==i)return r;r+=1}return-1}return t.indexOf(e,r);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,r);case"object":if(e===null)return t.indexOf(e,r)}for(;r<t.length;){if(im(t[r],e))return r;r+=1}return-1}function Ma(t,e){return yu(e,t,0)>=0}d();function _u(t,e){for(var r=0,n=e.length,i=Array(n);r<n;)i[r]=t(e[r]),r+=1;return i}d();function bu(t,e,r){for(var n=0,i=r.length;n<i;)e=t(e,r[n]),n+=1;return e}d();d();var Wb=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=Ln.init,t.prototype["@@transducer/result"]=Ln.result,t.prototype["@@transducer/step"]=function(e,r){return this.xf["@@transducer/step"](e,this.f(r))},t}(),Gb=function(e){return function(r){return new Wb(e,r)}},sm=Gb;var Yb=me(ji(["fantasy-land/map","map"],sm,function(e,r){switch(Object.prototype.toString.call(r)){case"[object Function]":return Jp(r.length,function(){return e.call(this,r.apply(this,arguments))});case"[object Object]":return bu(function(n,i){return n[i]=e(r[i]),n},{},Ui(r));default:return _u(e,r)}})),vu=Yb;d();var La=Number.isInteger||function(e){return e<<0===e};d();function xu(t){return Object.prototype.toString.call(t)==="[object String]"}d();d();d();d();var Xb=ne(function(e){return mr(e)?!0:!e||typeof e!="object"||xu(e)?!1:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1}),am=Xb;var om=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator";function Eu(t,e,r){return function(i,s,a){if(am(a))return t(i,s,a);if(a==null)return s;if(typeof a["fantasy-land/reduce"]=="function")return e(i,s,a,"fantasy-land/reduce");if(a[om]!=null)return r(i,s,a[om]());if(typeof a.next=="function")return r(i,s,a);if(typeof a.reduce=="function")return e(i,s,a,"reduce");throw new TypeError("reduce: list must be array or iterable")}}d();function ku(t,e,r){for(var n=0,i=r.length;n<i;){if(e=t["@@transducer/step"](e,r[n]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return t["@@transducer/result"](e)}d();var Jb=me(function(e,r){return Wt(e.length,function(){return e.apply(r,arguments)})}),cm=Jb;function Qb(t,e,r){for(var n=r.next();!n.done;){if(e=t["@@transducer/step"](e,n.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=r.next()}return t["@@transducer/result"](e)}function e1(t,e,r,n){return t["@@transducer/result"](r[n](cm(t["@@transducer/step"],t),e))}var t1=Eu(ku,e1,Qb),um=t1;d();var r1=function(){function t(e){this.f=e}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(e){return e},t.prototype["@@transducer/step"]=function(e,r){return this.f(e,r)},t}();function Du(t){return new r1(t)}var n1=qr(function(t,e,r){return um(typeof t=="function"?Du(t):t,e,r)}),lm=n1;d();d();function Su(t,e,r){if(La(t)&&mr(r)){var n=[].concat(r);return n[t]=e,n}var i={};for(var s in r)i[s]=r[s];return i[t]=e,i}d();var i1=ne(function(e){return e==null}),fm=i1;var s1=qr(function t(e,r,n){if(e.length===0)return r;var i=e[0];if(e.length>1){var s=!fm(n)&&Tt(i,n)&&typeof n[i]=="object"?n[i]:La(e[1])?[]:{};r=t(Array.prototype.slice.call(e,1),r,s)}return Su(i,r,n)}),Au=s1;d();d();function Fu(t,e){return function(){return e.call(this,t.apply(this,arguments))}}d();d();function qi(t,e){return function(){var r=arguments.length;if(r===0)return e();var n=arguments[r-1];return mr(n)||typeof n[t]!="function"?e.apply(this,arguments):n[t].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}d();var a1=qr(qi("slice",function(e,r,n){return Array.prototype.slice.call(n,e,r)})),dm=a1;var o1=ne(qi("tail",dm(1,1/0))),hm=o1;function ja(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return Wt(arguments[0].length,lm(Fu,arguments[0],hm(arguments)))}d();d();function Cu(t){return t}var c1=ne(Cu),pm=c1;d();var u1=function(){function t(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return t.prototype.add=function(e){return!mm(e,!0,this)},t.prototype.has=function(e){return mm(e,!1,this)},t}();function mm(t,e,r){var n=typeof t,i,s;switch(n){case"string":case"number":return t===0&&1/t===-1/0?r._items["-0"]?!0:(e&&(r._items["-0"]=!0),!1):r._nativeSet!==null?e?(i=r._nativeSet.size,r._nativeSet.add(t),s=r._nativeSet.size,s===i):r._nativeSet.has(t):n in r._items?t in r._items[n]?!0:(e&&(r._items[n][t]=!0),!1):(e&&(r._items[n]={},r._items[n][t]=!0),!1);case"boolean":if(n in r._items){var a=t?1:0;return r._items[n][a]?!0:(e&&(r._items[n][a]=!0),!1)}else return e&&(r._items[n]=t?[!1,!0]:[!0,!1]),!1;case"function":return r._nativeSet!==null?e?(i=r._nativeSet.size,r._nativeSet.add(t),s=r._nativeSet.size,s===i):r._nativeSet.has(t):n in r._items?Ma(t,r._items[n])?!0:(e&&r._items[n].push(t),!1):(e&&(r._items[n]=[t]),!1);case"undefined":return r._items[n]?!0:(e&&(r._items[n]=!0),!1);case"object":if(t===null)return r._items.null?!0:(e&&(r._items.null=!0),!1);default:return n=Object.prototype.toString.call(t),n in r._items?Ma(t,r._items[n])?!0:(e&&r._items[n].push(t),!1):(e&&(r._items[n]=[t]),!1)}}var Ua=u1;d();d();d();var l1=function(){function t(e,r){this.xf=r,this.f=e,this.set=new Ua}return t.prototype["@@transducer/init"]=Ln.init,t.prototype["@@transducer/result"]=Ln.result,t.prototype["@@transducer/step"]=function(e,r){return this.set.add(this.f(r))?this.xf["@@transducer/step"](e,r):e},t}();function Tu(t){return function(e){return new l1(t,e)}}var f1=me(ji([],Tu,function(t,e){for(var r=new Ua,n=[],i=0,s,a;i<e.length;)a=e[i],s=t(a),r.add(s)&&n.push(a),i+=1;return n})),gm=f1;var d1=gm(pm),Iu=d1;function wm(t){var o,u;let e=(o=t.meta.tags)!=null?o:[],r=e.map(c=>c.tag),n=(u=t.meta.frontmatter.tags)!=null?u:[],i=e.map(c=>[c.position,""]),a=ja(vu(c=>c.split("/").at(-1).split("#").at(-1)),Iu)([...r,...n]);return[...i,c=>Au(["meta","frontmatter","tags"],a,c)]}d();d();d();var jn=class{constructor(e){this.ctx=e}async onBeforeTransform(){}async onTransform(e,r,n){throw new Error("Using base image transformer")}async onAfterTransform(e){}async onFinish(){}};var za=class extends jn{constructor(e){super(e),this.fileMap=new Map,this.contentMap=new Map}async onTransform(e,r,n){var s;let i=this.fileMap.get(n.path);if(i||(i=`img${this.fileMap.size+1}`,this.fileMap.set(n.path,i)),!this.contentMap.has(i)){let a=await this.ctx.readBinary(n),o=btoa(new Uint8Array(a).reduce((u,c)=>u+String.fromCharCode(c),""));this.contentMap.set(i,[o,n.extension])}return`![${(s=e.displayText)!=null?s:e.link}][${i}]`}async onAfterTransform(e){let r=`

`;this.contentMap.forEach(([n,i],s)=>{r+=`[${s}]: data:image/${i};base64,${n}
`}),e.content+=r}};d();var qa=class extends jn{async onTransform(e,r,n){throw this.ctx.notice(`Having image, abort. Use other image transformer or use non-wiki link syntax. at ${r.path}, ${e.position.start.line}, ${e.position.start.col} linked to ${n.path}`),new Error("Have image, abort")}};var p1={base64:za,abort:qa};function ym(t){return p1[t]}d();var X;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let s={};for(let a of i)s[a]=a;return s},t.getValidEnumValues=i=>{let s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(let o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let s=[];for(let a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(let a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(X||(X={}));var Ou;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Ou||(Ou={}));var N=X.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gr=t=>{switch(typeof t){case"undefined":return N.undefined;case"string":return N.string;case"number":return isNaN(t)?N.nan:N.number;case"boolean":return N.boolean;case"function":return N.function;case"bigint":return N.bigint;case"symbol":return N.symbol;case"object":return Array.isArray(t)?N.array:t===null?N.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?N.promise:typeof Map!="undefined"&&t instanceof Map?N.map:typeof Set!="undefined"&&t instanceof Set?N.set:typeof Date!="undefined"&&t instanceof Date?N.date:N.object;default:return N.unknown}},I=X.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),m1=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Ue=class t extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(let a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,u=0;for(;u<a.path.length;){let c=a.path[u];u===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(a))):o[c]=o[c]||{_errors:[]},o=o[c],u++}}};return i(this),n}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,X.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Ue.create=t=>new Ue(t);var qn=(t,e)=>{let r;switch(t.code){case I.invalid_type:t.received===N.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case I.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,X.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:r=`Unrecognized key(s) in object: ${X.joinValues(t.keys,", ")}`;break;case I.invalid_union:r="Invalid input";break;case I.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${X.joinValues(t.options)}`;break;case I.invalid_enum_value:r=`Invalid enum value. Expected ${X.joinValues(t.options)}, received '${t.received}'`;break;case I.invalid_arguments:r="Invalid function arguments";break;case I.invalid_return_type:r="Invalid function return type";break;case I.invalid_date:r="Invalid date";break;case I.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:X.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case I.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case I.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case I.custom:r="Invalid input";break;case I.invalid_intersection_types:r="Intersection results could not be merged";break;case I.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case I.not_finite:r="Number must be finite";break;default:r=e.defaultError,X.assertNever(t)}return{message:r}},vm=qn;function g1(t){vm=t}function Za(){return vm}var Ha=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="",u=n.filter(c=>!!c).slice().reverse();for(let c of u)o=c(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}},w1=[];function O(t,e){let r=Za(),n=Ha({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===qn?void 0:qn].filter(i=>!!i)});t.common.issues.push(n)}var xe=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return L;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r){let s=await i.key,a=await i.value;n.push({key:s,value:a})}return t.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return L;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value!="undefined"||i.alwaysSet)&&(n[s.value]=a.value)}return{status:e.value,value:n}}},L=Object.freeze({status:"aborted"}),zn=t=>({status:"dirty",value:t}),Fe=t=>({status:"valid",value:t}),Nu=t=>t.status==="aborted",Ru=t=>t.status==="dirty",Ki=t=>t.status==="valid",Vi=t=>typeof Promise!="undefined"&&t instanceof Promise;function Ka(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function xm(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}var R;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(R||(R={}));var Zi,Hi,Je=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},_m=(t,e)=>{if(Ki(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Ue(t.common.issues);return this._error=r,this._error}}};function z(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{var u,c;let{message:l}=t;return a.code==="invalid_enum_value"?{message:l!=null?l:o.defaultError}:typeof o.data=="undefined"?{message:(u=l!=null?l:n)!==null&&u!==void 0?u:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(c=l!=null?l:r)!==null&&c!==void 0?c:o.defaultError}},description:i}}var q=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return gr(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:gr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new xe,ctx:{common:e.parent.common,data:e.data,parsedType:gr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(Vi(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gr(e)},s=this._parseSync({data:e,path:i.path,parent:i});return _m(i,s)}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gr(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(Vi(i)?i:Promise.resolve(i));return _m(n,s)}refine(e,r){let n=i=>typeof r=="string"||typeof r=="undefined"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{let a=e(i),o=()=>s.addIssue({code:I.custom,...n(i)});return typeof Promise!="undefined"&&a instanceof Promise?a.then(u=>u?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new ze({schema:this,typeName:M.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Xe.create(this,this._def)}nullable(){return Bt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xt.create(this,this._def)}promise(){return _r.create(this,this._def)}or(e){return Yr.create([this,e],this._def)}and(e){return Xr.create(this,e,this._def)}transform(e){return new ze({...z(this._def),schema:this,typeName:M.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new rn({...z(this._def),innerType:this,defaultValue:r,typeName:M.ZodDefault})}brand(){return new Wi({typeName:M.ZodBranded,type:this,...z(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new nn({...z(this._def),innerType:this,catchValue:r,typeName:M.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Gi.create(this,e)}readonly(){return sn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},y1=/^c[^\s-]{8,}$/i,_1=/^[0-9a-z]+$/,b1=/^[0-9A-HJKMNP-TV-Z]{26}$/,v1=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,x1=/^[a-z0-9_-]{21}$/i,E1=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,k1=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,D1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Bu,S1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,A1=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,F1=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Em="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",C1=new RegExp(`^${Em}$`);function km(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function T1(t){return new RegExp(`^${km(t)}$`)}function Dm(t){let e=`${Em}T${km(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function I1(t,e){return!!((e==="v4"||!e)&&S1.test(t)||(e==="v6"||!e)&&A1.test(t))}var wr=class t extends q{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==N.string){let s=this._getOrReturnCtx(e);return O(s,{code:I.invalid_type,expected:N.string,received:s.parsedType}),L}let n=new xe,i;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),O(i,{code:I.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),O(i,{code:I.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?O(i,{code:I.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&O(i,{code:I.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")k1.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"email",code:I.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")Bu||(Bu=new RegExp(D1,"u")),Bu.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"emoji",code:I.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")v1.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"uuid",code:I.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")x1.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"nanoid",code:I.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")y1.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"cuid",code:I.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")_1.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"cuid2",code:I.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")b1.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"ulid",code:I.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch(a){i=this._getOrReturnCtx(e,i),O(i,{validation:"url",code:I.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"regex",code:I.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),O(i,{code:I.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),O(i,{code:I.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),O(i,{code:I.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Dm(s).test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{code:I.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?C1.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{code:I.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?T1(s).test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{code:I.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?E1.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"duration",code:I.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?I1(e.data,s.version)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"ip",code:I.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?F1.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"base64",code:I.invalid_string,message:s.message}),n.dirty()):X.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:I.invalid_string,...R.errToObj(n)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...R.errToObj(e)})}url(e){return this._addCheck({kind:"url",...R.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...R.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...R.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...R.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...R.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...R.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...R.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...R.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...R.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...R.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,...R.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...R.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...R.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...R.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...R.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...R.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...R.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...R.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...R.errToObj(r)})}nonempty(e){return this.min(1,R.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};wr.create=t=>{var e;return new wr({checks:[],typeName:M.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...z(t)})};function B1(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}var Zr=class t extends q{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==N.number){let s=this._getOrReturnCtx(e);return O(s,{code:I.invalid_type,expected:N.number,received:s.parsedType}),L}let n,i=new xe;for(let s of this._def.checks)s.kind==="int"?X.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),O(n,{code:I.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),O(n,{code:I.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),O(n,{code:I.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?B1(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),O(n,{code:I.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),O(n,{code:I.not_finite,message:s.message}),i.dirty()):X.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,R.toString(r))}gt(e,r){return this.setLimit("min",e,!1,R.toString(r))}lte(e,r){return this.setLimit("max",e,!0,R.toString(r))}lt(e,r){return this.setLimit("max",e,!1,R.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:R.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:R.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:R.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:R.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:R.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:R.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:R.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:R.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:R.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:R.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&X.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Zr.create=t=>new Zr({checks:[],typeName:M.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...z(t)});var Hr=class t extends q{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==N.bigint){let s=this._getOrReturnCtx(e);return O(s,{code:I.invalid_type,expected:N.bigint,received:s.parsedType}),L}let n,i=new xe;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),O(n,{code:I.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),O(n,{code:I.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),O(n,{code:I.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):X.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,R.toString(r))}gt(e,r){return this.setLimit("min",e,!1,R.toString(r))}lte(e,r){return this.setLimit("max",e,!0,R.toString(r))}lt(e,r){return this.setLimit("max",e,!1,R.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:R.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:R.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:R.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:R.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:R.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:R.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Hr.create=t=>{var e;return new Hr({checks:[],typeName:M.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...z(t)})};var Kr=class extends q{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==N.boolean){let n=this._getOrReturnCtx(e);return O(n,{code:I.invalid_type,expected:N.boolean,received:n.parsedType}),L}return Fe(e.data)}};Kr.create=t=>new Kr({typeName:M.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...z(t)});var Vr=class t extends q{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==N.date){let s=this._getOrReturnCtx(e);return O(s,{code:I.invalid_type,expected:N.date,received:s.parsedType}),L}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return O(s,{code:I.invalid_date}),L}let n=new xe,i;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),O(i,{code:I.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),O(i,{code:I.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):X.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:R.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:R.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Vr.create=t=>new Vr({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:M.ZodDate,...z(t)});var Zn=class extends q{_parse(e){if(this._getType(e)!==N.symbol){let n=this._getOrReturnCtx(e);return O(n,{code:I.invalid_type,expected:N.symbol,received:n.parsedType}),L}return Fe(e.data)}};Zn.create=t=>new Zn({typeName:M.ZodSymbol,...z(t)});var Wr=class extends q{_parse(e){if(this._getType(e)!==N.undefined){let n=this._getOrReturnCtx(e);return O(n,{code:I.invalid_type,expected:N.undefined,received:n.parsedType}),L}return Fe(e.data)}};Wr.create=t=>new Wr({typeName:M.ZodUndefined,...z(t)});var Gr=class extends q{_parse(e){if(this._getType(e)!==N.null){let n=this._getOrReturnCtx(e);return O(n,{code:I.invalid_type,expected:N.null,received:n.parsedType}),L}return Fe(e.data)}};Gr.create=t=>new Gr({typeName:M.ZodNull,...z(t)});var yr=class extends q{constructor(){super(...arguments),this._any=!0}_parse(e){return Fe(e.data)}};yr.create=t=>new yr({typeName:M.ZodAny,...z(t)});var Yt=class extends q{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Fe(e.data)}};Yt.create=t=>new Yt({typeName:M.ZodUnknown,...z(t)});var ht=class extends q{_parse(e){let r=this._getOrReturnCtx(e);return O(r,{code:I.invalid_type,expected:N.never,received:r.parsedType}),L}};ht.create=t=>new ht({typeName:M.ZodNever,...z(t)});var Hn=class extends q{_parse(e){if(this._getType(e)!==N.undefined){let n=this._getOrReturnCtx(e);return O(n,{code:I.invalid_type,expected:N.void,received:n.parsedType}),L}return Fe(e.data)}};Hn.create=t=>new Hn({typeName:M.ZodVoid,...z(t)});var Xt=class t extends q{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==N.array)return O(r,{code:I.invalid_type,expected:N.array,received:r.parsedType}),L;if(i.exactLength!==null){let a=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(a||o)&&(O(r,{code:a?I.too_big:I.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(O(r,{code:I.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(O(r,{code:I.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>i.type._parseAsync(new Je(r,a,r.path,o)))).then(a=>xe.mergeArray(n,a));let s=[...r.data].map((a,o)=>i.type._parseSync(new Je(r,a,r.path,o)));return xe.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:R.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:R.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:R.toString(r)}})}nonempty(e){return this.min(1,e)}};Xt.create=(t,e)=>new Xt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:M.ZodArray,...z(e)});function Un(t){if(t instanceof Re){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=Xe.create(Un(n))}return new Re({...t._def,shape:()=>e})}else return t instanceof Xt?new Xt({...t._def,type:Un(t.element)}):t instanceof Xe?Xe.create(Un(t.unwrap())):t instanceof Bt?Bt.create(Un(t.unwrap())):t instanceof It?It.create(t.items.map(e=>Un(e))):t}var Re=class t extends q{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=X.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==N.object){let c=this._getOrReturnCtx(e);return O(c,{code:I.invalid_type,expected:N.object,received:c.parsedType}),L}let{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof ht&&this._def.unknownKeys==="strip"))for(let c in i.data)a.includes(c)||o.push(c);let u=[];for(let c of a){let l=s[c],f=i.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new Je(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof ht){let c=this._def.unknownKeys;if(c==="passthrough")for(let l of o)u.push({key:{status:"valid",value:l},value:{status:"valid",value:i.data[l]}});else if(c==="strict")o.length>0&&(O(i,{code:I.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let l of o){let f=i.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new Je(i,f,i.path,l)),alwaysSet:l in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let c=[];for(let l of u){let f=await l.key,h=await l.value;c.push({key:f,value:h,alwaysSet:l.alwaysSet})}return c}).then(c=>xe.mergeObjectSync(n,c)):xe.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return R.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,a,o;let u=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=R.errToObj(e).message)!==null&&o!==void 0?o:u}:{message:u}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:M.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};return X.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}omit(e){let r={};return X.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}deepPartial(){return Un(this)}partial(e){let r={};return X.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new t({...this._def,shape:()=>r})}required(e){let r={};return X.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Xe;)s=s._def.innerType;r[n]=s}}),new t({...this._def,shape:()=>r})}keyof(){return Sm(X.objectKeys(this.shape))}};Re.create=(t,e)=>new Re({shape:()=>t,unknownKeys:"strip",catchall:ht.create(),typeName:M.ZodObject,...z(e)});Re.strictCreate=(t,e)=>new Re({shape:()=>t,unknownKeys:"strict",catchall:ht.create(),typeName:M.ZodObject,...z(e)});Re.lazycreate=(t,e)=>new Re({shape:t,unknownKeys:"strip",catchall:ht.create(),typeName:M.ZodObject,...z(e)});var Yr=class extends q{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(let o of s)if(o.result.status==="valid")return o.result;for(let o of s)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;let a=s.map(o=>new Ue(o.ctx.common.issues));return O(r,{code:I.invalid_union,unionErrors:a}),L}if(r.common.async)return Promise.all(n.map(async s=>{let a={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let s,a=[];for(let u of n){let c={...r,common:{...r.common,issues:[]},parent:null},l=u._parseSync({data:r.data,path:r.path,parent:c});if(l.status==="valid")return l;l.status==="dirty"&&!s&&(s={result:l,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let o=a.map(u=>new Ue(u));return O(r,{code:I.invalid_union,unionErrors:o}),L}}get options(){return this._def.options}};Yr.create=(t,e)=>new Yr({options:t,typeName:M.ZodUnion,...z(e)});var Gt=t=>t instanceof Jr?Gt(t.schema):t instanceof ze?Gt(t.innerType()):t instanceof Qr?[t.value]:t instanceof en?t.options:t instanceof tn?X.objectValues(t.enum):t instanceof rn?Gt(t._def.innerType):t instanceof Wr?[void 0]:t instanceof Gr?[null]:t instanceof Xe?[void 0,...Gt(t.unwrap())]:t instanceof Bt?[null,...Gt(t.unwrap())]:t instanceof Wi||t instanceof sn?Gt(t.unwrap()):t instanceof nn?Gt(t._def.innerType):[],Va=class t extends q{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==N.object)return O(r,{code:I.invalid_type,expected:N.object,received:r.parsedType}),L;let n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(O(r,{code:I.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),L)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let s of r){let a=Gt(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of a){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new t({typeName:M.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...z(n)})}};function $u(t,e){let r=gr(t),n=gr(e);if(t===e)return{valid:!0,data:t};if(r===N.object&&n===N.object){let i=X.objectKeys(e),s=X.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(let o of s){let u=$u(t[o],e[o]);if(!u.valid)return{valid:!1};a[o]=u.data}return{valid:!0,data:a}}else if(r===N.array&&n===N.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let s=0;s<t.length;s++){let a=t[s],o=e[s],u=$u(a,o);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===N.date&&n===N.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Xr=class extends q{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(s,a)=>{if(Nu(s)||Nu(a))return L;let o=$u(s.value,a.value);return o.valid?((Ru(s)||Ru(a))&&r.dirty(),{status:r.value,value:o.data}):(O(n,{code:I.invalid_intersection_types}),L)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Xr.create=(t,e,r)=>new Xr({left:t,right:e,typeName:M.ZodIntersection,...z(r)});var It=class t extends q{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==N.array)return O(n,{code:I.invalid_type,expected:N.array,received:n.parsedType}),L;if(n.data.length<this._def.items.length)return O(n,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),L;!this._def.rest&&n.data.length>this._def.items.length&&(O(n,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...n.data].map((a,o)=>{let u=this._def.items[o]||this._def.rest;return u?u._parse(new Je(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>xe.mergeArray(r,a)):xe.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};It.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new It({items:t,typeName:M.ZodTuple,rest:null,...z(e)})};var Wa=class t extends q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==N.object)return O(n,{code:I.invalid_type,expected:N.object,received:n.parsedType}),L;let i=[],s=this._def.keyType,a=this._def.valueType;for(let o in n.data)i.push({key:s._parse(new Je(n,o,n.path,o)),value:a._parse(new Je(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?xe.mergeObjectAsync(r,i):xe.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof q?new t({keyType:e,valueType:r,typeName:M.ZodRecord,...z(n)}):new t({keyType:wr.create(),valueType:e,typeName:M.ZodRecord,...z(r)})}},Kn=class extends q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==N.map)return O(n,{code:I.invalid_type,expected:N.map,received:n.parsedType}),L;let i=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([o,u],c)=>({key:i._parse(new Je(n,o,n.path,[c,"key"])),value:s._parse(new Je(n,u,n.path,[c,"value"]))}));if(n.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let u of a){let c=await u.key,l=await u.value;if(c.status==="aborted"||l.status==="aborted")return L;(c.status==="dirty"||l.status==="dirty")&&r.dirty(),o.set(c.value,l.value)}return{status:r.value,value:o}})}else{let o=new Map;for(let u of a){let c=u.key,l=u.value;if(c.status==="aborted"||l.status==="aborted")return L;(c.status==="dirty"||l.status==="dirty")&&r.dirty(),o.set(c.value,l.value)}return{status:r.value,value:o}}}};Kn.create=(t,e,r)=>new Kn({valueType:e,keyType:t,typeName:M.ZodMap,...z(r)});var Vn=class t extends q{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==N.set)return O(n,{code:I.invalid_type,expected:N.set,received:n.parsedType}),L;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(O(n,{code:I.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(O(n,{code:I.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let s=this._def.valueType;function a(u){let c=new Set;for(let l of u){if(l.status==="aborted")return L;l.status==="dirty"&&r.dirty(),c.add(l.value)}return{status:r.value,value:c}}let o=[...n.data.values()].map((u,c)=>s._parse(new Je(n,u,n.path,c)));return n.common.async?Promise.all(o).then(u=>a(u)):a(o)}min(e,r){return new t({...this._def,minSize:{value:e,message:R.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:R.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Vn.create=(t,e)=>new Vn({valueType:t,minSize:null,maxSize:null,typeName:M.ZodSet,...z(e)});var Ga=class t extends q{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==N.function)return O(r,{code:I.invalid_type,expected:N.function,received:r.parsedType}),L;function n(o,u){return Ha({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Za(),qn].filter(c=>!!c),issueData:{code:I.invalid_arguments,argumentsError:u}})}function i(o,u){return Ha({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Za(),qn].filter(c=>!!c),issueData:{code:I.invalid_return_type,returnTypeError:u}})}let s={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof _r){let o=this;return Fe(async function(...u){let c=new Ue([]),l=await o._def.args.parseAsync(u,s).catch(p=>{throw c.addIssue(n(u,p)),c}),f=await Reflect.apply(a,this,l);return await o._def.returns._def.type.parseAsync(f,s).catch(p=>{throw c.addIssue(i(f,p)),c})})}else{let o=this;return Fe(function(...u){let c=o._def.args.safeParse(u,s);if(!c.success)throw new Ue([n(u,c.error)]);let l=Reflect.apply(a,this,c.data),f=o._def.returns.safeParse(l,s);if(!f.success)throw new Ue([i(l,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:It.create(e).rest(Yt.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t({args:e||It.create([]).rest(Yt.create()),returns:r||Yt.create(),typeName:M.ZodFunction,...z(n)})}},Jr=class extends q{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Jr.create=(t,e)=>new Jr({getter:t,typeName:M.ZodLazy,...z(e)});var Qr=class extends q{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return O(r,{received:r.data,code:I.invalid_literal,expected:this._def.value}),L}return{status:"valid",value:e.data}}get value(){return this._def.value}};Qr.create=(t,e)=>new Qr({value:t,typeName:M.ZodLiteral,...z(e)});function Sm(t,e){return new en({values:t,typeName:M.ZodEnum,...z(e)})}var en=class t extends q{constructor(){super(...arguments),Zi.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return O(r,{expected:X.joinValues(n),received:r.parsedType,code:I.invalid_type}),L}if(Ka(this,Zi,"f")||xm(this,Zi,new Set(this._def.values),"f"),!Ka(this,Zi,"f").has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return O(r,{received:r.data,code:I.invalid_enum_value,options:n}),L}return Fe(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};Zi=new WeakMap;en.create=Sm;var tn=class extends q{constructor(){super(...arguments),Hi.set(this,void 0)}_parse(e){let r=X.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==N.string&&n.parsedType!==N.number){let i=X.objectValues(r);return O(n,{expected:X.joinValues(i),received:n.parsedType,code:I.invalid_type}),L}if(Ka(this,Hi,"f")||xm(this,Hi,new Set(X.getValidEnumValues(this._def.values)),"f"),!Ka(this,Hi,"f").has(e.data)){let i=X.objectValues(r);return O(n,{received:n.data,code:I.invalid_enum_value,options:i}),L}return Fe(e.data)}get enum(){return this._def.values}};Hi=new WeakMap;tn.create=(t,e)=>new tn({values:t,typeName:M.ZodNativeEnum,...z(e)});var _r=class extends q{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==N.promise&&r.common.async===!1)return O(r,{code:I.invalid_type,expected:N.promise,received:r.parsedType}),L;let n=r.parsedType===N.promise?r.data:Promise.resolve(r.data);return Fe(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};_r.create=(t,e)=>new _r({type:t,typeName:M.ZodPromise,...z(e)});var ze=class extends q{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===M.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{O(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){let a=i.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return L;let u=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return u.status==="aborted"?L:u.status==="dirty"||r.value==="dirty"?zn(u.value):u});{if(r.value==="aborted")return L;let o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?L:o.status==="dirty"||r.value==="dirty"?zn(o.value):o}}if(i.type==="refinement"){let a=o=>{let u=i.refinement(o,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?L:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?L:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ki(a))return a;let o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Ki(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:r.value,value:o})):a);X.assertNever(i)}};ze.create=(t,e,r)=>new ze({schema:t,typeName:M.ZodEffects,effect:e,...z(r)});ze.createWithPreprocess=(t,e,r)=>new ze({schema:e,effect:{type:"preprocess",transform:t},typeName:M.ZodEffects,...z(r)});var Xe=class extends q{_parse(e){return this._getType(e)===N.undefined?Fe(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Xe.create=(t,e)=>new Xe({innerType:t,typeName:M.ZodOptional,...z(e)});var Bt=class extends q{_parse(e){return this._getType(e)===N.null?Fe(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Bt.create=(t,e)=>new Bt({innerType:t,typeName:M.ZodNullable,...z(e)});var rn=class extends q{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===N.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};rn.create=(t,e)=>new rn({innerType:t,typeName:M.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...z(e)});var nn=class extends q{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Vi(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ue(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ue(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};nn.create=(t,e)=>new nn({innerType:t,typeName:M.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...z(e)});var Wn=class extends q{_parse(e){if(this._getType(e)!==N.nan){let n=this._getOrReturnCtx(e);return O(n,{code:I.invalid_type,expected:N.nan,received:n.parsedType}),L}return{status:"valid",value:e.data}}};Wn.create=t=>new Wn({typeName:M.ZodNaN,...z(t)});var O1=Symbol("zod_brand"),Wi=class extends q{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},Gi=class t extends q{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?L:s.status==="dirty"?(r.dirty(),zn(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?L:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:M.ZodPipeline})}},sn=class extends q{_parse(e){let r=this._def.innerType._parse(e),n=i=>(Ki(i)&&(i.value=Object.freeze(i.value)),i);return Vi(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};sn.create=(t,e)=>new sn({innerType:t,typeName:M.ZodReadonly,...z(e)});function Am(t,e={},r){return t?yr.create().superRefine((n,i)=>{var s,a;if(!t(n)){let o=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(a=(s=o.fatal)!==null&&s!==void 0?s:r)!==null&&a!==void 0?a:!0,c=typeof o=="string"?{message:o}:o;i.addIssue({code:"custom",...c,fatal:u})}}):yr.create()}var N1={object:Re.lazycreate},M;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(M||(M={}));var R1=(t,e={message:`Input not instance of ${t.name}`})=>Am(r=>r instanceof t,e),Fm=wr.create,Cm=Zr.create,$1=Wn.create,P1=Hr.create,Tm=Kr.create,M1=Vr.create,L1=Zn.create,j1=Wr.create,U1=Gr.create,z1=yr.create,q1=Yt.create,Z1=ht.create,H1=Hn.create,K1=Xt.create,V1=Re.create,W1=Re.strictCreate,G1=Yr.create,Y1=Va.create,X1=Xr.create,J1=It.create,Q1=Wa.create,ev=Kn.create,tv=Vn.create,rv=Ga.create,nv=Jr.create,iv=Qr.create,sv=en.create,av=tn.create,ov=_r.create,bm=ze.create,cv=Xe.create,uv=Bt.create,lv=ze.createWithPreprocess,fv=Gi.create,dv=()=>Fm().optional(),hv=()=>Cm().optional(),pv=()=>Tm().optional(),mv={string:t=>wr.create({...t,coerce:!0}),number:t=>Zr.create({...t,coerce:!0}),boolean:t=>Kr.create({...t,coerce:!0}),bigint:t=>Hr.create({...t,coerce:!0}),date:t=>Vr.create({...t,coerce:!0})},gv=L,Pu=Object.freeze({__proto__:null,defaultErrorMap:qn,setErrorMap:g1,getErrorMap:Za,makeIssue:Ha,EMPTY_PATH:w1,addIssueToContext:O,ParseStatus:xe,INVALID:L,DIRTY:zn,OK:Fe,isAborted:Nu,isDirty:Ru,isValid:Ki,isAsync:Vi,get util(){return X},get objectUtil(){return Ou},ZodParsedType:N,getParsedType:gr,ZodType:q,datetimeRegex:Dm,ZodString:wr,ZodNumber:Zr,ZodBigInt:Hr,ZodBoolean:Kr,ZodDate:Vr,ZodSymbol:Zn,ZodUndefined:Wr,ZodNull:Gr,ZodAny:yr,ZodUnknown:Yt,ZodNever:ht,ZodVoid:Hn,ZodArray:Xt,ZodObject:Re,ZodUnion:Yr,ZodDiscriminatedUnion:Va,ZodIntersection:Xr,ZodTuple:It,ZodRecord:Wa,ZodMap:Kn,ZodSet:Vn,ZodFunction:Ga,ZodLazy:Jr,ZodLiteral:Qr,ZodEnum:en,ZodNativeEnum:tn,ZodPromise:_r,ZodEffects:ze,ZodTransformer:ze,ZodOptional:Xe,ZodNullable:Bt,ZodDefault:rn,ZodCatch:nn,ZodNaN:Wn,BRAND:O1,ZodBranded:Wi,ZodPipeline:Gi,ZodReadonly:sn,custom:Am,Schema:q,ZodSchema:q,late:N1,get ZodFirstPartyTypeKind(){return M},coerce:mv,any:z1,array:K1,bigint:P1,boolean:Tm,date:M1,discriminatedUnion:Y1,effect:bm,enum:sv,function:rv,instanceof:R1,intersection:X1,lazy:nv,literal:iv,map:ev,nan:$1,nativeEnum:av,never:Z1,null:U1,nullable:uv,number:Cm,object:V1,oboolean:pv,onumber:hv,optional:cv,ostring:dv,pipeline:fv,preprocess:lv,promise:ov,record:Q1,set:tv,strictObject:W1,string:Fm,symbol:L1,transformer:bm,tuple:J1,undefined:j1,union:G1,unknown:q1,void:H1,NEVER:gv,ZodIssueCode:I,quotelessJson:m1,ZodError:Ue});var Yp=Pu.object({slug:Pu.string()}).passthrough();async function Im(t,e){let r=await wv(e,t),n=new(ym(e.settings.transformer.imageTransformer))(e);await n.onBeforeTransform();let i={...e,imageTf:n},s=await Promise.all(r.map(a=>yv(a,i)));return await n.onFinish(),s}var wv=async(t,e)=>(await Promise.all(e.map(async r=>({tFile:r,content:await t.cachedRead(r),meta:Oa(r,t)})))).filter(r=>r.meta instanceof Error?(e.length===1&&t.notice(`Error in file "${r.tFile.name}": ${r.meta.message}`),!1):!0);async function yv(t,e){let r=[[t.meta.frontmatterPosition,""],...await Xp(t,e),...e.settings.transformer.transformTags?wm(t):[]];return _v(t,r)}async function _v(t,e){let r=e.filter(s=>typeof s!="function"),n=e.filter(s=>typeof s=="function"),i=bv(t,r);for(let s of n)i=await s(i);return i}function bv(t,e){e.sort((r,n)=>n[0].start.offset-r[0].start.offset);for(let[r,n]of e)t.content=t.content.slice(0,r.start.offset)+n+t.content.slice(r.end.offset);return t}d();function Mu(t){if(t===null||typeof t!="object")return!1;let e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Lu(t,e,r=".",n){if(!Mu(e))return Lu(t,{},r,n);let i=Object.assign({},e);for(let s in t){if(s==="__proto__"||s==="constructor")continue;let a=t[s];a!=null&&(n&&n(i,s,a,r)||(Array.isArray(a)&&Array.isArray(i[s])?i[s]=[...a,...i[s]]:Mu(a)&&Mu(i[s])?i[s]=Lu(a,i[s],(r?`${r}.`:"")+s.toString(),n):i[s]=a))}return i}function ju(t){return(...e)=>e.reduce((r,n)=>Lu(r,n,"",t),{})}var Bm=ju(),wN=ju((t,e,r)=>{if(t[e]!==void 0&&typeof r=="function")return t[e]=r(t[e]),!0}),yN=ju((t,e,r)=>{if(Array.isArray(t[e])&&typeof r=="function")return t[e]=r(t[e]),!0});var Ya=class extends Ot.Plugin{async onload(){await this.loadSettings(),this.addRibbonIcon("file-up","Current file - Static Site MD Export",async()=>{new Ot.Notice("Starting process");let e=this.app.workspace.getActiveFile();if(e===null){new Ot.Notice("No file active");return}await this.process([e])}),this.addRibbonIcon("folder-up","All files - Static Site MD Export",async()=>{new Ot.Notice("Starting process");let e=this.app.vault.getMarkdownFiles();if(e===null){new Ot.Notice("No file active");return}await this.process(e)}),this.addSettingTab(new Ba(this.app,this))}onunload(){}async loadSettings(){this.settings=Bm(await this.loadData(),Vp)}async saveSettings(){await this.saveData(this.settings)}async process(e){let r=await Im(e,{cachedRead:(...a)=>this.app.vault.cachedRead(...a),readBinary:(...a)=>this.app.vault.readBinary(...a),getFileMetadata:(...a)=>this.app.metadataCache.getFileCache(...a),resolveLink:(...a)=>this.app.metadataCache.getFirstLinkpathDest(...a),notice:(...a)=>new Ot.Notice(...a),settings:this.settings}),{promise:n,handler:i}=Ca();new Ta(this.app,r,i).open();try{await n}catch(a){return}let s=await Kp(r,this.settings.uploader.git,this.app);s&&new Xa(s,this.app).open(),console.log("process complete")}},Xa=class extends Ot.Modal{constructor(e,r){super(r),this.title=e.title,this.content=e.content,this.stage=e.stage,console.error(e.error)}onOpen(){this.setTitle(`Error: ${this.title}`),this.contentEl.createEl("p",{text:`Error occurred in ${this.stage} process.`}),this.contentEl.createEl("p",{text:this.content})}};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

crc-32/crc32.js:
  (*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com *)
*/

/* nosourcemap */