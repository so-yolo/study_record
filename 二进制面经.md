
---
**基础知识**：
1.Linux程序如何将硬盘加载到内存?
2.什么是plt表和got表?
3.二进制除了溢出之外的漏洞?
4.windows/linux基本保护机制（nx，aslr，pie，canary），怎么绕过?
5.Windows/linux内核漏洞与攻击手段?
6.c++函数调用约定?
7.fastcall,stdcall 等call的区别?
8.c++的参数传递，x86 x64怎么传?
9.c++的 this指针用什么寄存器?
10.PXN是啥，还有smep，smap？
11.有研究过一些windows的二进制漏洞利用吗?
12.用户态漏洞讲讲有什么？

---
**主观问题：**
1.逆向方面有什么思路吗，有研究过一些逆向算法吗：
2.对什么方向比较兴趣，漏洞挖掘还是利用：
3.做过安卓的利用吗
4.有什么想问我的
5.做一下自我介绍，把实习和项目都介绍一下
6.介绍一下rhg可以做到什么程度，能进行哪些漏洞利用，能绕过哪些保护措施
7.rhg参加的是什么比赛，是bctf吗
8.如果让你做内核的安全研究，你想从哪一块入手，为什么
9.我之前编写的病毒
10.漏洞挖掘的理解
11.自我介绍

讲讲windows漏洞?
写过什么shellcode，exp
复现windows的CVE漏洞分析
说说PE文件格式
说说常见脱壳思路
拖过什么壳
vmprotect的原理，穿山甲的行为
iat表重建，image_header,image_optiopal_header
hook原理，多态概念，虚函数实现原理，虚函数hook怎么做
一道你印象最深的CTF题目
内核懂是吧，讲讲内核内存分配原理?
内核堆分配，slab行为?
内核double free为什么可以这样 （回到了上一问）?
内核你不行啊，说说afl源码

cfi知道吗？
aslr绕过思路?
windows漏洞简单说说
hook简单说说
你一般怎么去调试漏洞的
有一个漏洞要你去复现分析，你整个的思路是什么？
你怎么用的内核调试工具


2、snprintf的返回值
3、Linux，安卓体系架构，，可以从x86,arm上来说
4、介绍一下自己的安全经历
5、都挖过哪些洞，详细分析一下
6、当时是怎么分析的，具体的分析细节，具体是怎么绕过的
7、说一下你了解的漏洞原理，（堆栈，整数溢出，格式化字符串之类的）
8、说一下ROP原理吧
9、说一下你实际怎么使用ROP的
12、说一下Linux内核中一些权限模式吧，说你的理解就行（我当时说的是进程内存分配，文件权限模式（分组，访问标志位之类的）
13、说一下Linux 下S1，以及如何。。。（我说是类似于文件加锁，如何删除吗）。。
14、个人编程能力
1、你除了apk的脱壳签名绕过破解之类的有没有挖到过安卓的漏洞
2、你打的比赛你都做了哪些题
4、你是怎么挖掘那些漏洞的怎么分析的、不许说复现的
5、你了解一些协议吗，还有流量分析抓包的
6、iot安全你了解吗

---

**FUZZ 相关：**
1.AFL对于有源码和无源码的插桩原理?
2.对比一下qemu模式fuzz和源码模式fuzz?
3.说说qemu模式的动态插桩怎么实现的，有什么优缺点?
4.fuzz普通程序和数据库有哪些不同点?
5.看你的博客有用过afl++去挖漏洞，说说afl++和afl有哪些不同?
6.你觉得afl++有哪些策略对你来说很有用?
7.说说afl有哪些模块，每个模块的流程?
8.afl-fuzz为什么速度很快?
9.数据库fuzz你有哪些改进思路?
10.数据库的漏洞利用除了dos还能达到什么程度?
11.怎么选择fuzz测试点（感觉类似于fuzz单个API函数吧）?
12.介绍一下fuzz的流程，从选取目标开始?
13.你认为AFL能够fuzz Linux内核吗？（我当时说的有一个syzkaller可以模糊内核了）
14.共享内存实现原理?
15.怎么给AFL做适配去fuzz数据库?
16.讲一下AFL的插桩原理?
17.你做的一些改动afl提升了什么，有比较好的效果吗，有没有挖出漏洞？
18.说一下模糊测试原理，以及你对模糊测试做了哪些工作
19.你用的fuzz是python写的还是c写的
20.有没有用fuzz挖到过漏洞？
21.模糊测试、符号执行原理，以及你对模糊测试做了什么
22.fuzz的概念，afl与程序交互的方法，afl fuzz过什么？afl 有什么成果?
23.afl 改进思路?
24.fuzz变异算法?
25.fuzz回显思路?
26.asan行为,原理?
27.根据asan，想想漏洞检测的思路?
28.afl的插桩措施，运行模式?
29.afl进行的程序交互，管道，有别的进程交互实现吗？
30.afl在记录路径的时候分类，路径那么多用的什么实现记录的?
31.fuzz的理解与自己感觉有什么优势

---
**堆相关：**
1.fastbin attack的原理?
2.堆漏洞利用(double free,uaf....)?
3.linux堆管理，glibc/slab/伙伴算法?
4.说说用户态的double free?
5.ptmalloc2的分配源码，fastbin的分配机制?
6.IO_file 结构体攻击?
7.windows下unlink？




---
**栈相关：**
1.mips溢出漏洞原理?
2.讲讲分析过的mips栈溢出漏洞的分析过程?
3.栈上漏洞有哪些?
4.说一下最简单格式化字符串print()怎么利用?
5.SEH栈溢出利用思路?




---
**内核相关：**
1.脏牛?
2.Linux内核你了解哪部分，内存、网络、设备？
3.问问内核cve复现?
4.问问常见内核cve的利用思路？
5.内核slab分配？
6.说说堆内存破坏
7.问对于ptmalloc之外的分配了解吗
8.问了问堆风水
9.问了问cve复现，独立编写过exp，怎么写的（实际就是跟着复现...）?
10.假如堆的控制头不在堆数据前，如何构造利用(一开始以为是说类似slab比较大的情况下）?
11.内核栈溢出?
12.内核ROP，cred结构体覆盖?
13.通用提权语句?
14.内核UAF,内核double free?
15.内核保护绕过?
16.讲讲复现的CVE,内核堆溢出?



---
**web 相关：**
1.web漏洞有哪些？
2.SQL注入、XSS攻击原理?
3.ARP欺骗怎么实现的？
4.如何判断远端服务器的操作系统？





---
**iot 相关：**
1.iot协议?
2.有没有对路由器进行分析，出结果了吗，整个过程思路？
3.有没有写过实际的利用exp（写过路由器的），路由器那个exp能达到什么效果，能rce吗：
4.有rots固件的分析思路吗：





---
一面：

简短的自我解释
gdb 断点的实现原理、硬件断点和软件断点的原理及其优缺点（答的一般）
c 语言如何实现类似面向对象的功能（经过好久的提示才答出来了）
字符设备和块设备的特点，举例子哪些是字符设备，哪些是块设备（块设备举例就举了个磁盘，当时有点懵逼了，然后面试官不是很满意）
是否了解过 linux 的内存管理、设备管理、进程管理等子系统的实现（了解过内存管理和设备管理，然后简单的问了下设备管理相关的东西）
linux 是如果通过文件名找到对应的文件内容的（inode巴拉巴拉)
inode 节点存储在那个位置，其数据结构是怎么样的（答的磁盘，然后面试官又问我在磁盘的那个区，不知道…，然后数据结构不知道）
零拷贝和写时拷贝的概念以及他们分别解决了什么问题（答的很烂，反正就勉勉强强，太紧张了，最开始还把两个说反了，艹）
讲下 dirty pipe 漏洞，你认为这个漏洞出现的原因是什么（这里我答的很烂，太紧张了，其实这里应该从 splice 系统调用和匿名管道讲起的，但是我直接就说 splice 未初始化，给面试官都搞无语了…）
splice 是为了解决什么问题，其为什么能够减少系统开销（我答的是直接在内核的page_cache中进行数据交换，然后他还接着问了下其它问题，但是我忘了）
你是怎么接触到内核利用的（巴拉巴拉）
c++ 中 switch 语句在汇编层是怎么实现的（这里我说的 jump table，但是他问我除了 jump table 还有其他形式吗？然后我说不知道了…）
接着上问：问我 jump table 存储在那个区域（这里我答的只读数据段）
接着上问：问我还有什么结构是存储在只读数据段的（不了解，艹，这里其实还有很多可以说的，比如常量字符串啥的，但是脑子真懵逼了）
c++ 中引用和指针的区别，什么时候必须使用引用而不能使用指针（不清楚，说实话，我一直用的C，引用都没咋用过）
c++ 中引用和指针在汇编层有什么区别（不清楚，谁没事观察这个啊…）
中断的执行阶段有哪些，缺点是什么（答的很烂，就把操作系统实验上学的搬了过去，面试管也不是很满意）
利用中断实现系统调用为什么会增加系统开销（这个我真不知道咋说，反正就知道啥说啥了…）
之前的 linux 中系统调用的实现，目前 linux 中系统调用的实现是怎么样，其为什么能够减少系统开销（之前是使用 int 0x80，现在是syscall/sysret，其只有使用了MSRs寄存器组，然后就巴拉巴拉）
linux 从用户态切换到内核态其寄存器信息保存在什么地方（内核栈栈底）
canary 的实现原理以及其是为了解决什么问题（栈溢出，然后讲下具体原理即可）
canary 存储在哪里（这里我答 TLS）
接着上问：问我如何获取 TLS 结构（我答通过 fs:0x28）
接着上问：只能用 fs 寄存器吗？（我答还可以通过 gs 寄存器）
接着上问：fs 和 gs 寄存器有什么区别（我想了好久说了个没区别，然后面试官告诉我确实没啥区别，不同平台和架构用的不一样而言【这不是坑我吗？我还真以为有啥区别呢…因为我记得 fs 是针对用户态的，gs 是针对内核态寻找 per_cpu 变量的…】）
还有很多问题，我都忘记了（但都是一些基础知识）…
后面想到了一些问题：当时面试官还问了我有没有了解过内核侧信道攻击，然后我给面试官讲了一个具体的内核侧信道漏洞，没错，就是某内核利用大师的 EntryBleed 漏洞（由于我自己之前研究过，所以答的还不错），然后具体讲了下预取指令的特性
后面又问了很经典的 Spectre and Meltdown 漏洞（：这里问的很简单很简单，就问是不是其是不是侧信道攻击
注：V8 我答的不是很好了，哎，如果对 V8 不是很熟悉，最好就别写了

V8 讲下 turbofan 中你印象深刻的优化趟
讲下 typer 趟主要做了什么
讲下 load elimination 趟主要做了什么
讲讲常数折叠
讲讲逃逸分析
你复现的漏洞其实都是很老的漏洞了，请问你有跟踪过最近的漏洞吗？（无…乐，笔者复现的基本都是 2020 的，然后面试官告诉我，其实 turbofan 现在几乎很难在挖到漏洞了，然后让我多跟踪一下目前的比较前言的技术或者漏洞）
然后还问了一些 V8 相关的，笔者基本都是不了解，不清楚，所以就不记录了
然后就是闲谈了

你有读研的打算吗？还是想直接工作？
这两个方向你是更偏向于内核还是浏览器呢？（我答的内核）
现在我们实验室其实搞 linux 内核比较少了，基本都是搞 Windows 和 MAC（悲，…这就应该算是婉拒了）
然后就是经典反问：我问了下他们每天的工作日常
他告诉就是优化 fuzz，分析 crash，写高 level 的利用脚本，形成武器库（然后我也不会 fuzz)
最后他告诉我，fuzz 是必备的（又一次拒绝了？如果一开始面试就告诉我 fuzz 必须会，哪可能就直接结束了，乐）
这次面试面了一个多小时，虽然问的问题不算难，但是不知道为啥脑子一片空白，所以总体来说就是全程被拷打，虽然失败了，但是从面试中我也知道了自己的不足，以及以后应该往那个方向努力。

二面：
没想到挺到了二面，但是是群面，一共四五个人吧，有几个个内核组的，几个浏览器组的。
内核方向问的都挺基础的，没啥好说的，感觉有一个面试官是打CTF的，问的很多跟CTF相关

用户态问了栈溢出、非栈上的格式化字符串漏洞、canary、ptmalloc的管理结构等基础，如果你打CTF，并且学习 PWN 两个月以上（大佬可能更快），基本都能答出来
然后问了用户态子线程的堆管理相关的东西
内核态问了一些常见的保护和绕过方式，然后还问了一些漏洞利用相关的，比如如何绕过 SMEP 等（这里得好好准备下，因为面试官会一直问你：还有其它方法吗？所以还是多总结一些漏洞利用姿势，和一些绕过相关保护的多种姿势）
然后我简历上写了我软件安全课程写过 PE 病毒，所以问了我一些 PE 相关的东西，比如如何寻找某个函数的地址，然后问了下 IAT 等表，还问了我如何直接在kernel32.dll中寻找gadget（不用工具）【这里我答的比较烂，感觉不是面试官心中的答案】
然后问了我一个自己之前原创的针对内核小对象 Double Free 的攻击方法，就问了我如果实施攻击，然后问了下内核堆风水的问题（但是其好像不是堆风水的问题，主要是Cross Cache Attack的问题）
然后还有一些杂七杂八的问题，比如cpp逆向时，类的this指针保存在那个寄存器中等待问题，但是太久了，基本忘了
总结：基本问的都是漏洞利用相关的，由于笔者不会漏洞挖掘，所以基本没问我漏洞挖掘的东西。然后本以为会问我 linux
内核内存管理和设备管理的东西，但是没有问，只能说白（逃）准（过）备（一）了（劫）

浏览器方向一如既往的不会，早知道不写了，吐了，又被面试管拷打了

又让我说 turbofan 呜呜呜…
问了一些 V8 漏洞利用相关的，比较简单，然后让我讲了一个漏洞的利用，也还 OK
问了一些 V8 对象模型相关的，比较简单
然后问我编译原理、优化相关的，嗯…答的不是很好，后悔为啥大二没有好好学了
然后还问我浏览器中的攻击面（没答上来，接触不久）
当时还问我除了UAF漏洞，浏览器中还有哪些经常出现的漏洞（当时我已经被好几个面试官拷打了，所以心态有点绷，然后没答的太好，其实在浏览器中，类型混淆是经常出现的漏洞，然后 OOB 也是 JIT 优化中很常见的漏洞）
然后还有一些杂七杂八的问题，主要是漏洞利用那一块的，忘了
然后就是漏洞挖掘了，但是我不会，嘿嘿
最后还是问下了漏洞挖掘相关的

问我在打CTF，拿到一个题目如何去挖掘漏洞（这里的答的调试分析）
经典话术：调试分析 ==> patch 后继续调试分析（乐）
然后我说我在一面后就去看了 AFL 源码，好家伙，立马让我讲下 AFL 架构（所以有时候不要多嘴，但是如果你答的好的话，会让面试官认为你的学习能力比较强。这里我说我去看 AFL 源码的原因是因为面试的部门就是搞漏洞挖掘的，并且一面、二面也强调要会 Fuzz，所以这里你给面试官一个留下你的理由，毕竟人家部门就是搞漏洞挖掘的，但是你却啥也不会）
经典反问：

我说：师兄们可以给我一些学习上的建议吗？【这个是真心想问的，因为在二进制方向，自己一直都是一个人瞎搞，没有大佬带，完全没有体系】
面试官主要还是说我搞的一些东西都太老了，让我多跟踪一些新的技术，后面还给了我一些建议，都挺好的
最后还是一如既往的要求会 fuzz 所以直接没了（所以为啥要我进二面，我一面不是说了我不会 fuzz 吗？呜呜呜）

编译原理还是要好好学的，不然像我一样，很多优化都搞不懂…AST/IR
Fuzz 也不会写…菜狗一个




